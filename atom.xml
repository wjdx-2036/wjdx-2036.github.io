<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>zhishengçš„åšå®¢</title>
  
  <subtitle>å‘è¦ä¸€ä¸ªä¸ªå¡«ï¼Œè·¯è¦ä¸€æ­¥æ­¥èµ°ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-04-19T03:02:27.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>zhisheng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</title>
    <link href="http://yoursite.com/2018/04/18/spring_boot2_project/"/>
    <id>http://yoursite.com/2018/04/18/spring_boot2_project/</id>
    <published>2018-04-17T16:00:00.000Z</published>
    <updated>2018-04-19T03:02:27.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhraflay7j31hc0zk0z1.jpg" alt="fireworks-2585843_1920"></p><a id="more"></a><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/</a></p><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhsa07r59j30ps104gpd.jpg" alt="springboot2001"></p><p>ç»“æ„åˆ†æï¼š</p><ul><li>Spring-boot-project   æ ¸å¿ƒä»£ç ï¼Œä»£ç é‡å¾ˆå¤šï¼ˆ197508 è¡Œï¼‰</li><li>Spring-boot-samples  ä¸€äº›æ ·ä¾‹ demoï¼Œä»£ç é‡ä¸å¤šï¼ˆ9685 è¡Œï¼‰ï¼Œè›®æœ‰ç”¨çš„</li><li>Spring-boot-samples-invoker  é‡Œé¢æ— ä»£ç </li><li>Spring-boot-tests   æµ‹è¯•ä»£ç ï¼ˆ1640 è¡Œï¼‰</li></ul><h3 id="spring-boot-project"><a href="#spring-boot-project" class="headerlink" title="spring-boot-project"></a>spring-boot-project</h3><p>Spring-boot-project ä¸‹é¢æœ‰å¾ˆå¤šæ¨¡å—ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fqhs874239j30p00n2dip.jpg" alt="springboot2002"></p><h4 id="Spirng-boot"><a href="#Spirng-boot" class="headerlink" title="Spirng-boot"></a>Spirng-boot</h4><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqhs885a4zj30xk1ea78a.jpg" alt="springboot"></p><p>è¯¥æ¨¡å— 47760 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼ŒSpring boot ä¸»è¦çš„åº“ï¼Œæä¾›äº†æ”¯æŒ Spring Boot å…¶ä»–éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ï¼š</p><ul><li>åœ¨<code>SpringApplication</code>ç±»ï¼Œæä¾›é™æ€ä¾¿æ·æ–¹æ³•ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å†™ä¸€ä¸ªç‹¬ç«‹çš„ Spring åº”ç”¨ç¨‹åºã€‚å®ƒå”¯ä¸€çš„å·¥ä½œå°±æ˜¯åˆ›é€ å¹¶æ›´æ–°ä¸€ä¸ªåˆé€‚çš„ Spring<code>ApplicationContext</code></li><li>å¸¦æœ‰å¯é€‰å®¹å™¨çš„åµŒå…¥å¼ Web åº”ç”¨ç¨‹åºï¼ˆTomcatï¼ŒJetty æˆ– Undertowï¼‰</li><li>ä¸€æµçš„å¤–éƒ¨é…ç½®æ”¯æŒ</li><li>ä¾¿æ·<code>ApplicationContext</code>åˆå§‹åŒ–ç¨‹åºï¼ŒåŒ…æ‹¬å¯¹æ•æ„Ÿæ—¥å¿—è®°å½•é»˜è®¤å€¼çš„æ”¯æŒ</li></ul><h4 id="spring-boot-actuator"><a href="#spring-boot-actuator" class="headerlink" title="spring-boot-actuator"></a>spring-boot-actuator</h4><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fqhs8ibzjzj30xk15mjv8.jpg" alt="springboot-actuator"></p><p>è¯¥æ¨¡å— 18398 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼Œspring-boot-actuator æ¨¡å—å®ƒå®Œå…¨æ˜¯ä¸€ä¸ªç”¨äºæš´éœ²è‡ªèº«ä¿¡æ¯çš„æ¨¡å—ï¼Œæä¾›äº†ä¸€ä¸ªç›‘æ§å’Œç®¡ç†ç”Ÿäº§ç¯å¢ƒçš„æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨ httpã€jmxã€sshã€telnet ç­‰ç®¡ç†å’Œç›‘æ§åº”ç”¨ã€‚å®¡è®¡ï¼ˆAuditingï¼‰ã€ å¥åº·ï¼ˆhealthï¼‰ã€æ•°æ®é‡‡é›†ï¼ˆmetrics gatheringï¼‰ä¼šè‡ªåŠ¨åŠ å…¥åˆ°åº”ç”¨é‡Œé¢ã€‚</p><h4 id="spring-boot-actuator-autoconfigure"><a href="#spring-boot-actuator-autoconfigure" class="headerlink" title="spring-boot-actuator-autoconfigure"></a>spring-boot-actuator-autoconfigure</h4><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fqhs8hfazpj30wi1dy0xb.jpg" alt="springboot-actoator-autoconfig"></p><p>è¯¥æ¨¡å— 16721 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼ŒSpring Boot Actuator æä¾›äº†é¢å¤–çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®ç°å¯å³æ—¶éƒ¨ç½²å’Œæ”¯æŒçš„åŠŸèƒ½ï¼Œä»è€Œè£…é¥°ä½ çš„åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨ç¼–å†™ JSON Web æœåŠ¡ï¼Œé‚£ä¹ˆå®ƒå°†æä¾›æœåŠ¡å™¨ï¼Œå®‰å…¨æ€§ï¼Œæ—¥å¿—è®°å½•ï¼Œå¤–éƒ¨é…ç½®ï¼Œç®¡ç†ç«¯ç‚¹ï¼Œå®¡è®¡æŠ½è±¡ç­‰ç­‰åŠŸèƒ½ã€‚å¦‚æœæ‚¨æƒ³å…³é—­å†…ç½®åŠŸèƒ½ï¼Œæˆ–è€…æ‰©å±•æˆ–æ›¿æ¢å®ƒä»¬ï¼Œå®ƒä¹Ÿä¼šå˜å¾—éå¸¸ç®€å•ã€‚</p><h4 id="spring-boot-autoconfigure"><a href="#spring-boot-autoconfigure" class="headerlink" title="spring-boot-autoconfigure"></a>spring-boot-autoconfigure</h4><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqhs89img2j30xs0og0uz.jpg" alt="springboot-autoconfig"></p><p>è¯¥æ¨¡å— 51100 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼Œ Spring Boot å¯ä»¥æ ¹æ®ç±»è·¯å¾„çš„å†…å®¹é…ç½®å¤§éƒ¨åˆ†å¸¸ç”¨åº”ç”¨ç¨‹åºã€‚å•ä¸ª<code>@EnableAutoConfiguration</code>æ³¨é‡Šä¼šè§¦å‘ Springä¸Šä¸‹æ–‡çš„è‡ªåŠ¨é…ç½®ã€‚</p><p>è‡ªåŠ¨é…ç½®å°è¯•æ¨æ–­ç”¨æˆ·å¯èƒ½éœ€è¦å“ªäº› beanã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>HSQLDB</code>åœ¨ç±»è·¯å¾„ä¸­ï¼Œå¹¶ä¸”ç”¨æˆ·å°šæœªé…ç½®ä»»ä½•æ•°æ®åº“è¿æ¥ï¼Œåˆ™ä»–ä»¬å¯èƒ½éœ€è¦å®šä¹‰å†…å­˜æ•°æ®åº“ã€‚å½“ç”¨æˆ·å¼€å§‹å®šä¹‰ä»–ä»¬è‡ªå·±çš„ bean æ—¶ï¼Œè‡ªåŠ¨é…ç½®å°†æ°¸è¿œè¿œç¦»ã€‚</p><h4 id="spring-boot-cli"><a href="#spring-boot-cli" class="headerlink" title="spring-boot-cli"></a>spring-boot-cli</h4><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqhsa2hmasj30x21aqq6j.jpg" alt="springboot-cli"></p><p>è¯¥æ¨¡å— 9346 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼ŒSpring å‘½ä»¤è¡Œåº”ç”¨ç¨‹åºç¼–è¯‘å¹¶è¿è¡Œ Groovy æºä»£ç ï¼Œä½¿å¾—å¯ä»¥ç¼–å†™å°‘é‡ä»£ç å°±èƒ½è¿è¡Œåº”ç”¨ç¨‹åºã€‚Spring CLI ä¹Ÿå¯ä»¥ç›‘è§†æ–‡ä»¶ï¼Œå½“å®ƒä»¬æ”¹å˜æ—¶è‡ªåŠ¨é‡æ–°ç¼–è¯‘å¹¶é‡æ–°å¯åŠ¨ã€‚</p><h4 id="spring-boot-dependencies"><a href="#spring-boot-dependencies" class="headerlink" title="spring-boot-dependencies"></a>spring-boot-dependencies</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhs9xrj6qj31kw16be31.jpg" alt="springboot-dependencies"></p><p>è¯¥æ¨¡å—é‡Œé¢æ²¡æœ‰æºç ï¼Œåªæœ‰æ‰€æœ‰ä¾èµ–å’Œæ’ä»¶çš„ç‰ˆæœ¬å·ä¿¡æ¯ã€‚</p><h4 id="spring-boot-devtools"><a href="#spring-boot-devtools" class="headerlink" title="spring-boot-devtools"></a>spring-boot-devtools</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhs9z88hrj30v41bw785.jpg" alt="springboot-devtools"></p><p>è¯¥æ¨¡å— 9418 è¡Œä»£ç ï¼ˆå«æµ‹è¯•ä»£ç ï¼‰ï¼Œspring-boot-devtools æ¨¡å—æ¥ä½¿ Spring Boot åº”ç”¨æ”¯æŒçƒ­éƒ¨ç½²ï¼Œæé«˜å¼€å‘è€…çš„å¼€å‘æ•ˆç‡ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯ Spring Boot åº”ç”¨ã€‚</p><h4 id="spring-boot-docs"><a href="#spring-boot-docs" class="headerlink" title="spring-boot-docs"></a>spring-boot-docs</h4><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fqhs8affekj30xo1ecdkr.jpg" alt="springboot-docs"></p><p>è¯¥æ¨¡å— 671 è¡Œä»£ç ï¼Œspringboot å‚è€ƒæ–‡ä»¶ã€‚</p><h4 id="spring-boot-parent"><a href="#spring-boot-parent" class="headerlink" title="spring-boot-parent"></a>spring-boot-parent</h4><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fqhs8dxfnij31kw0zrqkw.jpg" alt="springboot-parent"></p><p>è¯¥æ¨¡å—æ˜¯å…¶ä»–é¡¹ç›®çš„ parentï¼Œè¯¥æ¨¡å—çš„çˆ¶æ¨¡å—æ˜¯ spring-boot-dependenciesã€‚</p><h4 id="spring-boot-properties-migrator"><a href="#spring-boot-properties-migrator" class="headerlink" title="spring-boot-properties-migrator"></a>spring-boot-properties-migrator</h4><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fqhs9wkyvsj30um18678o.jpg" alt="springboot-properties-migrator"></p><p>è¯¥æ¨¡å—æœ‰ 495 è¡Œä»£ç ï¼Œåœ¨ Spring Boot 2.0 ä¸­ï¼Œè®¸å¤šé…ç½®å±æ€§è¢«é‡æ–°å‘½å/åˆ é™¤ï¼Œå¼€å‘äººå‘˜éœ€è¦æ›´æ–°<code>application.properties</code>/ <code>application.yml</code>ç›¸åº”çš„é…ç½®ã€‚ä¸ºäº†å¸®åŠ©ä½ è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒSpring Boot å‘å¸ƒäº†ä¸€ä¸ªæ–°<code>spring-boot-properties-migrator</code>æ¨¡å—ã€‚ä¸€æ—¦ä½œä¸ºè¯¥æ¨¡å—ä½œä¸ºä¾èµ–è¢«æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå®ƒä¸ä»…ä¼šåˆ†æåº”ç”¨ç¨‹åºçš„ç¯å¢ƒï¼Œè€Œä¸”è¿˜ä¼šåœ¨å¯åŠ¨æ—¶æ‰“å°è¯Šæ–­ä¿¡æ¯ï¼Œè€Œä¸”è¿˜ä¼šåœ¨è¿è¡Œæ—¶ä¸ºæ‚¨æš‚æ—¶è¿ç§»å±æ€§ã€‚åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºè¿ç§»æœŸé—´ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯å¿…å¤‡çš„ï¼Œå®Œæˆè¿ç§»åï¼Œè¯·ç¡®ä¿ä»é¡¹ç›®çš„ä¾èµ–å…³ç³»ä¸­åˆ é™¤æ­¤æ¨¡å—ã€‚</p><h4 id="spring-boot-starters"><a href="#spring-boot-starters" class="headerlink" title="spring-boot-starters"></a>spring-boot-starters</h4><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhs8foqadj31he1hwh5l.jpg" alt="springboot-starter"></p><p>Starter POMs æ˜¯ç”±å¾ˆå¤šæ–¹ä¾¿çš„ä¾èµ–é›†åˆç»„æˆï¼Œå¦‚æœä½ éœ€è¦ä½¿ç”¨æŸç§æŠ€æœ¯ï¼Œé€šè¿‡æ·»åŠ å°‘é‡çš„jarå°±å¯ä»¥æŠŠç›¸å…³çš„ä¾èµ–åŠ å…¥åˆ°é¡¹ç›®ä¸­å»ã€‚</p><p>è™½ç„¶ä½ çœ‹å¾—åˆ°æœ‰è¿™ä¹ˆå¤š starterï¼Œä½†æ˜¯å´æ²¡æœ‰ä¸€è¡Œ Java ä»£ç ï¼Œæ„ä¸æ„å¤–ï¼Ÿ</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fqhs84zby0j31kw0xdkb0.jpg" alt="springboot-starter-activemq"></p><p>è¿™ç¡®å®æ˜¯ Spring Boot è‡ªåŠ¨é…ç½®çš„å…³é”®ä¹‹å¤„ï¼Œåé¢æˆ‘å¯ä»¥è®²è®²ã€‚</p><h4 id="spring-boot-test"><a href="#spring-boot-test" class="headerlink" title="spring-boot-test"></a>spring-boot-test</h4><p>æµ‹è¯•ä»£ç ï¼æœ‰ 10980 è¡Œä»£ç ã€‚</p><h4 id="spring-boot-test-autoconfigure"><a href="#spring-boot-test-autoconfigure" class="headerlink" title="spring-boot-test-autoconfigure"></a>spring-boot-test-autoconfigure</h4><p>è‡ªåŠ¨é…ç½®çš„æµ‹è¯•ä»£ç ï¼Œæœ‰ 6063 è¡Œä»£ç ã€‚</p><h4 id="spring-boot-tools"><a href="#spring-boot-tools" class="headerlink" title="spring-boot-tools"></a>spring-boot-tools</h4><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fqhs8kcu5ej30ri0lqwh5.jpg" alt="springboot-tools"></p><ul><li><p>spring-boot-antlib</p><p>Spring Boot AntLib æ¨¡å—ä¸º Apache Ant æä¾›äº†åŸºæœ¬çš„ Spring Boot æ”¯æŒã€‚ æ‚¨å¯ä»¥ä½¿ç”¨è¯¥æ¨¡å—åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶å¤¹ã€‚ è¦ä½¿ç”¨è¯¥æ¨¡å—ï¼Œæ‚¨éœ€è¦åœ¨ build.xml ä¸­å£°æ˜ä¸€ä¸ªé¢å¤–çš„ spring-boot å‘½åç©ºé—´ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns:ivy</span>=<span class="string">"antlib:org.apache.ivy.ant"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:spring-boot</span>=<span class="string">"antlib:org.springframework.boot.ant"</span></span></span><br><span class="line"><span class="tag"><span class="attr">name</span>=<span class="string">"myapp"</span> <span class="attr">default</span>=<span class="string">"build"</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‚¨éœ€è¦è®°ä½ä½¿ç”¨ -lib é€‰é¡¹å¯åŠ¨ Antï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ant -lib &lt;folder containing spring-boot-antlib-2.1.0.BUILD-SNAPSHOT.jar&gt;</span><br></pre></td></tr></table></figure></li><li><p>Spring-boot-autoconfigure-processor</p><p>spring boot è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒç±»</p></li><li><p>Spring-boot-configuration-metadata</p><p>Spring boot é…ç½®å…ƒæ•°æ®</p></li><li><p>Spring-boot-configuration-processor</p><p>spring boot é…ç½®çš„æ ¸å¿ƒ</p></li><li><p>Spring-boot-gradle-plugin</p><p>Spring Boot Gradle æ’ä»¶åœ¨ Gradle ä¸­æä¾›äº† Spring Boot æ”¯æŒï¼Œå¯ä»¥æ‰“åŒ…æˆå¯æ‰§è¡Œ jar æˆ– war ï¼Œè¿è¡Œ Spring Boot åº”ç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨ spring-boot-dependencies æä¾›çš„ä¾èµ–å…³ç³»ç®¡ç†ã€‚ å®ƒéœ€è¦ Gradle 4.0 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</p></li><li><p>Spring-boot-maven-plugin</p><p>Spring Boot Maven Plugin åœ¨ Maven ä¸­æä¾›äº† Spring Boot æ”¯æŒï¼Œè®©æ‚¨å¯ä»¥æ‰“åŒ…æˆå¯æ‰§è¡Œ jar æˆ– war åº”ç”¨ï¼Œå¹¶â€œå°±åœ°â€è¿è¡Œåº”ç”¨ç¨‹åºã€‚ è¦ä½¿ç”¨å®ƒï¼Œä½ å¿…é¡»ä½¿ç”¨ Maven 3.2ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚</p></li><li><p>Spring-boot-loader</p><p>spring-boot-load æ¨¡å—é€šè¿‡è‡ªå®šä¹‰ jar åŒ…ç»“æ„ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œä¼˜é›…çš„å®ç°äº†åµŒå¥— jar èµ„æºçš„åŠ è½½ï¼Œé€šè¿‡æ‰“åŒ…æ—¶å€™é‡æ–°è®¾ç½®å¯åŠ¨ç±»å’Œç»„ç»‡ jar ç»“æ„ï¼Œé€šè¿‡è¿è¡Œæ—¶è®¾ç½®è‡ªå®šä¹‰åŠ è½½å™¨æ¥å®ç°åµŒå¥— jar èµ„æºåŠ è½½ã€‚</p></li><li><p>Spring-boot-loader-tools</p><p>spring-boot-load æ¨¡å—çš„å·¥å…·æ¨¡å—</p></li><li><p>Spring-boot-test-support</p><p>æµ‹è¯•</p></li></ul><h3 id="spring-boot-samples"><a href="#spring-boot-samples" class="headerlink" title="spring-boot-samples"></a>spring-boot-samples</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqhsa4qklcj31kw11y7ud.jpg" alt="springboot-samples"></p><p>æ ·ä¾‹ demo æ¯”è¾ƒå¤šï¼Œå¤§å®¶çœ‹æºç çš„æ—¶å€™å¯ä»¥æ‹¿è¿™äº›ç°æˆ demo æµ‹è¯•ã€‚</p><h3 id="spring-boot-tests"><a href="#spring-boot-tests" class="headerlink" title="spring-boot-tests"></a>spring-boot-tests</h3><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqhs8cezdbj30ui1dqagt.jpg" alt="springboot-tests"></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</a></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡ä¸»è¦åˆ†æäº†ä¸‹ Spring boot é¡¹ç›®æºç ç»“æ„ã€‚åŒ…å« Spring boot æ ¸å¿ƒæºç ã€æ ·ä¾‹ demoã€æµ‹è¯•ã€‚åˆ†æäº†é¡¹ç›®çš„æ•´ä½“ç»“æ„åï¼Œåé¢æ‰èƒ½å¤Ÿæœ‰çš„æ”¾çŸ¢çš„å»è¯»æºç ã€‚</p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è™½ç„¶æºç å¾ˆéš¾ï¼Œä½†éšç€ä¸æ–­çš„æ¢ç´¢ï¼Œæºç åœ¨ä½ é¢å‰å°†ä¼šä¸€è§ˆæ— é—ï¼Œäº«å—è¿™ç§æ¢ç´¢åçš„æˆå°±æ„Ÿï¼åŠ æ²¹ï¼éªšå¹´ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws1.sinaimg.cn/large/006tKfTcgy1fqhraflay7j31hc0zk0z1.jpg&quot; alt=&quot;fireworks-2585843_1920&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</title>
    <link href="http://yoursite.com/2018/04/15/springboot2_code/"/>
    <id>http://yoursite.com/2018/04/15/springboot2_code/</id>
    <published>2018-04-14T16:00:00.000Z</published>
    <updated>2018-04-19T02:20:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fqdma0kpk1j31hc0zkqox.jpg" alt="night-photograph-2183637_1920"></p><a id="more"></a><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>å‰å‡ å¤©é¢è¯•çš„æ—¶å€™ï¼Œè¢«é—®è¿‡ Spring Boot çš„è‡ªåŠ¨é…ç½®æºç æ€ä¹ˆå®ç°çš„ï¼Œæ²¡çœ‹è¿‡æºç çš„æˆ‘åªèƒ½æŠ•é™ğŸ‘¦äº†ã€‚</p><p>è¿™ä¸ï¼Œèµ¶ç´§æ¥è¡¥è¡¥äº†ï¼Œæ‰€ä»¥æ‰æœ‰äº†è¿™ç¯‡æ–‡ç« çš„å‡ºç°ï¼ŒSpring Boot 2. 0 æºç é˜…è¯»ç¯å¢ƒçš„æ­å»ºä¸­è¿˜é‡åˆ°ç‚¹é—®é¢˜ï¼Œè¢«å‘æ­»äº†ï¼Œè¿˜å¥½è§£å†³äº†ï¼Œæ„Ÿè°¢ç¾¤é‡Œçš„å°ä¼™ä¼´ï¼</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/</a></p><h3 id="é¡¹ç›®ä¸‹è½½"><a href="#é¡¹ç›®ä¸‹è½½" class="headerlink" title="é¡¹ç›®ä¸‹è½½"></a>é¡¹ç›®ä¸‹è½½</h3><p>ä» <a href="https://github.com/spring-projects/spring-boot/releases" target="_blank" rel="noopener">https://github.com/spring-projects/spring-boot/releases</a> å¯ä»¥çœ‹åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„ä¸‹è½½åœ°å€ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ˜¯ Spring Boot 2 ä¸­æœ€æ–°çš„  <a href="https://github.com/spring-projects/spring-boot/releases/tag/v2.0.1.RELEASE" target="_blank" rel="noopener">v2.0.1.RELEASE </a> ç‰ˆæœ¬ï¼Œä¸‹è½½åï¼Œç„¶åè§£å‹ã€‚è·å–ä»£ç ä¹‹å‰ï¼Œè¯·å…ˆç¡®ä¿ä½ çš„ JDK ç‰ˆæœ¬æ˜¯ 1.8 ä»¥ä¸Šå“¦ã€‚</p><h3 id="é¡¹ç›®ç¼–è¯‘"><a href="#é¡¹ç›®ç¼–è¯‘" class="headerlink" title="é¡¹ç›®ç¼–è¯‘"></a>é¡¹ç›®ç¼–è¯‘</h3><p>è¿›å…¥ spring-boot-2.0.1.RELEASE çš„ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><h4 id="è·³è¿‡æµ‹è¯•ç”¨ä¾‹ç¼–è¯‘"><a href="#è·³è¿‡æµ‹è¯•ç”¨ä¾‹ç¼–è¯‘" class="headerlink" title="è·³è¿‡æµ‹è¯•ç”¨ä¾‹ç¼–è¯‘"></a>è·³è¿‡æµ‹è¯•ç”¨ä¾‹ç¼–è¯‘</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mvn clean install -DskipTests -Pfast //è·³è¿‡æµ‹è¯•ç”¨ä¾‹</span><br></pre></td></tr></table></figure><p>è·³è¿‡æµ‹è¯•ç”¨ä¾‹å¯ä»¥åŠ å¿«ç¼–è¯‘çš„é€Ÿåº¦ã€‚</p><p>å…ˆçœ‹ä¸‹è¿è¡ŒæˆåŠŸçš„æ•ˆæœï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fqdm9wd342j31gc1mc7n7.jpg" alt="springboot201"></p><p>åªèŠ±äº† 6 åˆ†å¤šé’Ÿå°±å¥½äº†ã€‚</p><h4 id="å…¨é‡ç¼–è¯‘"><a href="#å…¨é‡ç¼–è¯‘" class="headerlink" title="å…¨é‡ç¼–è¯‘"></a>å…¨é‡ç¼–è¯‘</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mvn -f spring-boot-project -Pfull clean install</span><br></pre></td></tr></table></figure><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fqdm9xd4pdj31kw18l7s3.jpg" alt="springboot2-error3"></p><p>å…¨é‡ç¼–è¯‘ç«Ÿç„¶æŠ¥é”™ï¼Œä¸€æ³¢æœªå¹³ï¼Œä¸€æ³¢åˆèµ·ï¼</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fqdm9y57j4j31kw0e7wls.jpg" alt="2018-04-15_15-37-25"></p><p>çœ‹ç½‘ä¸Šçš„è§£å†³æ–¹æ³•æ˜¯ï¼šåœ¨é¡¹ç›®çš„ pom.xml æ–‡ä»¶ä¸­çš„ <code>&lt;properties&gt;</code> æ·»åŠ  <code>&lt;javadocExecutable&gt;</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">javadocExecutable</span>&gt;</span>$&#123;java.home&#125;/../bin/javadoc<span class="tag">&lt;/<span class="name">javadocExecutable</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ–¹æ³•è™½ç„¶ç®¡ç”¨ï¼Œä½†æ˜¯åªæ˜¯ä¸´æ—¶çš„ï¼Œéœ€è¦å¯¹æ¯ä¸ªé¡¹ç›®éƒ½è¿›è¡Œæ·»åŠ ã€‚</p><p>é—®é¢˜äº§ç”Ÿçš„åŸå› åº”è¯¥æ˜¯ï¼Œmvn æ‹¿åˆ°çš„ JAVA_HOME ä½ç½®åº”è¯¥æ˜¯ ${JAVA_HOME}/jre è€Œä¸æ˜¯ jdk ä½ç½®ã€‚</p><p>åé¢åˆçœ‹å®˜æ–¹çš„ README ä¸Šé¢å†™çš„æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mvn clean install</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåä¹Ÿæ˜¯æœ‰å„ç§æŠ¥é”™ï¼Œå°è¯•äº†å¾ˆä¹…è§£å†³ï¼Œæœ€åèŠ±äº†å¥½å‡ ä¸ªå°æ—¶æ‰åˆ°ä¸‹é¢è¿™å›¾ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fqdma1lfkdj31kw0yqh5s.jpg" alt="springboot2-error4"></p><p>å¤ªæŠ˜è…¾äººäº†ï¼Œå¤ªéº»çƒ¦äº†ï¼</p><p>æš‚æ—¶å°±ä¸å…¨é‡ç¼–è¯‘äº†ï¼Œæˆ‘ä»¬å°±ç›´æ¥æŠŠç°åœ¨ <code>è·³è¿‡æµ‹è¯•ç”¨ä¾‹ç¼–è¯‘</code>  åçš„é¡¹ç›®å¯¼å…¥åˆ° IDEA ä¸­å»ã€‚</p><h3 id="å¯¼å…¥é¡¹ç›®å·¥ç¨‹"><a href="#å¯¼å…¥é¡¹ç›®å·¥ç¨‹" class="headerlink" title="å¯¼å…¥é¡¹ç›®å·¥ç¨‹"></a>å¯¼å…¥é¡¹ç›®å·¥ç¨‹</h3><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fqdma2dis9j31ia10447y.jpg" alt="import"></p><p>å¯¼å…¥åå°†é‚£äº›æµ‹è¯•çš„ module æ ‡è®°ä¸º maven é¡¹ç›®ï¼Œç„¶ååé¢è‡ªå·±å†æ ¹æ®æµ‹è¯•ç”¨ä¾‹å»è·Ÿæºç å§ã€‚</p><p>å¯¼å…¥åé¡¹ç›®æ²¡å‡ºç°æŠ¥é”™ï¼Œç¾æ»‹æ»‹ï¼Œåé¢æºç å¯ä»¥çœ‹èµ·æ¥ã€‚</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fqdm9ipwfhj31kw0zkkj1.jpg" alt="success02"></p><h3 id="é‡åˆ°çš„å‘"><a href="#é‡åˆ°çš„å‘" class="headerlink" title="é‡åˆ°çš„å‘"></a>é‡åˆ°çš„å‘</h3><p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘è‡ªå·±åˆ›å»ºé¡¹ç›® Spring Boot 2 é¡¹ç›®éƒ½æ˜¯å¤±è´¥çš„ï¼Œmaven è¿è¡Œé¡¹ç›®ï¼ˆmvn clean installï¼‰æŠ¥é”™å¦‚ä¸‹ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fqdm9wsmiqj31gc1mc7n7.jpg" alt="springboot2-error2"></p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fqdm9zrq04j31kw0wru0p.jpg" alt="springboot2-error"></p><p>é€šè¿‡ä¸Šå›¾å¯ä»¥å‘ç°æŠ¥é”™çš„ç½ªé­ç¥¸é¦–æ˜¯ç”±äºæ‰¾ä¸åˆ° org.yaml.snakeyaml  1.19 çš„åŒ…ï¼Œè¿™ä¸ªä¾èµ–æ­»æ´»ä¸‹ä¸ä¸‹æ¥ï¼Œè‹¦é€¼äº†ğŸ˜¢ã€‚</p><p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯å…¬å¸é…çš„ maven setting.xml æ–‡ä»¶æœ‰é—®é¢˜ï¼ˆå…¬å¸ç§æœæœ‰é—®é¢˜ï¼‰ï¼Œå¯¼è‡´æˆ‘è¿™ä¸ª  org.yaml.snakeyaml  1.19 çš„åŒ…ä¸€ç›´ä¸‹è½½ä¸æ¥ã€‚åæ¥æˆ‘å«ç¾¤é‡Œçš„å¥½å‹å¸®å¿™æµ‹è¯•ä¸‹èƒ½ä¸èƒ½åˆ›å»º Spring Boot 2 é¡¹ç›®ï¼Œç»“æœä»–ä»¬éƒ½è¡Œçš„ã€‚æˆ‘å°±æ¢æˆäº†ä»–ä»¬é˜¿é‡Œäº‘é•œåƒçš„ setting æ–‡ä»¶ï¼Œç»“æœåœ¨æˆ‘è¿™è¿˜æ˜¯ä¸è¡Œçš„ã€‚çœŸæ˜¯é†‰äº†ï¼Œæˆ‘å¹²è„†ç›´æ¥å«ä»–æŠŠ maven æœ¬åœ°ä»“åº“ä¸­çš„ org.yaml.snakeyaml  1.19 æ•´ä¸ªåŒ…éƒ½å‘ç»™æˆ‘ï¼Œç»“æœå†æ¬¡åˆ›å»º Spring Boot 2 é¡¹ç›®å°±èƒ½æˆåŠŸäº†ã€‚ç¾æ»‹æ»‹ğŸ˜„ï¼</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fqdm9yr6s8j31kw0o3tkj.jpg" alt="springboot2-success"></p><p>ç„¶åå°±è¹­ç€ç°åœ¨ç¯å¢ƒ OKï¼Œå¼€å§‹æ­å»ºæˆ‘çš„ Spring Boot 2 æºç é˜…è¯»ç¯å¢ƒï¼</p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</a></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>æºç ä¸éª—äººï¼Œå¤šçœ‹çœ‹ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws3.sinaimg.cn/large/006tNc79gy1fqdma0kpk1j31hc0zkqox.jpg&quot; alt=&quot;night-photograph-2183637_1920&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</title>
    <link href="http://yoursite.com/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/"/>
    <id>http://yoursite.com/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/</id>
    <published>2018-04-12T16:00:00.000Z</published>
    <updated>2018-04-19T02:20:46.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fqc4n57tj4j31hc0zktmm.jpg" alt="pocket-watch-3156771_1920"></p><a id="more"></a><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>å¥½ä¹…æ²¡æ›´æ–°æ–‡ç« äº†ï¼Œæœ¬æ¥æ‰“ç®—åœ¨æ¯•ä¸šä¹‹å‰ä¸æ›´æ–°äº†ï¼Œè¿™é‡Œï¼Œå¯¹ä¸ä½äº†ï¼Œæˆ‘åˆæ›´æ–°äº†ã€‚ğŸ˜ğŸ˜</p><p>ä¹‹å‰ç¿»è¯‘äº†ä¸¤ç¯‡ Spring Boot 2.0 çš„æ–‡ç« ï¼Œ<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a>   å’Œ  <a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>ä»Šå¤©å°±ç»§ç»­è¯¦ç»†æ¢ç©¶ Spring Boot 2.0 é‡Œé¢çš„æ”¹å˜ã€‚</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/</a></p><h3 id="é…ç½®æ”¹å˜"><a href="#é…ç½®æ”¹å˜" class="headerlink" title="é…ç½®æ”¹å˜"></a>é…ç½®æ”¹å˜</h3><p>é…ç½®å±æ€§åœ¨ 1.5.10.RELEASE å’Œ 2.0.0.RELEASE ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„æ”¹å˜ï¼š</p><h4 id="å¯ç”¨é”®"><a href="#å¯ç”¨é”®" class="headerlink" title="å¯ç”¨é”®"></a>å¯ç”¨é”®</h4><p>ä¸‹é¢çš„è¡¨æ˜¯ 2.0.0.RELEASE ç‰ˆæœ¬ä¸­çš„å¼ƒç”¨é”®ï¼š</p><table><thead><tr><th>Key</th><th>Replacementï¼ˆæ›¿ä»£ï¼‰</th><th>åŸå› </th></tr></thead><tbody><tr><td><code>spring.datasource.hikari.initialization-fail-fast</code></td><td></td><td></td></tr><tr><td><code>spring.main.web-environment</code></td><td><code>spring.main.web-application-type</code></td></tr></tbody></table><h4 id="æ–°é”®"><a href="#æ–°é”®" class="headerlink" title="æ–°é”®"></a>æ–°é”®</h4><p>ä¸‹é¢çš„è¡¨æ˜¯ 2.0.0.RELEASE ç‰ˆæœ¬ä¸­æ–°çš„é”®ï¼š</p><table><thead><tr><th>Key</th><th>Default valueï¼ˆé»˜è®¤å€¼ï¼‰</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>logging.file.max-history</code></td><td><code>0</code></td><td>è¦ä¿å­˜çš„å½’æ¡£æ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å€¼</td></tr><tr><td><code>logging.file.max-size</code></td><td><code>10MB</code></td><td>æ—¥å¿—æ–‡ä»¶æœ€å¤§å®¹é‡</td></tr><tr><td><code>logging.pattern.dateformat</code></td><td><code>yyyy-MM-dd HH:mm:ss.SSS</code></td><td>æ—¥å¿—çš„æ—¥æœŸæ ¼å¼</td></tr><tr><td><code>management.endpoint.auditevents.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.auditevents.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ auditevents ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.beans.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.beans.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ bean ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.conditions.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.conditions.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ conditions ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.configprops.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.configprops.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ configprops ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.configprops.keys-to-sanitize</code></td><td><code>password,secret,key,token,    .credentials.,vcap_services</code></td><td>Keys that should be sanitized</td></tr><tr><td><code>management.endpoint.env.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.env.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ env ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.env.keys-to-sanitize</code></td><td><code>password,secret,key,token,   .credentials.,vcap_services</code></td><td>Keys that should be sanitized.</td></tr><tr><td><code>management.endpoint.flyway.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.flyway.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ flyway ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.health.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.health.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ health ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.health.roles</code></td><td></td><td>è§’è‰²ç”¨äºç¡®å®šç”¨æˆ·æ˜¯å¦æœ‰æƒæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</td></tr><tr><td><code>management.endpoint.health.show-details</code></td><td><code>never</code></td><td>ä½•æ—¶æ˜¾ç¤ºå®Œæ•´çš„å¥åº·è¯¦æƒ…</td></tr><tr><td><code>management.endpoint.heapdump.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.heapdump.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ heapdump ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.httptrace.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.httptrace.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ httptrace ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.info.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.info.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ info ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.jolokia.config</code></td><td></td><td>Jolokia è®¾ç½®</td></tr><tr><td><code>management.endpoint.jolokia.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ jolokia ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.liquibase.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.liquibase.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ liquibase ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.logfile.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.logfile.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ logfile ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.logfile.external-file</code></td><td></td><td>è¦è®¿é—®çš„å¤–éƒ¨æ—¥å¿—æ–‡ä»¶</td></tr><tr><td><code>management.endpoint.loggers.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.loggers.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ loggers ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.mappings.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.mappings.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ mappings ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.metrics.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.metrics.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ metrics ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.prometheus.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.prometheus.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ prometheus ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.scheduledtasks.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.scheduledtasks.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ scheduledtasks ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.sessions.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ sessions ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.shutdown.enabled</code></td><td><code>false</code></td><td>æ˜¯å¦å¯ç”¨ shutdown ç«¯ç‚¹</td></tr><tr><td><code>management.endpoint.threaddump.cache.time-to-live</code></td><td><code>0ms</code></td><td>å¯ä»¥ç¼“å­˜å“åº”çš„æœ€é•¿æ—¶é—´</td></tr><tr><td><code>management.endpoint.threaddump.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ threaddump ç«¯ç‚¹</td></tr><tr><td><code>management.endpoints.enabled-by-default</code></td><td></td><td>æ˜¯å¦å¯ç”¨æˆ–è€…å…³é—­æ‰€æœ‰çš„ç«¯ç‚¹</td></tr><tr><td><code>management.endpoints.jmx.domain</code></td><td><code>org.springframework.boot</code></td><td>ç«¯ç‚¹ JMX åŸŸå</td></tr><tr><td><code>management.endpoints.jmx.exposure.exclude</code></td><td></td><td>åº”æ’é™¤çš„ç«¯ç‚¹ ID</td></tr><tr><td><code>management.endpoints.jmx.exposure.include</code></td><td><code>*</code></td><td>åº”åŒ…å«çš„ç«¯ç‚¹ ID æˆ–å…¨éƒ¨ <code>*</code></td></tr><tr><td><code>management.endpoints.jmx.static-names</code></td><td></td><td>è¿½åŠ åˆ°æ‰€æœ‰è¡¨ç¤ºç«¯ç‚¹çš„ MBean çš„ObjectName çš„é™æ€å±æ€§.</td></tr><tr><td><code>management.endpoints.jmx.unique-names</code></td><td><code>false</code></td><td>æ˜¯å¦ç¡®ä¿ ObjectNames åœ¨å‘ç”Ÿå†²çªæ—¶è¢«ä¿®æ”¹</td></tr><tr><td><code>management.endpoints.web.base-path</code></td><td><code>/actuator</code></td><td>Web ç«¯ç‚¹çš„åŸºæœ¬è·¯å¾„</td></tr><tr><td><code>management.endpoints.web.cors.allow-credentials</code></td><td></td><td>æ˜¯å¦æ”¯æŒå‡­è¯</td></tr><tr><td><code>management.endpoints.web.cors.allowed-headers</code></td><td></td><td>Comma-separated list of headers to allow in a request. â€˜*â€™ allows all headers.</td></tr><tr><td><code>management.endpoints.web.cors.allowed-methods</code></td><td></td><td>Comma-separated list of methods to allow. â€˜*â€™ allows all methods.</td></tr><tr><td><code>management.endpoints.web.cors.allowed-origins</code></td><td></td><td>Comma-separated list of origins to allow. â€˜*â€™ allows all origins.</td></tr><tr><td><code>management.endpoints.web.cors.exposed-headers</code></td><td></td><td>Comma-separated list of headers to include in a response.</td></tr><tr><td><code>management.endpoints.web.cors.max-age</code></td><td><code>1800s</code></td><td>How long the response from a pre-flight request can be cached by clients.</td></tr><tr><td><code>management.endpoints.web.exposure.exclude</code></td><td></td><td>Endpoint IDs that should be excluded.</td></tr><tr><td><code>management.endpoints.web.exposure.include</code></td><td><code>health,info</code></td><td>Endpoint IDs that should be included or â€˜*â€™ for all.</td></tr><tr><td><code>management.endpoints.web.path-mapping</code></td><td></td><td>Mapping between endpoint IDs and the path that should expose them.</td></tr><tr><td><code>management.health.influxdb.enabled</code></td><td><code>true</code></td><td>Whether to enable InfluxDB health check.</td></tr><tr><td><code>management.health.neo4j.enabled</code></td><td><code>true</code></td><td>Whether to enable Neo4j health check.</td></tr><tr><td><code>management.health.status.http-mapping</code></td><td></td><td>Mapping of health statuses to HTTP status codes.</td></tr><tr><td><code>management.metrics.binders.files.enabled</code></td><td><code>true</code></td><td>Whether to enable files metrics.</td></tr><tr><td><code>management.metrics.binders.integration.enabled</code></td><td><code>true</code></td><td>Whether to enable Spring Integration metrics.</td></tr><tr><td><code>management.metrics.binders.jvm.enabled</code></td><td><code>true</code></td><td>Whether to enable JVM metrics.</td></tr><tr><td><code>management.metrics.binders.logback.enabled</code></td><td><code>true</code></td><td>Whether to enable Logback metrics.</td></tr><tr><td><code>management.metrics.binders.processor.enabled</code></td><td><code>true</code></td><td>Whether to enable processor metrics.</td></tr><tr><td><code>management.metrics.binders.uptime.enabled</code></td><td><code>true</code></td><td>Whether to enable uptime metrics.</td></tr><tr><td><code>management.metrics.distribution.percentiles</code></td><td></td><td>Specific computed non-aggregable percentiles to ship to the backend for meter IDs starting-with the specified name.</td></tr><tr><td><code>management.metrics.distribution.percentiles-histogram</code></td><td></td><td>Whether meter IDs starting-with the specified name should be publish percentile histograms.</td></tr><tr><td><code>management.metrics.distribution.sla</code></td><td></td><td>Specific SLA boundaries for meter IDs starting-with the specified name.</td></tr><tr><td><code>management.metrics.enable</code></td><td></td><td>Whether meter IDs starting-with the specified name should be enabled.</td></tr><tr><td><code>management.metrics.export.atlas.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.atlas.config-refresh-frequency</code></td><td><code>10s</code></td><td>Frequency for refreshing config settings from the LWC service.</td></tr><tr><td><code>management.metrics.export.atlas.config-time-to-live</code></td><td><code>150s</code></td><td>Time to live for subscriptions from the LWC service.</td></tr><tr><td><code>management.metrics.export.atlas.config-uri</code></td><td><code>http://localhost:7101/     lwc/api/v1/expressions/local-dev</code></td><td>URI for the Atlas LWC endpoint to retrieve current subscriptions.</td></tr><tr><td><code>management.metrics.export.atlas.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.atlas.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.atlas.eval-uri</code></td><td><code>http://localhost:7101/ lwc/api/v1/evaluate</code></td><td>URI for the Atlas LWC endpoint to evaluate the data for a subscription.</td></tr><tr><td><code>management.metrics.export.atlas.lwc-enabled</code></td><td><code>false</code></td><td>Whether to enable streaming to Atlas LWC.</td></tr><tr><td><code>management.metrics.export.atlas.meter-time-to-live</code></td><td><code>15m</code></td><td>Time to live for meters that do not have any activity.</td></tr><tr><td><code>management.metrics.export.atlas.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.atlas.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.atlas.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.atlas.uri</code></td><td><code>http://localhost:7101/ api/v1/publish</code></td><td>URI of the Atlas server.</td></tr><tr><td><code>management.metrics.export.datadog.api-key</code></td><td></td><td>Datadog API key.</td></tr><tr><td><code>management.metrics.export.datadog.application-key</code></td><td></td><td>Datadog application key.</td></tr><tr><td><code>management.metrics.export.datadog.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.datadog.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.datadog.descriptions</code></td><td><code>true</code></td><td>Whether to publish descriptions metadata to Datadog.</td></tr><tr><td><code>management.metrics.export.datadog.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.datadog.host-tag</code></td><td><code>instance</code></td><td>Tag that will be mapped to â€œhostâ€ when shipping metrics to Datadog.</td></tr><tr><td><code>management.metrics.export.datadog.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.datadog.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.datadog.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.datadog.uri</code></td><td><code>https://app.datadoghq.com</code></td><td>URI to ship metrics to.</td></tr><tr><td><code>management.metrics.export.ganglia.addressing-mode</code></td><td><code>multicast</code></td><td>UDP addressing mode, either unicast or multicast.</td></tr><tr><td><code>management.metrics.export.ganglia.duration-units</code></td><td><code>milliseconds</code></td><td>Base time unit used to report durations.</td></tr><tr><td><code>management.metrics.export.ganglia.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to Ganglia is enabled.</td></tr><tr><td><code>management.metrics.export.ganglia.host</code></td><td><code>localhost</code></td><td>Host of the Ganglia server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.ganglia.port</code></td><td><code>8649</code></td><td>Port of the Ganglia server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.ganglia.protocol-version</code></td><td><code>3.1</code></td><td>Ganglia protocol version.</td></tr><tr><td><code>management.metrics.export.ganglia.rate-units</code></td><td><code>seconds</code></td><td>Base time unit used to report rates.</td></tr><tr><td><code>management.metrics.export.ganglia.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.ganglia.time-to-live</code></td><td><code>1</code></td><td>Time to live for metrics on Ganglia.</td></tr><tr><td><code>management.metrics.export.graphite.duration-units</code></td><td><code>milliseconds</code></td><td>Base time unit used to report durations.</td></tr><tr><td><code>management.metrics.export.graphite.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to Graphite is enabled.</td></tr><tr><td><code>management.metrics.export.graphite.host</code></td><td><code>localhost</code></td><td>Host of the Graphite server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.graphite.port</code></td><td><code>2004</code></td><td>Port of the Graphite server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.graphite.protocol</code></td><td><code>pickled</code></td><td>Protocol to use while shipping data to Graphite.</td></tr><tr><td><code>management.metrics.export.graphite.rate-units</code></td><td><code>seconds</code></td><td>Base time unit used to report rates.</td></tr><tr><td><code>management.metrics.export.graphite.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.graphite.tags-as-prefix</code></td><td>``</td><td>For the default naming convention, turn the specified tag keys into part of the metric prefix.</td></tr><tr><td><code>management.metrics.export.influx.auto-create-db</code></td><td><code>true</code></td><td>Whether to create the Influx database if it does not exist before attempting to publish metrics to it.</td></tr><tr><td><code>management.metrics.export.influx.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.influx.compressed</code></td><td><code>true</code></td><td>Whether to enable GZIP compression of metrics batches published to Influx.</td></tr><tr><td><code>management.metrics.export.influx.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.influx.consistency</code></td><td><code>one</code></td><td>Write consistency for each point.</td></tr><tr><td><code>management.metrics.export.influx.db</code></td><td><code>mydb</code></td><td>Tag that will be mapped to â€œhostâ€ when shipping metrics to Influx.</td></tr><tr><td><code>management.metrics.export.influx.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.influx.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.influx.password</code></td><td></td><td>Login password of the Influx server.</td></tr><tr><td><code>management.metrics.export.influx.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.influx.retention-policy</code></td><td></td><td>Retention policy to use (Influx writes to the DEFAULT retention policy if one is not specified).</td></tr><tr><td><code>management.metrics.export.influx.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.influx.uri</code></td><td><code>http://localhost:8086</code></td><td>URI of the Influx server.</td></tr><tr><td><code>management.metrics.export.influx.user-name</code></td><td></td><td>Login user of the Influx server.</td></tr><tr><td><code>management.metrics.export.jmx.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to JMX is enabled.</td></tr><tr><td><code>management.metrics.export.jmx.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.newrelic.account-id</code></td><td></td><td>New Relic account ID.</td></tr><tr><td><code>management.metrics.export.newrelic.api-key</code></td><td></td><td>New Relic API key.</td></tr><tr><td><code>management.metrics.export.newrelic.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.newrelic.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.newrelic.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.newrelic.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.newrelic.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.newrelic.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.newrelic.uri</code></td><td><code>https://insights-collector    .newrelic.com</code></td><td>URI to ship metrics to.</td></tr><tr><td><code>management.metrics.export.prometheus.descriptions</code></td><td><code>true</code></td><td>Whether to enable publishing descriptions as part of the scrape payload to Prometheus.</td></tr><tr><td><code>management.metrics.export.prometheus.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to Prometheus is enabled.</td></tr><tr><td><code>management.metrics.export.prometheus.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.signalfx.access-token</code></td><td></td><td>SignalFX access token.</td></tr><tr><td><code>management.metrics.export.signalfx.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.signalfx.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.signalfx.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.signalfx.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.signalfx.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.signalfx.source</code></td><td></td><td>Uniquely identifies the app instance that is publishing metrics to SignalFx.</td></tr><tr><td><code>management.metrics.export.signalfx.step</code></td><td><code>10s</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.signalfx.uri</code></td><td><code>https://ingest.signalfx.com</code></td><td>URI to ship metrics to.</td></tr><tr><td><code>management.metrics.export.simple.enabled</code></td><td><code>true</code></td><td>Whether, in the absence of any other exporter, exporting of metrics to an in-memory backend is enabled.</td></tr><tr><td><code>management.metrics.export.simple.mode</code></td><td><code>cumulative</code></td><td>Counting mode.</td></tr><tr><td><code>management.metrics.export.simple.step</code></td><td><code>1m</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.statsd.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to StatsD is enabled.</td></tr><tr><td><code>management.metrics.export.statsd.flavor</code></td><td><code>datadog</code></td><td>StatsD line protocol to use.</td></tr><tr><td><code>management.metrics.export.statsd.host</code></td><td><code>localhost</code></td><td>Host of the StatsD server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.statsd.max-packet-length</code></td><td><code>1400</code></td><td>Total length of a single payload should be kept within your networkâ€™s MTU.</td></tr><tr><td><code>management.metrics.export.statsd.polling-frequency</code></td><td><code>10s</code></td><td>How often gauges will be polled.</td></tr><tr><td><code>management.metrics.export.statsd.port</code></td><td><code>8125</code></td><td>Port of the StatsD server to receive exported metrics.</td></tr><tr><td><code>management.metrics.export.statsd.publish-unchanged-meters</code></td><td><code>true</code></td><td>Whether to send unchanged meters to the StatsD server.</td></tr><tr><td><code>management.metrics.export.statsd.queue-size</code></td><td><code>2147483647</code></td><td>Maximum size of the queue of items waiting to be sent to the StatsD server.</td></tr><tr><td><code>management.metrics.export.wavefront.api-token</code></td><td></td><td>API token used when publishing metrics directly to the Wavefront API host.</td></tr><tr><td><code>management.metrics.export.wavefront.batch-size</code></td><td><code>10000</code></td><td>Number of measurements per request to use for this backend.</td></tr><tr><td><code>management.metrics.export.wavefront.connect-timeout</code></td><td><code>1s</code></td><td>Connection timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.wavefront.enabled</code></td><td><code>true</code></td><td>Whether exporting of metrics to this backend is enabled.</td></tr><tr><td><code>management.metrics.export.wavefront.global-prefix</code></td><td></td><td>Global prefix to separate metrics originating from this appâ€™s white box instrumentation from those originating from other Wavefront integrations when viewed in the Wavefront UI.</td></tr><tr><td><code>management.metrics.export.wavefront.num-threads</code></td><td><code>2</code></td><td>Number of threads to use with the metrics publishing scheduler.</td></tr><tr><td><code>management.metrics.export.wavefront.read-timeout</code></td><td><code>10s</code></td><td>Read timeout for requests to this backend.</td></tr><tr><td><code>management.metrics.export.wavefront.source</code></td><td></td><td>Unique identifier for the app instance that is the source of metrics being published to Wavefront.</td></tr><tr><td><code>management.metrics.export.wavefront.step</code></td><td><code>10s</code></td><td>Step size (i.e. reporting frequency) to use.</td></tr><tr><td><code>management.metrics.export.wavefront.uri</code></td><td><code>https://longboard.wavefront.com</code></td><td>URI to ship metrics to.</td></tr><tr><td><code>management.metrics.use-global-registry</code></td><td><code>true</code></td><td>Whether auto-configured MeterRegistry implementations should be bound to the global static registry on Metrics.</td></tr><tr><td><code>management.metrics.web.client.max-uri-tags</code></td><td><code>100</code></td><td>Maximum number of unique URI tag values allowed.</td></tr><tr><td><code>management.metrics.web.client.requests-metric-name</code></td><td><code>http.client.requests</code></td><td>Name of the metric for sent requests.</td></tr><tr><td><code>management.metrics.web.server.auto-time-requests</code></td><td><code>true</code></td><td>Whether requests handled by Spring MVC or WebFlux should be automatically timed.</td></tr><tr><td><code>management.metrics.web.server.requests-metric-name</code></td><td><code>http.server.requests</code></td><td>Name of the metric for received requests.</td></tr><tr><td><code>management.server.add-application-context-header</code></td><td><code>false</code></td><td>Add the â€œX-Application-Contextâ€ HTTP header in each response.</td></tr><tr><td><code>management.server.address</code></td><td></td><td>Network address to which the management endpoints should bind.</td></tr><tr><td><code>management.server.port</code></td><td></td><td>Management endpoint HTTP port (uses the same port as the application by default).</td></tr><tr><td><code>management.server.servlet.context-path</code></td><td><code>Management endpoint context-path (for instance,</code>/management).</td><td></td></tr><tr><td><code>management.server.ssl.ciphers</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.client-auth</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.enabled</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.enabled-protocols</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-alias</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-password</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-store</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-store-password</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-store-provider</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.key-store-type</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.protocol</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.trust-store</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.trust-store-password</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.trust-store-provider</code></td><td></td><td></td></tr><tr><td><code>management.server.ssl.trust-store-type</code></td><td></td><td></td></tr><tr><td><code>management.trace.http.enabled</code></td><td><code>true</code></td><td>Whether to enable HTTP request-response tracing.</td></tr><tr><td><code>management.trace.http.include</code></td><td><code>request-headers,response-headers, cookies,errors</code></td><td>Items to be included in the trace.</td></tr><tr><td><code>server.error.include-exception</code></td><td><code>false</code></td><td>Include the â€œexceptionâ€ attribute.</td></tr><tr><td><code>server.http2.enabled</code></td><td></td><td></td></tr><tr><td><code>server.jetty.accesslog.append</code></td><td><code>false</code></td><td>Append to log.</td></tr><tr><td><code>server.jetty.accesslog.date-format</code></td><td><code>dd/MMM/yyyy:HH:mm:ss Z</code></td><td>Timestamp format of the request log.</td></tr><tr><td><code>server.jetty.accesslog.enabled</code></td><td><code>false</code></td><td>Enable access log.</td></tr><tr><td><code>server.jetty.accesslog.extended-format</code></td><td><code>false</code></td><td>Enable extended NCSA format.</td></tr><tr><td><code>server.jetty.accesslog.file-date-format</code></td><td></td><td>Date format to place in log file name.</td></tr><tr><td><code>server.jetty.accesslog.filename</code></td><td></td><td>Log filename.</td></tr><tr><td><code>server.jetty.accesslog.locale</code></td><td></td><td>Locale of the request log.</td></tr><tr><td><code>server.jetty.accesslog.log-cookies</code></td><td><code>false</code></td><td>Enable logging of the request cookies.</td></tr><tr><td><code>server.jetty.accesslog.log-latency</code></td><td><code>false</code></td><td>Enable logging of request processing time.</td></tr><tr><td><code>server.jetty.accesslog.log-server</code></td><td><code>false</code></td><td>Enable logging of the request hostname.</td></tr><tr><td><code>server.jetty.accesslog.retention-period</code></td><td><code>31</code></td><td>Number of days before rotated log files are deleted.</td></tr><tr><td><code>server.jetty.accesslog.time-zone</code></td><td><code>GMT</code></td><td>Timezone of the request log.</td></tr><tr><td><code>server.servlet.application-display-name</code></td><td><code>application</code></td><td>Display name of the application.</td></tr><tr><td><code>server.servlet.context-parameters</code></td><td></td><td>Servlet context init parameters.</td></tr><tr><td><code>server.servlet.context-path</code></td><td></td><td>Context path of the application.</td></tr><tr><td><code>server.servlet.jsp.class-name</code></td><td></td><td></td></tr><tr><td><code>server.servlet.jsp.init-parameters</code></td><td></td><td></td></tr><tr><td><code>server.servlet.jsp.registered</code></td><td></td><td></td></tr><tr><td><code>server.servlet.path</code></td><td><code>/</code></td><td>Path of the main dispatcher servlet.</td></tr><tr><td><code>server.servlet.session.cookie.comment</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.domain</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.http-only</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.max-age</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.name</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.path</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.cookie.secure</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.persistent</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.store-dir</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.timeout</code></td><td></td><td></td></tr><tr><td><code>server.servlet.session.tracking-modes</code></td><td></td><td></td></tr><tr><td><code>server.tomcat.max-http-header-size</code></td><td><code>0</code></td><td>Maximum size, in bytes, of the HTTP message header.</td></tr><tr><td><code>server.tomcat.resource.cache-ttl</code></td><td></td><td>Time-to-live of the static resource cache.</td></tr><tr><td><code>server.tomcat.use-relative-redirects</code></td><td></td><td>Whether HTTP 1.1 and later location headers generated by a call to sendRedirect will use relative or absolute redirects.</td></tr><tr><td><code>server.undertow.eager-filter-init</code></td><td><code>true</code></td><td>Whether servlet filters should be initialized on startup.</td></tr><tr><td><code>spring.banner.charset</code></td><td><code>UTF-8</code></td><td>Banner file encoding.</td></tr><tr><td><code>spring.banner.image.height</code></td><td></td><td>Height of the banner image in chars (default based on image height).</td></tr><tr><td><code>spring.banner.image.invert</code></td><td><code>false</code></td><td>Whether images should be inverted for dark terminal themes.</td></tr><tr><td><code>spring.banner.image.location</code></td><td><code>classpath:banner.gif</code></td><td>Banner image file location (jpg or png can also be used).</td></tr><tr><td><code>spring.banner.image.margin</code></td><td><code>2</code></td><td>Left hand image margin in chars.</td></tr><tr><td><code>spring.banner.image.width</code></td><td><code>76</code></td><td>Width of the banner image in chars.</td></tr><tr><td><code>spring.banner.location</code></td><td><code>classpath:banner.txt</code></td><td>Banner text resource location.</td></tr><tr><td><code>spring.batch.initialize-schema</code></td><td><code>embedded</code></td><td>Database schema initialization mode.</td></tr><tr><td><code>spring.cache.redis.cache-null-values</code></td><td><code>true</code></td><td>Allow caching null values.</td></tr><tr><td><code>spring.cache.redis.key-prefix</code></td><td></td><td>Key prefix.</td></tr><tr><td><code>spring.cache.redis.time-to-live</code></td><td></td><td>Entry expiration.</td></tr><tr><td><code>spring.cache.redis.use-key-prefix</code></td><td><code>true</code></td><td>Whether to use the key prefix when writing to Redis.</td></tr><tr><td><code>spring.config.additional-location</code></td><td></td><td>Config file locations used in addition to the defaults.</td></tr><tr><td><code>spring.data.cassandra.connect-timeout</code></td><td></td><td>Socket option: connection time out.</td></tr><tr><td><code>spring.data.cassandra.pool.heartbeat-interval</code></td><td><code>30s</code></td><td>Heartbeat interval after which a message is sent on an idle connection to make sure itâ€™s still alive.</td></tr><tr><td><code>spring.data.cassandra.pool.idle-timeout</code></td><td><code>120s</code></td><td>Idle timeout before an idle connection is removed.</td></tr><tr><td><code>spring.data.cassandra.pool.max-queue-size</code></td><td><code>256</code></td><td>Maximum number of requests that get queued if no connection is available.</td></tr><tr><td><code>spring.data.cassandra.pool.pool-timeout</code></td><td><code>5000ms</code></td><td>Pool timeout when trying to acquire a connection from a hostâ€™s pool.</td></tr><tr><td><code>spring.data.cassandra.read-timeout</code></td><td></td><td>Socket option: read time out.</td></tr><tr><td><code>spring.data.cassandra.repositories.type</code></td><td><code>auto</code></td><td>Type of Cassandra repositories to enable.</td></tr><tr><td><code>spring.data.couchbase.repositories.type</code></td><td><code>auto</code></td><td>Type of Couchbase repositories to enable.</td></tr><tr><td><code>spring.data.mongodb.repositories.type</code></td><td><code>auto</code></td><td>Type of Mongo repositories to enable.</td></tr><tr><td><code>spring.data.neo4j.auto-index</code></td><td><code>none</code></td><td>Auto index mode.</td></tr><tr><td><code>spring.data.web.pageable.default-page-size</code></td><td><code>20</code></td><td>Default page size.</td></tr><tr><td><code>spring.data.web.pageable.max-page-size</code></td><td><code>2000</code></td><td>Maximum page size to be accepted.</td></tr><tr><td><code>spring.data.web.pageable.one-indexed-parameters</code></td><td><code>false</code></td><td>Whether to expose and assume 1-based page number indexes.</td></tr><tr><td><code>spring.data.web.pageable.page-parameter</code></td><td><code>page</code></td><td>Page index parameter name.</td></tr><tr><td><code>spring.data.web.pageable.prefix</code></td><td>``</td><td>General prefix to be prepended to the page number and page size parameters.</td></tr><tr><td><code>spring.data.web.pageable.qualifier-delimiter</code></td><td><code>_</code></td><td>Delimiter to be used between the qualifier and the actual page number and size properties.</td></tr><tr><td><code>spring.data.web.pageable.size-parameter</code></td><td><code>size</code></td><td>Page size parameter name.</td></tr><tr><td><code>spring.data.web.sort.sort-parameter</code></td><td><code>sort</code></td><td>Sort parameter name.</td></tr><tr><td><code>spring.datasource.hikari.initialization-fail-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.hikari.metrics-tracker-factory</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.hikari.scheduled-executor</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.hikari.scheduled-executor-service</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.hikari.schema</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.initialization-mode</code></td><td><code>embedded</code></td><td>Initialize the datasource with available DDL and DML scripts.</td></tr><tr><td><code>spring.devtools.restart.log-condition-evaluation-delta</code></td><td><code>true</code></td><td>Whether to log the condition evaluation delta upon restart.</td></tr><tr><td><code>spring.flyway.baseline-description</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.baseline-on-migrate</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.baseline-version</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.check-location</code></td><td><code>true</code></td><td>Whether to check that migration scripts location exists.</td></tr><tr><td><code>spring.flyway.clean-disabled</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.clean-on-validation-error</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.dry-run-output</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.enabled</code></td><td><code>true</code></td><td>æ˜¯å¦å¯ç”¨ flyway.</td></tr><tr><td><code>spring.flyway.encoding</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.error-handlers</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.group</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.ignore-future-migrations</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.ignore-missing-migrations</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.init-sqls</code></td><td></td><td>SQL statements to execute to initialize a connection immediately after obtaining it.</td></tr><tr><td><code>spring.flyway.installed-by</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.locations</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.mixed</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.out-of-order</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.password</code></td><td></td><td>å¦‚æœæ‚¨æƒ³è®© Flyway åˆ›å»ºè‡ªå·±çš„DataSourceï¼Œå¯ä»¥ä½¿ç”¨ JDBC å¯†ç </td></tr><tr><td><code>spring.flyway.placeholder-prefix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.placeholder-replacement</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.placeholder-suffix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.placeholders</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.repeatable-sql-migration-prefix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.schemas</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.skip-default-callbacks</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.skip-default-resolvers</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.sql-migration-prefix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.sql-migration-separator</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.sql-migration-suffix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.sql-migration-suffixes</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.table</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.target</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.undo-sql-migration-prefix</code></td><td></td><td></td></tr><tr><td><code>spring.flyway.url</code></td><td></td><td>è¦è¿ç§»çš„æ•°æ®åº“çš„ JDBC URL</td></tr><tr><td><code>spring.flyway.user</code></td><td></td><td>ç™»å½•è¦è¿ç§»æ•°æ®åº“çš„ç”¨æˆ·å</td></tr><tr><td><code>spring.flyway.validate-on-migrate</code></td><td></td><td></td></tr><tr><td><code>spring.gson.date-format</code></td><td></td><td>åºåˆ—åŒ– Date å¯¹è±¡æ—¶ä½¿ç”¨çš„æ ¼å¼</td></tr><tr><td><code>spring.gson.disable-html-escaping</code></td><td></td><td>Whether to disable the escaping of HTML characters such as â€˜&lt;â€™, â€˜&gt;â€™, etc.</td></tr><tr><td><code>spring.gson.disable-inner-class-serialization</code></td><td></td><td>Whether to exclude inner classes during serialization.</td></tr><tr><td><code>spring.gson.enable-complex-map-key-serialization</code></td><td></td><td>Whether to enable serialization of complex map keys (i.e. non-primitives).</td></tr><tr><td><code>spring.gson.exclude-fields-without-expose-annotation</code></td><td></td><td>Whether to exclude all fields from consideration for serialization or deserialization that do not have the â€œExposeâ€ annotation.</td></tr><tr><td><code>spring.gson.field-naming-policy</code></td><td></td><td>Naming policy that should be applied to an objectâ€™s field during serialization and deserialization.</td></tr><tr><td><code>spring.gson.generate-non-executable-json</code></td><td></td><td>Whether to generate non executable JSON by prefixing the output with some special text.</td></tr><tr><td><code>spring.gson.lenient</code></td><td></td><td>Whether to be lenient about parsing JSON that doesnâ€™t conform to RFC 4627.</td></tr><tr><td><code>spring.gson.long-serialization-policy</code></td><td></td><td>Serialization policy for Long and long types.</td></tr><tr><td><code>spring.gson.pretty-printing</code></td><td></td><td>Whether to output serialized JSON that fits in a page for pretty printing.</td></tr><tr><td><code>spring.gson.serialize-nulls</code></td><td></td><td>Whether to serialize null fields.</td></tr><tr><td><code>spring.influx.password</code></td><td></td><td>Influx ç™»å½•ç”¨æˆ·åå¯†ç </td></tr><tr><td><code>spring.influx.url</code></td><td></td><td>InfluxDB æ•°æ®åº“ URL</td></tr><tr><td><code>spring.influx.user</code></td><td></td><td>Influx ç™»å½•ç”¨æˆ·å</td></tr><tr><td><code>spring.integration.jdbc.initialize-schema</code></td><td><code>embedded</code></td><td>Database schema initialization mode.</td></tr><tr><td><code>spring.integration.jdbc.schema</code></td><td><code>classpath:org/springframework/ integration/jdbc/schema-@@platform@@.sql</code></td><td>Path to the SQL file to use to initialize the database schema.</td></tr><tr><td><code>spring.jdbc.template.fetch-size</code></td><td><code>-1</code></td><td>Number of rows that should be fetched from the database when more rows are needed.</td></tr><tr><td><code>spring.jdbc.template.max-rows</code></td><td><code>-1</code></td><td>Maximum number of rows.</td></tr><tr><td><code>spring.jdbc.template.query-timeout</code></td><td></td><td>Query timeout.</td></tr><tr><td><code>spring.jpa.mapping-resources</code></td><td></td><td>Mapping resources (equivalent to â€œmapping-fileâ€ entries in persistence.xml).</td></tr><tr><td><code>spring.jta.atomikos.datasource.concurrent-connection-validation</code></td><td></td><td></td></tr><tr><td><code>spring.jta.atomikos.properties.allow-sub-transactions</code></td><td><code>true</code></td><td>Specify whether sub-transactions are allowed.</td></tr><tr><td><code>spring.jta.atomikos.properties.default-max-wait-time-on-shutdown</code></td><td></td><td>How long should normal shutdown (no-force) wait for transactions to complete.</td></tr><tr><td><code>spring.jta.atomikos.properties.recovery.delay</code></td><td><code>10000ms</code></td><td>Delay between two recovery scans.</td></tr><tr><td><code>spring.jta.atomikos.properties.recovery.forget-orphaned-log-entries-delay</code></td><td><code>86400000ms</code></td><td>Delay after which recovery can cleanup pending (â€˜orphanedâ€™) log entries.</td></tr><tr><td><code>spring.jta.atomikos.properties.recovery.max-retries</code></td><td><code>5</code></td><td>Number of retry attempts to commit the transaction before throwing an exception.</td></tr><tr><td><code>spring.jta.atomikos.properties.recovery.retry-interval</code></td><td><code>10000ms</code></td><td>Delay between retry attempts.</td></tr><tr><td><code>spring.kafka.admin.client-id</code></td><td></td><td>ID to pass to the server when making requests.</td></tr><tr><td><code>spring.kafka.admin.fail-fast</code></td><td><code>false</code></td><td>Whether to fail fast if the broker is not available on startup.</td></tr><tr><td><code>spring.kafka.admin.properties</code></td><td></td><td>Additional admin-specific properties used to configure the client.</td></tr><tr><td><code>spring.kafka.admin.ssl.key-password</code></td><td></td><td>Password of the private key in the key store file.</td></tr><tr><td><code>spring.kafka.admin.ssl.keystore-location</code></td><td></td><td>Location of the key store file.</td></tr><tr><td><code>spring.kafka.admin.ssl.keystore-password</code></td><td></td><td>Store password for the key store file.</td></tr><tr><td><code>spring.kafka.admin.ssl.truststore-location</code></td><td></td><td>Location of the trust store file.</td></tr><tr><td><code>spring.kafka.admin.ssl.truststore-password</code></td><td></td><td>Store password for the trust store file.</td></tr><tr><td><code>spring.kafka.consumer.properties</code></td><td></td><td>Additional consumer-specific properties used to configure the client.</td></tr><tr><td><code>spring.kafka.consumer.ssl.key-password</code></td><td></td><td>Password of the private key in the key store file.</td></tr><tr><td><code>spring.kafka.consumer.ssl.keystore-location</code></td><td></td><td>Location of the key store file.</td></tr><tr><td><code>spring.kafka.consumer.ssl.keystore-password</code></td><td></td><td>Store password for the key store file.</td></tr><tr><td><code>spring.kafka.consumer.ssl.truststore-location</code></td><td></td><td>Location of the trust store file.</td></tr><tr><td><code>spring.kafka.consumer.ssl.truststore-password</code></td><td></td><td>Store password for the trust store file.</td></tr><tr><td><code>spring.kafka.jaas.control-flag</code></td><td><code>required</code></td><td>Control flag for login configuration.</td></tr><tr><td><code>spring.kafka.jaas.enabled</code></td><td><code>false</code></td><td>Whether to enable JAAS configuration.</td></tr><tr><td><code>spring.kafka.jaas.login-module</code></td><td><code>com.sun.security.auth           .module.Krb5LoginModule</code></td><td>Login module.</td></tr><tr><td><code>spring.kafka.jaas.options</code></td><td></td><td>Additional JAAS options.</td></tr><tr><td><code>spring.kafka.listener.client-id</code></td><td></td><td>Prefix for the listenerâ€™s consumer client.id property.</td></tr><tr><td><code>spring.kafka.listener.idle-event-interval</code></td><td></td><td>Time between publishing idle consumer events (no data received).</td></tr><tr><td><code>spring.kafka.listener.log-container-config</code></td><td></td><td>Whether to log the container configuration during initialization (INFO level).</td></tr><tr><td><code>spring.kafka.listener.monitor-interval</code></td><td></td><td>Time between checks for non-responsive consumers.</td></tr><tr><td><code>spring.kafka.listener.no-poll-threshold</code></td><td></td><td>Multiplier applied to â€œpollTimeoutâ€ to determine if a consumer is non-responsive.</td></tr><tr><td><code>spring.kafka.listener.type</code></td><td><code>single</code></td><td>Listener type.</td></tr><tr><td><code>spring.kafka.producer.properties</code></td><td></td><td>Additional producer-specific properties used to configure the client.</td></tr><tr><td><code>spring.kafka.producer.ssl.key-password</code></td><td></td><td>Password of the private key in the key store file.</td></tr><tr><td><code>spring.kafka.producer.ssl.keystore-location</code></td><td></td><td>Location of the key store file.</td></tr><tr><td><code>spring.kafka.producer.ssl.keystore-password</code></td><td></td><td>Store password for the key store file.</td></tr><tr><td><code>spring.kafka.producer.ssl.truststore-location</code></td><td></td><td>Location of the trust store file.</td></tr><tr><td><code>spring.kafka.producer.ssl.truststore-password</code></td><td></td><td>Store password for the trust store file.</td></tr><tr><td><code>spring.kafka.producer.transaction-id-prefix</code></td><td></td><td>When non empty, enables transaction support for producer.</td></tr><tr><td><code>spring.ldap.anonymous-read-only</code></td><td><code>false</code></td><td>Whether read-only operations should use an anonymous environment.</td></tr><tr><td><code>spring.liquibase.change-log</code></td><td><code>classpath:/db/changelog/     db.changelog-master.yaml</code></td><td>Change log configuration path.</td></tr><tr><td><code>spring.liquibase.check-change-log-location</code></td><td><code>true</code></td><td>Whether to check that the change log location exists.</td></tr><tr><td><code>spring.liquibase.contexts</code></td><td></td><td>Comma-separated list of runtime contexts to use.</td></tr><tr><td><code>spring.liquibase.default-schema</code></td><td></td><td>Default database schema.</td></tr><tr><td><code>spring.liquibase.drop-first</code></td><td><code>false</code></td><td>Whether to first drop the database schema.</td></tr><tr><td><code>spring.liquibase.enabled</code></td><td><code>true</code></td><td>Whether to enable Liquibase support.</td></tr><tr><td><code>spring.liquibase.labels</code></td><td></td><td>Comma-separated list of runtime labels to use.</td></tr><tr><td><code>spring.liquibase.parameters</code></td><td></td><td>Change log parameters.</td></tr><tr><td><code>spring.liquibase.password</code></td><td></td><td>Login password of the database to migrate.</td></tr><tr><td><code>spring.liquibase.rollback-file</code></td><td></td><td>File to which rollback SQL is written when an update is performed.</td></tr><tr><td><code>spring.liquibase.url</code></td><td></td><td>JDBC URL of the database to migrate.</td></tr><tr><td><code>spring.liquibase.user</code></td><td></td><td>Login user of the database to migrate.</td></tr><tr><td><code>spring.main.web-application-type</code></td><td></td><td>Flag to explicitly request a specific type of web application.</td></tr><tr><td><code>spring.messages.cache-duration</code></td><td></td><td>Loaded resource bundle files cache duration.</td></tr><tr><td><code>spring.messages.use-code-as-default-message</code></td><td><code>false</code></td><td>Whether to use the message code as the default message instead of throwing a â€œNoSuchMessageExceptionâ€.</td></tr><tr><td><code>spring.mvc.contentnegotiation.favor-parameter</code></td><td><code>false</code></td><td>Whether a request parameter (â€œformatâ€ by default) should be used to determine the requested media type.</td></tr><tr><td><code>spring.mvc.contentnegotiation.favor-path-extension</code></td><td><code>false</code></td><td>Whether the path extension in the URL path should be used to determine the requested media type.</td></tr><tr><td><code>spring.mvc.contentnegotiation.media-types</code></td><td></td><td>Map file extensions to media types for content negotiation.</td></tr><tr><td><code>spring.mvc.contentnegotiation.parameter-name</code></td><td></td><td>Query parameter name to use when â€œfavor-parameterâ€ is enabled.</td></tr><tr><td><code>spring.mvc.pathmatch.use-registered-suffix-pattern</code></td><td><code>false</code></td><td>Whether suffix pattern matching should work only against extensions registered with â€œspring.mvc.contentnegotiation.media-types.*â€.</td></tr><tr><td><code>spring.mvc.pathmatch.use-suffix-pattern</code></td><td><code>false</code></td><td>Whether to use suffix pattern match (â€œ.*â€) when matching patterns to requests.</td></tr><tr><td><code>spring.quartz.jdbc.initialize-schema</code></td><td><code>embedded</code></td><td>Database schema initialization mode.</td></tr><tr><td><code>spring.quartz.jdbc.schema</code></td><td><code>classpath:org/quartz/impl/ jdbcjobstore/ tables_@@platform@@.sql</code></td><td>Path to the SQL file to use to initialize the database schema.</td></tr><tr><td><code>spring.quartz.job-store-type</code></td><td><code>memory</code></td><td>Quartz job store type.</td></tr><tr><td><code>spring.quartz.properties</code></td><td></td><td>Additional Quartz Scheduler properties.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.acknowledge-mode</code></td><td></td><td>Acknowledge mode of container.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.auto-startup</code></td><td><code>true</code></td><td>Whether to start the container automatically on startup.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.consumers-per-queue</code></td><td></td><td>Number of consumers per queue.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.default-requeue-rejected</code></td><td></td><td>Whether rejected deliveries are re-queued by default.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.idle-event-interval</code></td><td></td><td>How often idle container events should be published.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.prefetch</code></td><td></td><td>Number of messages to be handled in a single request.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.enabled</code></td><td><code>false</code></td><td>Whether publishing retries are enabled.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.initial-interval</code></td><td><code>1000ms</code></td><td>Duration between the first and second attempt to deliver a message.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.max-attempts</code></td><td><code>3</code></td><td>Maximum number of attempts to deliver a message.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.max-interval</code></td><td><code>10000ms</code></td><td>Maximum duration between attempts.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.multiplier</code></td><td><code>1</code></td><td>Multiplier to apply to the previous retry interval.</td></tr><tr><td><code>spring.rabbitmq.listener.direct.retry.stateless</code></td><td><code>true</code></td><td>Whether retries are stateless or stateful.</td></tr><tr><td><code>spring.rabbitmq.listener.type</code></td><td><code>simple</code></td><td>Listener container type.</td></tr><tr><td><code>spring.rabbitmq.ssl.key-store-type</code></td><td><code>PKCS12</code></td><td>Key store type.</td></tr><tr><td><code>spring.rabbitmq.ssl.trust-store-type</code></td><td><code>JKS</code></td><td>Trust store type.</td></tr><tr><td><code>spring.rabbitmq.template.exchange</code></td><td>``</td><td>Name of the default exchange to use for send operations.</td></tr><tr><td><code>spring.rabbitmq.template.routing-key</code></td><td>``</td><td>Value of a default routing key to use for send operations.</td></tr><tr><td><code>spring.reactor.stacktrace-mode.enabled</code></td><td><code>false</code></td><td>Whether Reactor should collect stacktrace information at runtime.</td></tr><tr><td><code>spring.redis.jedis.pool.max-active</code></td><td><code>8</code></td><td>Maximum number of connections that can be allocated by the pool at a given time.</td></tr><tr><td><code>spring.redis.jedis.pool.max-idle</code></td><td><code>8</code></td><td>Maximum number of â€œidleâ€ connections in the pool.</td></tr><tr><td><code>spring.redis.jedis.pool.max-wait</code></td><td><code>-1ms</code></td><td>Maximum amount of time a connection allocation should block before throwing an exception when the pool is exhausted.</td></tr><tr><td><code>spring.redis.jedis.pool.min-idle</code></td><td><code>0</code></td><td>Target for the minimum number of idle connections to maintain in the pool.</td></tr><tr><td><code>spring.redis.lettuce.pool.max-active</code></td><td><code>8</code></td><td>Maximum number of connections that can be allocated by the pool at a given time.</td></tr><tr><td><code>spring.redis.lettuce.pool.max-idle</code></td><td><code>8</code></td><td>Maximum number of â€œidleâ€ connections in the pool.</td></tr><tr><td><code>spring.redis.lettuce.pool.max-wait</code></td><td><code>-1ms</code></td><td>Maximum amount of time a connection allocation should block before throwing an exception when the pool is exhausted.</td></tr><tr><td><code>spring.redis.lettuce.pool.min-idle</code></td><td><code>0</code></td><td>Target for the minimum number of idle connections to maintain in the pool.</td></tr><tr><td><code>spring.redis.lettuce.shutdown-timeout</code></td><td><code>100ms</code></td><td>Shutdown timeout.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.cache-private</code></td><td></td><td>Indicate that the response message is intended for a single user and must not be stored by a shared cache.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.cache-public</code></td><td></td><td>Indicate that any cache may store the response.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.max-age</code></td><td></td><td>Maximum time the response should be cached, in seconds if no duration suffix is not specified.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.must-revalidate</code></td><td></td><td>Indicate that once it has become stale, a cache must not use the response without re-validating it with the server.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.no-cache</code></td><td></td><td>Indicate that the cached response can be reused only if re-validated with the server.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.no-store</code></td><td></td><td>Indicate to not cache the response in any case.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.no-transform</code></td><td></td><td>Indicate intermediaries (caches and others) that they should not transform the response content.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.proxy-revalidate</code></td><td></td><td>Same meaning as the â€œmust-revalidateâ€ directive, except that it does not apply to private caches.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.s-max-age</code></td><td></td><td>Maximum time the response should be cached by shared caches, in seconds if no duration suffix is not specified.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.stale-if-error</code></td><td></td><td>Maximum time the response may be used when errors are encountered, in seconds if no duration suffix is not specified.</td></tr><tr><td><code>spring.resources.cache.cachecontrol.stale-while-revalidate</code></td><td></td><td>Maximum time the response can be served after it becomes stale, in seconds if no duration suffix is not specified.</td></tr><tr><td><code>spring.resources.cache.period</code></td><td></td><td>Cache period for the resources served by the resource handler.</td></tr><tr><td><code>spring.security.filter.dispatcher-types</code></td><td><code>async,error,request</code></td><td>Security filter chain dispatcher types.</td></tr><tr><td><code>spring.security.filter.order</code></td><td><code>-100</code></td><td>Security filter chain order.</td></tr><tr><td><code>spring.security.oauth2.client.provider</code></td><td></td><td>OAuth provider details.</td></tr><tr><td><code>spring.security.oauth2.client.registration</code></td><td></td><td>OAuth client registrations.</td></tr><tr><td><code>spring.security.user.name</code></td><td><code>user</code></td><td>Default user name.</td></tr><tr><td><code>spring.security.user.password</code></td><td></td><td>Password for the default user name.</td></tr><tr><td><code>spring.security.user.roles</code></td><td></td><td>Granted roles for the default user name.</td></tr><tr><td><code>spring.servlet.multipart.enabled</code></td><td><code>true</code></td><td>Whether to enable support of multipart uploads.</td></tr><tr><td><code>spring.servlet.multipart.file-size-threshold</code></td><td><code>0</code></td><td>Threshold after which files are written to disk.</td></tr><tr><td><code>spring.servlet.multipart.location</code></td><td></td><td>Intermediate location of uploaded files.</td></tr><tr><td><code>spring.servlet.multipart.max-file-size</code></td><td><code>1MB</code></td><td>Max file size.</td></tr><tr><td><code>spring.servlet.multipart.max-request-size</code></td><td><code>10MB</code></td><td>Max request size.</td></tr><tr><td><code>spring.servlet.multipart.resolve-lazily</code></td><td><code>false</code></td><td>Whether to resolve the multipart request lazily at the time of file or parameter access.</td></tr><tr><td><code>spring.session.jdbc.cleanup-cron</code></td><td><code>0 * * * * *</code></td><td>Cron expression for expired session cleanup job.</td></tr><tr><td><code>spring.session.jdbc.initialize-schema</code></td><td><code>embedded</code></td><td>Database schema initialization mode.</td></tr><tr><td><code>spring.session.mongodb.collection-name</code></td><td><code>sessions</code></td><td>Collection name used to store sessions.</td></tr><tr><td><code>spring.session.redis.cleanup-cron</code></td><td><code>0 * * * * *</code></td><td>Cron expression for expired session cleanup job.</td></tr><tr><td><code>spring.session.servlet.filter-dispatcher-types</code></td><td><code>async,error,request</code></td><td>Session repository filter dispatcher types.</td></tr><tr><td><code>spring.session.servlet.filter-order</code></td><td></td><td>Session repository filter order.</td></tr><tr><td><code>spring.thymeleaf.enable-spring-el-compiler</code></td><td><code>false</code></td><td>Enable the SpringEL compiler in SpringEL expressions.</td></tr><tr><td><code>spring.thymeleaf.reactive.chunked-mode-view-names</code></td><td></td><td>Comma-separated list of view names (patterns allowed) that should be the only ones executed in CHUNKED mode when a max chunk size is set.</td></tr><tr><td><code>spring.thymeleaf.reactive.full-mode-view-names</code></td><td></td><td>Comma-separated list of view names (patterns allowed) that should be executed in FULL mode even if a max chunk size is set.</td></tr><tr><td><code>spring.thymeleaf.reactive.max-chunk-size</code></td><td><code>0</code></td><td>Maximum size of data buffers used for writing to the response, in bytes.</td></tr><tr><td><code>spring.thymeleaf.reactive.media-types</code></td><td></td><td>Media types supported by the view technology.</td></tr><tr><td><code>spring.thymeleaf.servlet.content-type</code></td><td><code>text/html</code></td><td>Content-Type value written to HTTP responses.</td></tr><tr><td><code>spring.webflux.date-format</code></td><td></td><td>Date format to use.</td></tr><tr><td><code>spring.webflux.static-path-pattern</code></td><td><code>/**</code></td><td>Path pattern used for static resources.</td></tr><tr><td><code>spring.webservices.wsdl-locations</code></td><td></td><td>Comma-separated list of locations of WSDLs and accompanying XSDs to be exposed as beans.</td></tr></tbody></table><table><thead><tr><th>Key</th><th>Replacementï¼ˆæ›¿ä»£ï¼‰</th><th>åŸå› </th></tr></thead><tbody><tr><td><code>banner.charset</code></td><td><code>spring.banner.charset</code></td><td></td></tr><tr><td><code>banner.image.height</code></td><td><code>spring.banner.image.height</code></td><td></td></tr><tr><td><code>banner.image.invert</code></td><td><code>spring.banner.image.invert</code></td><td></td></tr><tr><td><code>banner.image.location</code></td><td><code>spring.banner.image.location</code></td><td></td></tr><tr><td><code>banner.image.margin</code></td><td><code>spring.banner.image.margin</code></td><td></td></tr><tr><td><code>banner.image.width</code></td><td><code>spring.banner.image.width</code></td><td></td></tr><tr><td><code>banner.location</code></td><td><code>spring.banner.location</code></td><td></td></tr><tr><td><code>endpoints.actuator.enabled</code></td><td></td><td>actuator  ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.actuator.path</code></td><td></td><td>actuator  ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.actuator.sensitive</code></td><td></td><td>actuator  ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.auditevents.enabled</code></td><td><code>management.endpoint.  auditevents.enabled</code></td><td></td></tr><tr><td><code>endpoints.auditevents.path</code></td><td><code>management.endpoints.web.path-mapping.auditevents</code></td><td></td></tr><tr><td><code>endpoints.auditevents.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.autoconfig.enabled</code></td><td><code>management.endpoint.   conditions.enabled</code></td><td></td></tr><tr><td><code>endpoints.autoconfig.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.autoconfig.path</code></td><td><code>management.endpoints.web.path-mapping.conditions</code></td><td></td></tr><tr><td><code>endpoints.autoconfig.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.beans.enabled</code></td><td><code>management.endpoint.beans.enabled</code></td><td></td></tr><tr><td><code>endpoints.beans.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.beans.path</code></td><td><code>management.endpoints.web.path-mapping.beans</code></td><td></td></tr><tr><td><code>endpoints.beans.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.configprops.enabled</code></td><td><code>management.endpoint.   configprops.enabled</code></td><td></td></tr><tr><td><code>endpoints.configprops.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.configprops.keys-to-sanitize</code></td><td><code>management.endpoint.     configprops.keys-to-sanitize</code></td><td></td></tr><tr><td><code>endpoints.configprops.path</code></td><td><code>management.endpoints.web.path-mapping.configprops</code></td><td></td></tr><tr><td><code>endpoints.configprops.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.cors.allow-credentials</code></td><td><code>management.endpoints.      web.cors.allow-credentials</code></td><td></td></tr><tr><td><code>endpoints.cors.allowed-headers</code></td><td><code>management.endpoints.    web.cors.allowed-headers</code></td><td></td></tr><tr><td><code>endpoints.cors.allowed-methods</code></td><td><code>management.endpoints.    web.cors.allowed-methods</code></td><td></td></tr><tr><td><code>endpoints.cors.allowed-origins</code></td><td><code>management.endpoints.    web.cors.allowed-origins</code></td><td></td></tr><tr><td><code>endpoints.cors.exposed-headers</code></td><td><code>management.endpoints.    web.cors.exposed-headers</code></td><td></td></tr><tr><td><code>endpoints.cors.max-age</code></td><td><code>management.endpoints.        web.cors.max-age</code></td><td></td></tr><tr><td><code>endpoints.docs.curies.enabled</code></td><td></td><td>docs ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.docs.enabled</code></td><td></td><td>docs ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.docs.path</code></td><td></td><td>docs ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.docs.sensitive</code></td><td></td><td>docs ç«¯ç‚¹ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.dump.enabled</code></td><td><code>management.endpoint.    threaddump.enabled</code></td><td></td></tr><tr><td><code>endpoints.dump.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.dump.path</code></td><td><code>management.endpoints.web.path-mapping.dump</code></td><td></td></tr><tr><td><code>endpoints.dump.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.enabled</code></td><td><code>management.endpoints.             enabled-by-default</code></td><td></td></tr><tr><td><code>endpoints.env.enabled</code></td><td><code>management.endpoint.env.enabled</code></td><td></td></tr><tr><td><code>endpoints.env.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.env.keys-to-sanitize</code></td><td><code>management.endpoint.             env.keys-to-sanitize</code></td><td></td></tr><tr><td><code>endpoints.env.path</code></td><td><code>management.endpoints.            web.path-mapping.env</code></td><td></td></tr><tr><td><code>endpoints.env.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.flyway.enabled</code></td><td><code>management.endpoint.flyway.enabled</code></td><td></td></tr><tr><td><code>endpoints.flyway.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.flyway.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.health.enabled</code></td><td><code>management.endpoint.health.enabled</code></td><td></td></tr><tr><td><code>endpoints.health.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.health.mapping</code></td><td><code>management.health.status.http-mapping</code></td><td></td></tr><tr><td><code>endpoints.health.path</code></td><td><code>management.endpoints.web.path-mapping.health</code></td><td></td></tr><tr><td><code>endpoints.health.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.health.time-to-live</code></td><td><code>management.endpoint.    health.cache.time-to-live</code></td><td></td></tr><tr><td><code>endpoints.heapdump.enabled</code></td><td><code>management.endpoint.heapdump.enabled</code></td><td></td></tr><tr><td><code>endpoints.heapdump.path</code></td><td><code>management.endpoints.web.path-mapping.heapdump</code></td><td></td></tr><tr><td><code>endpoints.heapdump.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.hypermedia.enabled</code></td><td></td><td>Actuator ä¸­çš„ Hypermedia ä¸å†å¯ç”¨</td></tr><tr><td><code>endpoints.info.enabled</code></td><td><code>management.endpoint.info.enabled</code></td><td></td></tr><tr><td><code>endpoints.info.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.info.path</code></td><td><code>management.endpoints.web.path-mapping.info</code></td><td></td></tr><tr><td><code>endpoints.info.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.jmx.domain</code></td><td><code>management.endpoints.jmx.domain</code></td><td></td></tr><tr><td><code>endpoints.jmx.enabled</code></td><td><code>management.endpoints. jmx.exposure.exclude</code></td><td></td></tr><tr><td><code>endpoints.jmx.static-names</code></td><td><code>management.endpoints.        jmx.static-names</code></td><td></td></tr><tr><td><code>endpoints.jmx.unique-names</code></td><td><code>management.endpoints.        jmx.unique-names</code></td><td></td></tr><tr><td><code>endpoints.jolokia.enabled</code></td><td><code>management.endpoint.     jolokia.enabled</code></td><td></td></tr><tr><td><code>endpoints.jolokia.path</code></td><td><code>management.endpoints.web.path-mapping.jolokia</code></td><td></td></tr><tr><td><code>endpoints.jolokia.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.liquibase.enabled</code></td><td><code>management.endpoint.   liquibase.enabled</code></td><td></td></tr><tr><td><code>endpoints.liquibase.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.liquibase.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.logfile.enabled</code></td><td><code>management.endpoint.     logfile.enabled</code></td><td></td></tr><tr><td><code>endpoints.logfile.external-file</code></td><td><code>management.endpoint.     logfile.external-file</code></td><td></td></tr><tr><td><code>endpoints.logfile.path</code></td><td><code>management.endpoints.web.path-mapping.logfile</code></td><td></td></tr><tr><td><code>endpoints.logfile.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.loggers.enabled</code></td><td><code>management.endpoint.      loggers.enabled</code></td><td></td></tr><tr><td><code>endpoints.loggers.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.loggers.path</code></td><td><code>management.endpoints.web.path-mapping.loggers</code></td><td></td></tr><tr><td><code>endpoints.loggers.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.mappings.enabled</code></td><td><code>management.endpoint.     mappings.enabled</code></td><td></td></tr><tr><td><code>endpoints.mappings.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.mappings.path</code></td><td><code>management.endpoints.web.path-mapping.mappings</code></td><td></td></tr><tr><td><code>endpoints.mappings.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.metrics.enabled</code></td><td><code>management.endpoint.metrics.enabled</code></td><td></td></tr><tr><td><code>endpoints.metrics.filter.counter-submissions</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>endpoints.metrics.filter.enabled</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>endpoints.metrics.filter.gauge-submissions</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>endpoints.metrics.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.metrics.path</code></td><td><code>management.endpoints.web.path-mapping.metrics</code></td><td></td></tr><tr><td><code>endpoints.metrics.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.shutdown.enabled</code></td><td><code>management.endpoint.     shutdown.enabled</code></td><td></td></tr><tr><td><code>endpoints.shutdown.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.shutdown.path</code></td><td><code>management.endpoints.web.path-mapping.shutdown</code></td><td></td></tr><tr><td><code>endpoints.shutdown.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>endpoints.trace.enabled</code></td><td><code>management.endpoint.     httptrace.enabled</code></td><td></td></tr><tr><td><code>endpoints.trace.filter.enabled</code></td><td><code>management.trace.http.enabled</code></td><td></td></tr><tr><td><code>endpoints.trace.id</code></td><td></td><td>ç«¯ç‚¹æ ‡è¯†ç¬¦ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>endpoints.trace.path</code></td><td><code>management.endpoints.web.path-mapping.httptrace</code></td><td></td></tr><tr><td><code>endpoints.trace.sensitive</code></td><td></td><td>ç»ˆç«¯æ•æ„Ÿæ ‡å¿—ä¸å†å¯å®šåˆ¶ï¼Œå› ä¸ºSpring Boot ä¸å†æä¾›å¯è‡ªå®šä¹‰çš„å®‰å…¨è‡ªåŠ¨é…ç½®</td></tr><tr><td><code>error.path</code></td><td></td><td>Path of the error controller.</td></tr><tr><td><code>flyway.baseline-description</code></td><td><code>spring.flyway.baseline-description</code></td><td></td></tr><tr><td><code>flyway.baseline-on-migrate</code></td><td><code>spring.flyway.baseline-on-migrate</code></td><td></td></tr><tr><td><code>flyway.baseline-version</code></td><td><code>spring.flyway.baseline-version</code></td><td></td></tr><tr><td><code>flyway.check-location</code></td><td><code>spring.flyway.check-location</code></td><td></td></tr><tr><td><code>flyway.clean-on-validation-error</code></td><td><code>spring.flyway.                    clean-on-validation-error</code></td><td></td></tr><tr><td><code>flyway.enabled</code></td><td><code>spring.flyway.enabled</code></td><td></td></tr><tr><td><code>flyway.encoding</code></td><td><code>spring.flyway.encoding</code></td><td></td></tr><tr><td><code>flyway.ignore-failed-future-migration</code></td><td></td><td></td></tr><tr><td><code>flyway.init-sqls</code></td><td><code>spring.flyway.init-sqls</code></td><td></td></tr><tr><td><code>flyway.locations</code></td><td><code>spring.flyway.locations</code></td><td></td></tr><tr><td><code>flyway.out-of-order</code></td><td><code>spring.flyway.out-of-order</code></td><td></td></tr><tr><td><code>flyway.password</code></td><td><code>spring.flyway.password</code></td><td></td></tr><tr><td><code>flyway.placeholder-prefix</code></td><td><code>spring.flyway.placeholder-prefix</code></td><td></td></tr><tr><td><code>flyway.placeholder-replacement</code></td><td><code>spring.flyway.placeholder-replacement</code></td><td></td></tr><tr><td><code>flyway.placeholder-suffix</code></td><td><code>spring.flyway.placeholder-suffix</code></td><td></td></tr><tr><td><code>flyway.placeholders</code></td><td><code>spring.flyway.placeholders</code></td><td></td></tr><tr><td><code>flyway.schemas</code></td><td><code>spring.flyway.schemas</code></td><td></td></tr><tr><td><code>flyway.sql-migration-prefix</code></td><td><code>spring.flyway.sql-migration-prefix</code></td><td></td></tr><tr><td><code>flyway.sql-migration-separator</code></td><td><code>spring.flyway.sql-migration-separator</code></td><td></td></tr><tr><td><code>flyway.sql-migration-suffix</code></td><td><code>spring.flyway.sql-migration-suffixes</code></td><td></td></tr><tr><td><code>flyway.table</code></td><td><code>spring.flyway.table</code></td><td></td></tr><tr><td><code>flyway.target</code></td><td><code>spring.flyway.target</code></td><td></td></tr><tr><td><code>flyway.url</code></td><td><code>spring.flyway.url</code></td><td></td></tr><tr><td><code>flyway.user</code></td><td><code>spring.flyway.user</code></td><td></td></tr><tr><td><code>flyway.validate-on-migrate</code></td><td><code>spring.flyway.validate-on-migrate</code></td><td></td></tr><tr><td><code>jolokia.config</code></td><td><code>management.endpoint.jolokia.config</code></td><td></td></tr><tr><td><code>liquibase.change-log</code></td><td><code>spring.liquibase.change-log</code></td><td></td></tr><tr><td><code>liquibase.check-change-log-location</code></td><td><code>spring.liquibase.check-change-log-location</code></td><td></td></tr><tr><td><code>liquibase.contexts</code></td><td><code>spring.liquibase.contexts</code></td><td></td></tr><tr><td><code>liquibase.default-schema</code></td><td><code>spring.liquibase.default-schema</code></td><td></td></tr><tr><td><code>liquibase.drop-first</code></td><td><code>spring.liquibase.drop-first</code></td><td></td></tr><tr><td><code>liquibase.enabled</code></td><td><code>spring.liquibase.enabled</code></td><td></td></tr><tr><td><code>liquibase.labels</code></td><td><code>spring.liquibase.labels</code></td><td></td></tr><tr><td><code>liquibase.parameters</code></td><td><code>spring.liquibase.parameters</code></td><td></td></tr><tr><td><code>liquibase.password</code></td><td><code>spring.liquibase.password</code></td><td></td></tr><tr><td><code>liquibase.rollback-file</code></td><td><code>spring.liquibase.rollback-file</code></td><td></td></tr><tr><td><code>liquibase.url</code></td><td><code>spring.liquibase.url</code></td><td></td></tr><tr><td><code>liquibase.user</code></td><td><code>spring.liquibase.user</code></td><td></td></tr><tr><td><code>management.add-application-context-header</code></td><td><code>management.server.add-application-context-header</code></td><td></td></tr><tr><td><code>management.address</code></td><td><code>management.server.address</code></td><td></td></tr><tr><td><code>management.context-path</code></td><td><code>management.server.       servlet.context-path</code></td><td></td></tr><tr><td><code>management.port</code></td><td><code>management.server.port</code></td><td></td></tr><tr><td><code>management.security.enabled</code></td><td></td><td>ç°åœ¨æä¾›å…¨å±€ security è‡ªåŠ¨é…ç½®ã€‚</td></tr><tr><td><code>management.security.roles</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>management.security.sessions</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>management.shell.auth.jaas.domain</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.auth.key.path</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.auth.simple.user.name</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.auth.simple.user.password</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.auth.spring.roles</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.auth.type</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.ssh.auth-timeout</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.ssh.enabled</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.ssh.idle-timeout</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.ssh.key-path</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.ssh.port</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.telnet.enabled</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.shell.telnet.port</code></td><td></td><td>CRaSH æ”¯æŒä¸å†å¯ç”¨</td></tr><tr><td><code>management.ssl.ciphers</code></td><td><code>management.server.ssl.ciphers</code></td><td></td></tr><tr><td><code>management.ssl.client-auth</code></td><td><code>management.server.ssl.client-auth</code></td><td></td></tr><tr><td><code>management.ssl.enabled</code></td><td><code>management.server.ssl.enabled</code></td><td></td></tr><tr><td><code>management.ssl.enabled-protocols</code></td><td><code>management.server.ssl.enabled-protocols</code></td><td></td></tr><tr><td><code>management.ssl.key-alias</code></td><td><code>management.server.ssl.key-alias</code></td><td></td></tr><tr><td><code>management.ssl.key-password</code></td><td><code>management.server.ssl.key-password</code></td><td></td></tr><tr><td><code>management.ssl.key-store</code></td><td><code>management.server.ssl.key-store</code></td><td></td></tr><tr><td><code>management.ssl.key-store-password</code></td><td><code>management.server.ssl.key-store-password</code></td><td></td></tr><tr><td><code>management.ssl.key-store-provider</code></td><td><code>management.server.ssl.key-store-provider</code></td><td></td></tr><tr><td><code>management.ssl.key-store-type</code></td><td><code>management.server.ssl.key-store-type</code></td><td></td></tr><tr><td><code>management.ssl.protocol</code></td><td><code>management.server.ssl.protocol</code></td><td></td></tr><tr><td><code>management.ssl.trust-store</code></td><td><code>management.server.ssl.trust-store</code></td><td></td></tr><tr><td><code>management.ssl.trust-store-password</code></td><td><code>management.server.ssl.trust-store-password</code></td><td></td></tr><tr><td><code>management.ssl.trust-store-provider</code></td><td><code>management.server.ssl.trust-store-provider</code></td><td></td></tr><tr><td><code>management.ssl.trust-store-type</code></td><td><code>management.server.ssl.trust-store-type</code></td><td></td></tr><tr><td><code>management.trace.include</code></td><td><code>management.trace.http.include</code></td><td></td></tr><tr><td><code>security.basic.authorize-mode</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.basic.enabled</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.basic.path</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.basic.realm</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.enable-csrf</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.filter-dispatcher-types</code></td><td><code>spring.security.         filter.dispatcher-types</code></td><td></td></tr><tr><td><code>security.filter-order</code></td><td><code>spring.security.filter.order</code></td><td></td></tr><tr><td><code>security.headers.cache</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.content-security-policy</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.content-security-policy-mode</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.content-type</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.frame</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.hsts</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.headers.xss</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.ignored</code></td><td></td><td>security è‡ªåŠ¨é…ç½®ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.oauth2.                authorization.check-token-access</code></td><td></td><td>Spring Security è®¿é—®è§„åˆ™ç”¨äºæ£€æŸ¥ä»¤ç‰Œç«¯ç‚¹ï¼ˆä¾‹å¦‚ï¼ŒSpELè¡¨è¾¾å¼ï¼Œå¦‚â€œisAuthenticatedï¼ˆï¼‰â€ï¼‰</td></tr><tr><td><code>security.oauth2.authorization.realm</code></td><td></td><td>å®¢æˆ·ç«¯èº«ä»½éªŒè¯çš„é¢†åŸŸåç§°</td></tr><tr><td><code>security.oauth2.authorization.token-key-access</code></td><td></td><td>Spring Securityè®¿é—®è§„åˆ™ç”¨äºæ£€æŸ¥ä»¤ç‰Œç«¯ç‚¹ï¼ˆä¾‹å¦‚ï¼ŒSpELè¡¨è¾¾å¼ï¼Œå¦‚â€œisAuthenticatedï¼ˆï¼‰â€ï¼‰</td></tr><tr><td><code>security.oauth2.client.access-token-uri</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.access-token-validity-seconds</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.additional-information</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.authentication-scheme</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.authorities</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.authorized-grant-types</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.auto-approve-scopes</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.client-authentication-scheme</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.client-id</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.client-secret</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.grant-type</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.id</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.pre-            established-redirect-uri</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.refresh-token-validity-seconds</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.registered-redirect-uri</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.resource-ids</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.scope</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.token-name</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.use-current-uri</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.client.user-authorization-uri</code></td><td></td><td></td></tr><tr><td><code>security.oauth2.resource.filter-order</code></td><td><code>0</code></td><td>ç”¨äºéªŒè¯ä»¤ç‰Œçš„è¿‡æ»¤å™¨é“¾çš„é¡ºåºã€‚</td></tr><tr><td><code>security.oauth2.resource.id</code></td><td></td><td>èµ„æºçš„æ ‡è¯†ç¬¦</td></tr><tr><td><code>security.oauth2.resource.jwk.key-set-uri</code></td><td></td><td>è·å–éªŒè¯å¯†é’¥ä»¥éªŒè¯ JWT ä»¤ç‰Œçš„ URI</td></tr><tr><td><code>security.oauth2.resource.jwt.key-uri</code></td><td></td><td>JWT ä»¤ç‰Œçš„ URI</td></tr><tr><td><code>security.oauth2.resource.jwt.key-value</code></td><td></td><td>JWT ä»¤ç‰Œçš„éªŒè¯å¯†é’¥</td></tr><tr><td><code>security.oauth2.resource.prefer-token-info</code></td><td><code>true</code></td><td>ä½¿ç”¨ä»¤ç‰Œä¿¡æ¯ï¼Œå¯ä»¥è®¾ç½®ä¸º falseä»¥ä½¿ç”¨ç”¨æˆ·ä¿¡æ¯</td></tr><tr><td><code>security.oauth2.resource.service-id</code></td><td><code>resource</code></td><td></td></tr><tr><td><code>security.oauth2.resource.token-info-uri</code></td><td></td><td>token decoding ç«¯ç‚¹çš„ URI</td></tr><tr><td><code>security.oauth2.resource.token-type</code></td><td></td><td>ä½¿ç”¨ userInfoUri æ—¶è¦å‘é€çš„ä»¤ç‰Œç±»å‹ã€‚</td></tr><tr><td><code>security.oauth2.resource.user-info-uri</code></td><td></td><td>ç”¨æˆ·ç«¯ç‚¹çš„ URI</td></tr><tr><td><code>security.oauth2.sso.filter-order</code></td><td></td><td>å¦‚æœä¸æä¾›æ˜¾å¼çš„WebSecurityConfigurerAdapterï¼Œåˆ™åº”ç”¨è¿‡æ»¤å™¨é¡ºåºï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ”¹ä¸ºæä¾›é¡ºåºï¼‰ã€‚</td></tr><tr><td><code>security.oauth2.sso.login-path</code></td><td><code>/login</code></td><td>ç™»å½•é¡µé¢çš„è·¯å¾„ï¼Œå³è§¦å‘é‡å®šå‘åˆ° OAuth2 æˆæƒæœåŠ¡å™¨çš„é¡µé¢ã€‚</td></tr><tr><td><code>security.require-ssl</code></td><td></td><td>security è‡ªåŠ¨é…ç½®å·²ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.sessions</code></td><td></td><td>security è‡ªåŠ¨é…ç½®å·²ä¸å†å¯å®šåˆ¶</td></tr><tr><td><code>security.user.name</code></td><td><code>spring.security.user.name</code></td><td></td></tr><tr><td><code>security.user.password</code></td><td><code>spring.security.user.password</code></td><td></td></tr><tr><td><code>security.user.role</code></td><td><code>spring.security.user.roles</code></td><td></td></tr><tr><td><code>server.context-parameters</code></td><td><code>server.servlet.context-parameters</code></td><td></td></tr><tr><td><code>server.context-path</code></td><td><code>server.servlet.context-path</code></td><td></td></tr><tr><td><code>server.display-name</code></td><td><code>server.servlet.             application-display-name</code></td><td></td></tr><tr><td><code>server.jsp-servlet.class-name</code></td><td><code>server.servlet.jsp.class-name</code></td><td></td></tr><tr><td><code>server.jsp-servlet.init-parameters</code></td><td><code>server.servlet.jsp.init-parameters</code></td><td></td></tr><tr><td><code>server.jsp-servlet.registered</code></td><td><code>server.servlet.jsp.registered</code></td><td></td></tr><tr><td><code>server.servlet-path</code></td><td><code>server.servlet.path</code></td><td></td></tr><tr><td><code>server.session.cookie.comment</code></td><td><code>server.servlet.session.cookie.comment</code></td><td></td></tr><tr><td><code>server.session.cookie.domain</code></td><td><code>server.servlet.session.cookie.domain</code></td><td></td></tr><tr><td><code>server.session.cookie.http-only</code></td><td><code>server.servlet.       session.cookie.http-only</code></td><td></td></tr><tr><td><code>server.session.cookie.max-age</code></td><td><code>server.servlet.session.cookie.max-age</code></td><td></td></tr><tr><td><code>server.session.cookie.name</code></td><td><code>server.servlet.session.cookie.name</code></td><td></td></tr><tr><td><code>server.session.cookie.path</code></td><td><code>server.servlet.session.cookie.path</code></td><td></td></tr><tr><td><code>server.session.cookie.secure</code></td><td><code>server.servlet.session.cookie.secure</code></td><td></td></tr><tr><td><code>server.session.persistent</code></td><td><code>server.servlet.session.persistent</code></td><td></td></tr><tr><td><code>server.session.store-dir</code></td><td><code>server.servlet.session.store-dir</code></td><td></td></tr><tr><td><code>server.session.timeout</code></td><td><code>server.servlet.session.timeout</code></td><td></td></tr><tr><td><code>server.session.tracking-modes</code></td><td><code>server.servlet.session.tracking-modes</code></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.block-if-session-pool-is-full</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.block-if-session-pool-is-full-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.connection-factory</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.create-connection-on-startup</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.expiry-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.idle-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.max-connections</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.maximum-active-session-per-connection</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.properties</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.reconnect-on-exception</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.time-between-expiration-check-millis</code></td><td></td><td></td></tr><tr><td><code>spring.activemq.pool.configuration.use-anonymous-producers</code></td><td></td><td></td></tr><tr><td><code>spring.application.index</code></td><td></td><td>åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ ID é»˜è®¤æƒ…å†µä¸‹æ˜¯å”¯ä¸€çš„</td></tr><tr><td><code>spring.batch.initializer.enabled</code></td><td><code>spring.batch.initialize-schema</code></td><td></td></tr><tr><td><code>spring.cache.guava.spec</code></td><td></td><td>ç”¨äºåˆ›å»ºç¼“å­˜çš„è§„èŒƒ</td></tr><tr><td><code>spring.cache.hazelcast.config</code></td><td></td><td>ç”¨äºåˆå§‹åŒ– Hazelcast çš„é…ç½®æ–‡ä»¶çš„ä½ç½®</td></tr><tr><td><code>spring.data.cassandra.connect-timeout-millis</code></td><td><code>spring.data.          cassandra.connect-timeout</code></td><td></td></tr><tr><td><code>spring.data.cassandra.read-timeout-millis</code></td><td><code>spring.data.cassandra.read-timeout</code></td><td></td></tr><tr><td><code>spring.data.cassandra.repositories.enabled</code></td><td><code>spring.data.cassandra.    repositories.type</code></td><td></td></tr><tr><td><code>spring.data.couchbase.repositories.enabled</code></td><td><code>spring.data.couchbase.    repositories.type</code></td><td></td></tr><tr><td><code>spring.data.mongodb.repositories.enabled</code></td><td><code>spring.data.mongodb.    repositories.type</code></td><td></td></tr><tr><td><code>spring.data.neo4j.compiler</code></td><td></td><td>ä» Neo4j 3 å¼€å§‹ä¸å†æ”¯æŒ</td></tr><tr><td><code>spring.datasource.dbcp.access-to-underlying-connection-allowed</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.connection-init-sqls</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.default-auto-commit</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.default-catalog</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.default-read-only</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.default-transaction-isolation</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.driver-class-name</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.initial-size</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.log-abandoned</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.login-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.max-active</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.max-idle</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.max-open-prepared-statements</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.max-wait</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.min-evictable-idle-time-millis</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.min-idle</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.num-tests-per-eviction-run</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.password</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.pool-prepared-statements</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.remove-abandoned</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.remove-abandoned-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.test-on-borrow</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.test-on-return</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.test-while-idle</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.time-between-eviction-runs-millis</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.url</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.username</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.validation-query</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.dbcp.validation-query-timeout</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.hikari.connection-customizer-class-name</code></td><td></td><td></td></tr><tr><td><code>spring.datasource.initialize</code></td><td><code>spring.datasource.       initialization-mode</code></td><td></td></tr><tr><td><code>spring.devtools.remote.debug.enabled</code></td><td></td><td>è¿œç¨‹ debug å·²ä¸å†æ”¯æŒ</td></tr><tr><td><code>spring.devtools.remote.debug.local-port</code></td><td></td><td>è¿œç¨‹ debug å·²ä¸å†æ”¯æŒ</td></tr><tr><td><code>spring.http.multipart.enabled</code></td><td><code>spring.servlet.multipart.enabled</code></td><td></td></tr><tr><td><code>spring.http.multipart.file-size-threshold</code></td><td><code>spring.servlet.multipart.file-size-threshold</code></td><td></td></tr><tr><td><code>spring.http.multipart.location</code></td><td><code>spring.servlet.multipart.location</code></td><td></td></tr><tr><td><code>spring.http.multipart.max-file-size</code></td><td><code>spring.servlet.multipart.max-file-size</code></td><td></td></tr><tr><td><code>spring.http.multipart.max-request-size</code></td><td><code>spring.servlet.           multipart.max-request-size</code></td><td></td></tr><tr><td><code>spring.http.multipart.resolve-lazily</code></td><td><code>spring.servlet.multipart.resolve-lazily</code></td><td></td></tr><tr><td><code>spring.jpa.hibernate.naming.strategy</code></td><td></td><td>Hibernate 4 çš„è‡ªåŠ¨é…ç½®å·²ä¸å†æä¾›</td></tr><tr><td><code>spring.jta.atomikos.properties.console-log-level</code></td><td><code>warn</code></td><td></td></tr><tr><td><code>spring.messages.cache-seconds</code></td><td><code>spring.messages.cache-duration</code></td><td></td></tr><tr><td><code>spring.metrics.export.aggregate.key-pattern</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.aggregate.prefix</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.delay-millis</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.enabled</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.excludes</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.includes</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.redis.key</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.redis.prefix</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.send-latest</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.statsd.host</code></td><td><code>management.metrics.    export.statsd.host</code></td><td></td></tr><tr><td><code>spring.metrics.export.statsd.port</code></td><td><code>management.metrics.   export.statsd.port</code></td><td></td></tr><tr><td><code>spring.metrics.export.statsd.prefix</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.metrics.export.triggers</code></td><td></td><td>Metrics support ç°åœ¨ä½¿ç”¨åƒåˆ†å°º</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.enable-fallback</code></td><td><code>false</code></td><td>å¯ç”¨å¯¹å›é€€è§£å†³æ–¹æ¡ˆçš„æ”¯æŒ</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.enabled</code></td><td><code>false</code></td><td>å¯ç”¨ device è§†å›¾è§£æå™¨</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.mobile-prefix</code></td><td><code>mobile/</code></td><td>ç”¨äºæŸ¥çœ‹ç§»åŠ¨è®¾å¤‡åç§°çš„å‰ç¼€</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.mobile-suffix</code></td><td>``</td><td>é™„åŠ åç¼€ä»¥æŸ¥çœ‹ç§»åŠ¨è®¾å¤‡çš„åç§°</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.normal-prefix</code></td><td>``</td><td>ç”¨äºæŸ¥çœ‹æ™®é€šè®¾å¤‡åç§°çš„å‰ç¼€.</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.normal-suffix</code></td><td>``</td><td>é™„åŠ åç¼€ä»¥æŸ¥çœ‹æ™®é€šè®¾å¤‡çš„åç§°</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.tablet-prefix</code></td><td><code>tablet/</code></td><td>å‰ç¼€é¢„è®¾ä¸ºæŸ¥çœ‹å¹³æ¿ç”µè„‘è®¾å¤‡çš„åç§°</td></tr><tr><td><code>spring.mobile.devicedelegatingviewresolver.tablet-suffix</code></td><td>``</td><td>é™„åŠ åç¼€ä»¥æŸ¥çœ‹å¹³æ¿ç”µè„‘è®¾å¤‡çš„åç§°</td></tr><tr><td><code>spring.mobile.sitepreference.enabled</code></td><td><code>true</code></td><td>å¯ç”¨ SitePreferenceHandler.</td></tr><tr><td><code>spring.mvc.media-types</code></td><td><code>spring.mvc.    contentnegotiation.media-types</code></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.acknowledge-mode</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.auto-startup</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.concurrency</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.default-requeue-rejected</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.idle-event-interval</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.max-concurrency</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.prefetch</code></td><td></td><td></td></tr><tr><td><code>spring.rabbitmq.listener.retry.enabled</code></td><td><code>false</code></td><td>æ˜¯å¦å¯ç”¨å‘å¸ƒé‡è¯•</td></tr><tr><td><code>spring.rabbitmq.listener.retry.initial-interval</code></td><td><code>1000</code></td><td>ç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡å°è¯•å‘å¸ƒæˆ–ä¼ é€’è®¯æ¯çš„æ—¶é—´é—´éš”</td></tr><tr><td><code>spring.rabbitmq.listener.retry.max-attempts</code></td><td><code>3</code></td><td>å°è¯•å‘å¸ƒæˆ–ä¼ é€’é‚®ä»¶çš„æœ€å¤§æ¬¡æ•°</td></tr><tr><td><code>spring.rabbitmq.listener.retry.max-interval</code></td><td><code>10000</code></td><td>å°è¯•ä¹‹é—´çš„æœ€å¤§é—´éš”</td></tr><tr><td><code>spring.rabbitmq.listener.retry.multiplier</code></td><td><code>1</code></td><td>äºå…ˆå‰é‡è¯•é—´éš”çš„å€æ•°</td></tr><tr><td><code>spring.rabbitmq.listener.retry.stateless</code></td><td><code>true</code></td><td>æ— è®ºé‡è¯•æ˜¯æ— çŠ¶æ€è¿˜æ˜¯æœ‰çŠ¶æ€</td></tr><tr><td><code>spring.rabbitmq.listener.transaction-size</code></td><td></td><td></td></tr><tr><td><code>spring.redis.pool.max-active</code></td><td><code>spring.redis.jedis.pool.max-idle</code></td><td></td></tr><tr><td><code>spring.redis.pool.max-idle</code></td><td><code>spring.redis.jedis.pool.max-idle</code></td><td></td></tr><tr><td><code>spring.redis.pool.max-wait</code></td><td><code>spring.redis.jedis.pool.max-wait</code></td><td></td></tr><tr><td><code>spring.redis.pool.min-idle</code></td><td><code>spring.redis.jedis.pool.min-idle</code></td><td></td></tr><tr><td><code>spring.resources.cache-period</code></td><td><code>spring.resources.cache.period</code></td><td></td></tr><tr><td><code>spring.sendgrid.password</code></td><td></td><td>ä¸å†æ”¯æŒä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç  ( ä½¿ç”¨ spring.sendgrid.api-key ä»£æ›¿ )</td></tr><tr><td><code>spring.sendgrid.username</code></td><td></td><td>ä¸å†æ”¯æŒä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç  ( ä½¿ç”¨ spring.sendgrid.api-key ä»£æ›¿ )</td></tr><tr><td><code>spring.session.jdbc.initializer.enabled</code></td><td><code>spring.session.         jdbc.initialize-schema</code></td><td></td></tr><tr><td><code>spring.session.mongo.collection-name</code></td><td><code>spring.session.mongodb.collection-name</code></td><td></td></tr><tr><td><code>spring.social.auto-connection-views</code></td><td><code>false</code></td><td>ä¸ºæ”¯æŒçš„ç”Ÿäº§è€…å¯ç”¨è¿æ¥çŠ¶æ€è§†å›¾</td></tr><tr><td><code>spring.social.facebook.app-id</code></td><td></td><td>Application id.</td></tr><tr><td><code>spring.social.facebook.app-secret</code></td><td></td><td>Application secret.</td></tr><tr><td><code>spring.social.linkedin.app-id</code></td><td></td><td>Application id.</td></tr><tr><td><code>spring.social.linkedin.app-secret</code></td><td></td><td>Application secret.</td></tr><tr><td><code>spring.social.twitter.app-id</code></td><td></td><td>Application id.</td></tr><tr><td><code>spring.social.twitter.app-secret</code></td><td></td><td>Application secret.</td></tr><tr><td><code>spring.thymeleaf.content-type</code></td><td><code>spring.thymeleaf.      servlet.content-type</code></td></tr></tbody></table><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</a></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è‹±æ–‡å‚è€ƒï¼š<a href="">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Configuration-Changelog</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fqc4n57tj4j31hc0zktmm.jpg&quot; alt=&quot;pocket-watch-3156771_1920&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>å†™è¿™ä¹ˆå¤šç³»åˆ—åšå®¢ï¼Œæ€ªä¸å¾—æ‰¾ä¸åˆ°å¥³æœ‹å‹</title>
    <link href="http://yoursite.com/2018/03/27/blogs/"/>
    <id>http://yoursite.com/2018/03/27/blogs/</id>
    <published>2018-03-26T16:00:00.000Z</published>
    <updated>2018-03-27T15:18:02.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fprrv5n1p2j31hc0u0tm6.jpg" alt="nature-3054445_1920"></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>å¥½å‡ å‘¨æ²¡æ›´æ–°åšå®¢äº†ï¼Œå¯¹ä¸æ–­æ”¯æŒæˆ‘åšå®¢çš„ç«¥é‹ä»¬è¯´å£°ï¼šâ€œæŠ±æ­‰äº†ï¼â€ã€‚è‡ªå·±è¿™æ®µæ—¶é—´ç¡®å®æ¯”è¾ƒå¿™ï¼Œè€Œä¸”è¿˜åœ¨æŠ½ç©ºå®Œæˆå­¦æ ¡çš„æ¯•ä¸šè®¾è®¡ã€‚ä»Šå¤©æ™šä¸ŠæŠ½ç©ºæŠŠå¤§å­¦æœŸé—´å†™è¿‡çš„åšå®¢å¼„ä¸€ä¸ªç³»åˆ—æ–‡ç« åˆé›†ï¼Œç®—æ˜¯å¯¹å¤§å­¦è¿™å››å¹´çš„ä¸€ä¸ªæ€»ç»“ï¼Œè¯æ˜è‡ªå·±æ²¡ç™½è¿‡ã€‚</p><a id="more"></a><p>ç†Ÿæ‚‰æˆ‘çš„äººéƒ½çŸ¥é“æˆ‘å†™åšå®¢çš„æ—¶é—´æ¯”è¾ƒæ—©ï¼Œè€Œä¸”åšæŒçš„æ—¶é—´ä¹Ÿæ¯”è¾ƒä¹…ï¼Œä¸€ç›´åˆ°ç°åœ¨ä¹Ÿæ˜¯ä¸€ç›´ä¿æŒç€æ›´æ–°çŠ¶æ€ã€‚æœ€æ—©æœ€æ—©å¼€å§‹å†™åšå®¢æ˜¯åœ¨ CSDN ä¸Šå†™çš„ï¼Œç„¶ååœ¨ç®€ä¹¦ä¹Ÿå†™è¿‡ä¸€æ®µæ—¶é—´ï¼Œåæ¥æ”¾å¼ƒäº†ç®€ä¹¦è½¬æˆ˜äº†æ˜é‡‘ï¼Œä»¥ä¸‹å›¾ç‰‡æ˜¯è‡ªå·±åœ¨æ˜é‡‘è¿™ä¸€å¹´çš„æˆæœï¼Œå¿« <strong>1.5 ä¸‡</strong>å…³æ³¨äº†ï¼Œå“ˆå“ˆå“ˆã€‚</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fprrv4ovhqj31kw0iaadw.jpg" alt="21"></p><p>å»å¹´è¿‡å¹´å‰è¿˜æ”¶åˆ°æ˜é‡‘é€æ¥çš„ä¸“å±ç¤¼ç‰©ï¼ŒçœŸæ˜¯æ¿€åŠ¨ï¼Œæ„Ÿè°¢æ˜é‡‘ï¼Œå¸Œæœ›è¶ŠåŠè¶Šå¥½ï¼</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fprrv2qhutj31kw23vu0x.jpg" alt="IMG_20180206_125142"></p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fprrv7e4wvj31kw23vb29.jpg" alt="IMG_20180206_125159"></p><p>ç»†æ•°æ–‡ç« åï¼Œå‘ç°è‡ªå·±åœ¨å®ä¹ çš„è¿™æ®µæ—¶é—´å†™çš„åšå®¢ä¹ŸæŒºå¤šçš„ï¼Œè€Œä¸”è´¨é‡è¿˜æ¯”è¾ƒé«˜ï¼Œç»å¸¸ä¸Šå¼€å‘è€…å¤´æ¡ã€æ˜é‡‘ç­‰å¹³å°çš„é¦–é¡µæ¨èã€‚åœ¨æ­¤ï¼Œæ„Ÿè°¢å®ä¹ æœŸé—´ç»„å†…å¤§ä½¬ä»¬çš„å„ç§å¸®åŠ©ï¼</p><p>è¿™é‡Œå†æ¬¡è¯´ä¸‹å†™åšå®¢çš„å¥½å¤„ï¼š</p><ul><li>å¾ˆå¥½çš„ç”¨æ¥æ€»ç»“è‡ªå·±æ‰€å­¦çš„çŸ¥è¯†</li><li>é‡åˆ°é‚£ä¹ˆä¸€ç¾¤ä¹Ÿå†™åšå®¢çš„å¤§ä½¬ï¼Œæœ‰å…±åŒè¯é¢˜èŠäº†</li><li>é¢è¯•åŠ åˆ†ï¼ˆåœ¨ç®€å†ä¸Šæ”¾ä¸Šè‡ªå·±çš„ä¸ªäººç½‘ç«™é“¾æ¥ï¼Œé¢è¯•å®˜å°±å¯ä»¥æ›´å¥½çš„äº†è§£ä½ ï¼ŒçŸ¥é“ä½ æ‰€å­¦çŸ¥è¯†çš„æ·±åº¦å’Œå¹¿åº¦ï¼‰</li></ul><p>ä¸è¦å°çœ‹ä½ çš„æ¯ä¸€ç¯‡ä¸èµ·çœ¼åšå®¢ï¼Œç”¨ä¸€ä¸ªèš‚èšé‡‘æœå¤§ä½¬è·Ÿæˆ‘è¯´çš„è¯å«åšï¼š<strong>åšç§¯è–„å‘</strong>ï¼</p><p>ä¸å¤šè¯´äº†ï¼Œå¦‚æœæƒ³å’Œæˆ‘äº¤æµçš„å¯ä»¥åŠ æˆ‘ qq ç¾¤ï¼š<strong>528776268</strong>    å’Œæˆ‘çš„å¾®ä¿¡ï¼š<strong>zhisheng_tian</strong></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/03/27/blogs/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/03/27/blogs/</a></p><h3 id="ç³»åˆ—æ–‡ç« åˆé›†"><a href="#ç³»åˆ—æ–‡ç« åˆé›†" class="headerlink" title="ç³»åˆ—æ–‡ç« åˆé›†"></a>ç³»åˆ—æ–‡ç« åˆé›†</h3><h4 id="Spring-Boot-ç³»åˆ—æ–‡ç« "><a href="#Spring-Boot-ç³»åˆ—æ–‡ç« " class="headerlink" title="Spring Boot ç³»åˆ—æ–‡ç« "></a><strong>Spring Boot ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šSpringBoot Kafka æ•´åˆä½¿ç”¨</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/17/SpringBoot-Admin/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šSpringBoot Admin ä½¿ç”¨æŒ‡å—</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šSpringBoot RabbitMQ æ•´åˆä½¿ç”¨</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/01/27/SpringBoot-ActiveMQ/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆå››ï¼‰ï¼šSpringBoot ActiveMQ æ•´åˆä½¿ç”¨</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/01/28/RabbitMQ/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆäº”ï¼‰ï¼šSpringBoot RabbitMQ æ•´åˆè¿›é˜¶ç‰ˆ</a></p><p>6ã€<a href="http://www.54tianzhisheng.cn/2018/02/07/SpringBoot-RocketMQ/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆå…­ï¼‰ï¼šSpringBoot RocketMQ æ•´åˆä½¿ç”¨å’Œç›‘æ§</a></p><p>7ã€æ›´å¤šè¯·æœŸå¾…</p><h4 id="Spring-Boot-2-0-ç³»åˆ—æ–‡ç« "><a href="#Spring-Boot-2-0-ç³»åˆ—æ–‡ç« " class="headerlink" title="Spring Boot 2.0 ç³»åˆ—æ–‡ç« "></a><strong>Spring Boot 2.0 ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€åé¢ç»å¯¹æœ‰æ›´å¤šæ–‡ç« å‡ºç°çš„</p><h4 id="Docker-ç³»åˆ—æ–‡ç« "><a href="#Docker-ç³»åˆ—æ–‡ç« " class="headerlink" title="Docker ç³»åˆ—æ–‡ç« "></a><strong>Docker ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/11/26/Docker-harbor/" target="_blank" rel="noopener">Dockerç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šåŸºäº Harbor æ­å»º Docker ç§æœ‰é•œåƒä»“åº“</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/25/Docker-install/" target="_blank" rel="noopener">Dockerç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šMac å®‰è£… Docker åŠå¸¸ç”¨å‘½ä»¤</a></p><p>3ã€åŒæ ·ï¼Œåé¢ä¹Ÿä¼šæŒç»­æ›´æ–°</p><h4 id="ElasticSearch-ç³»åˆ—æ–‡ç« "><a href="#ElasticSearch-ç³»åˆ—æ–‡ç« " class="headerlink" title="ElasticSearch ç³»åˆ—æ–‡ç« "></a><strong>ElasticSearch ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/09/08/Elasticsearch-analyzers/" target="_blank" rel="noopener">Elasticsearch ç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šElasticsearch é»˜è®¤åˆ†è¯å™¨å’Œä¸­åˆ†åˆ†è¯å™¨ä¹‹é—´çš„æ¯”è¾ƒåŠä½¿ç”¨æ–¹æ³•</a></p><p>2ã€ <a href="http://www.54tianzhisheng.cn/2017/09/09/Elasticsearch-install/" target="_blank" rel="noopener">Elasticsearch ç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šå…¨æ–‡æœç´¢å¼•æ“ Elasticsearch é›†ç¾¤æ­å»ºå…¥é—¨æ•™ç¨‹</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/10/15/ElasticSearch-cluster-health-metrics/" target="_blank" rel="noopener">Elasticsearch ç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šElasticSearch é›†ç¾¤ç›‘æ§</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/10/18/ElasticSearch-nodes-metrics/" target="_blank" rel="noopener">Elasticsearch ç³»åˆ—æ–‡ç« ï¼ˆå››ï¼‰ï¼šElasticSearch å•ä¸ªèŠ‚ç‚¹ç›‘æ§</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2017/12/25/ELK/" target="_blank" rel="noopener">Elasticsearch ç³»åˆ—æ–‡ç« ï¼ˆäº”ï¼‰ï¼šELK å®æ—¶æ—¥å¿—åˆ†æå¹³å°ç¯å¢ƒæ­å»º</a></p><p>6ã€ä¹Ÿæœ‰æ›´å¤šæ·±å…¥çš„æ–‡ç« </p><h4 id="æ­å»ºåšå®¢ç³»åˆ—æ–‡ç« "><a href="#æ­å»ºåšå®¢ç³»åˆ—æ–‡ç« " class="headerlink" title="æ­å»ºåšå®¢ç³»åˆ—æ–‡ç« "></a><strong>æ­å»ºåšå®¢ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/03/28/%E5%88%A9%E7%94%A8Github%20Page%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E7%BD%91%E7%AB%99/" target="_blank" rel="noopener">åˆ©ç”¨Github Page æ­å»ºä¸ªäººåšå®¢ç½‘ç«™</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/04/13/Hexo-yilia-changyan/" target="_blank" rel="noopener">Github pages + Hexo åšå®¢ yilia ä¸»é¢˜ä½¿ç”¨ç•…è¨€è¯„è®ºç³»ç»Ÿ</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/12/18/hexo-yilia/" target="_blank" rel="noopener">Hexo + yilia æ­å»ºåšå®¢å¯èƒ½ä¼šé‡åˆ°çš„æ‰€æœ‰ç–‘é—®</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Hexo-yilia-toc/" target="_blank" rel="noopener">Hexo + yilia ä¸»é¢˜å®ç°æ–‡ç« ç›®å½•</a></p><p>5ã€è¿™ä¸ªç³»åˆ—çœ‹æƒ…å†µï¼Œå¯èƒ½è¿˜ä¼šæœ‰</p><h4 id="Java-ç³»åˆ—æ–‡ç« "><a href="#Java-ç³»åˆ—æ–‡ç« " class="headerlink" title="Java ç³»åˆ—æ–‡ç« "></a><strong>Java ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/String-new/" target="_blank" rel="noopener">å…³äºString s = new String(â€œxyzâ€); åˆ›å»ºå‡ ä¸ªå¯¹è±¡çš„é—®é¢˜</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Java-Thread/" target="_blank" rel="noopener">ã€ŠJava å¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯ã€‹å­¦ä¹ ç¬”è®°åŠæ€»ç»“</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/java-var/" target="_blank" rel="noopener">ä»å¯¹è±¡æ·±å…¥åˆ†æ Java ä¸­å®ä¾‹å˜é‡å’Œç±»å˜é‡çš„åŒºåˆ«</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/%E6%B7%B1%E5%BA%A6%E6%8E%A2%E7%A9%B6Java%20%E4%B8%AD%20finally%20%E8%AF%AD%E5%8F%A5%E5%9D%97/" target="_blank" rel="noopener">æ·±åº¦æ¢ç©¶Java ä¸­ finally è¯­å¥å—</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/%E8%A7%A3%E5%86%B3jdk1.8%E4%B8%AD%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%E5%A4%B1%E8%B4%A5%EF%BC%88handshake_failure%EF%BC%89%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">è§£å†³jdk1.8ä¸­å‘é€é‚®ä»¶å¤±è´¥ï¼ˆhandshake_failureï¼‰é—®é¢˜</a></p><p>6ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%20Java%20Web%20%E4%B8%AD%E7%9A%84%E4%B8%AD%E6%96%87%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/" target="_blank" rel="noopener">æ·±å…¥åˆ†æ Java Web ä¸­çš„ä¸­æ–‡ç¼–ç é—®é¢˜</a></p><p>7ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/%E5%A5%87%E6%80%AA%E7%9A%84Java%E9%A2%98%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88128%20==%20128%E8%BF%94%E5%9B%9E%E4%B8%BAFalse%EF%BC%8C%E8%80%8C127%20==%20127%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%BATrue-/" target="_blank" rel="noopener">å¥‡æ€ªçš„Javaé¢˜ï¼šä¸ºä»€ä¹ˆ128 == 128è¿”å›ä¸ºFalseï¼Œè€Œ127 == 127ä¼šè¿”å›ä¸ºTrue?</a></p><p>8ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/java%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6/" target="_blank" rel="noopener">Javaè¯»å–æ–‡ä»¶</a></p><p>9ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/HashMap-Hashtable/" target="_blank" rel="noopener">HashMapã€Hashtableã€HashSet å’Œ ConcurrentHashMap çš„æ¯”è¾ƒ</a></p><p>10ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Java%E8%BF%9E%E6%8E%A5Oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%B8%89%E7%A7%8D%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F/" target="_blank" rel="noopener">Javaè¿æ¥Oracleæ•°æ®åº“çš„ä¸‰ç§è¿æ¥æ–¹å¼</a></p><p>11ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Java%20NIO%20%E7%B3%BB%E5%88%97%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">Java NIO ç³»åˆ—æ•™ç¨‹</a></p><p>12ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Java-16-lession/" target="_blank" rel="noopener">ã€Šç–¯ç‹‚ Java çªç ´ç¨‹åºå‘˜åŸºæœ¬åŠŸçš„ 16 è¯¾ã€‹è¯»ä¹¦ç¬”è®°</a></p><p>13ã€<a href="http://www.54tianzhisheng.cn/2017/06/17/%E8%AF%A6%E7%BB%86%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90%20Java%20ClassLoader%20%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/" target="_blank" rel="noopener">è¯¦ç»†æ·±å…¥åˆ†æ Java ClassLoader å·¥ä½œæœºåˆ¶</a></p><p>14ã€<a href="http://www.54tianzhisheng.cn/2017/06/17/%E8%AF%A6%E8%A7%A3%20Filter%20%E8%BF%87%E6%BB%A4%E5%99%A8/" target="_blank" rel="noopener">è¯¦è§£ Filter è¿‡æ»¤å™¨</a></p><p>15ã€<a href="http://www.54tianzhisheng.cn/2017/06/23/java-io/" target="_blank" rel="noopener">Java IOæµå­¦ä¹ è¶…è¯¦ç»†æ€»ç»“ï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼‰</a></p><p>16ã€<a href="http://www.54tianzhisheng.cn/2017/07/09/servlet/" target="_blank" rel="noopener">é€šè¿‡æºç è¯¦è§£ Servlet</a></p><p>17ã€<a href="http://www.54tianzhisheng.cn/2017/07/25/Java-performance-tuning/" target="_blank" rel="noopener">Java æ€§èƒ½è°ƒä¼˜éœ€è¦æ ¼å¤–æ³¨æ„çš„ç»†èŠ‚</a></p><p>18ã€<a href="http://www.54tianzhisheng.cn/2017/07/29/ThreadPool/" target="_blank" rel="noopener">Java çº¿ç¨‹æ± è‰ºæœ¯æ¢ç´¢</a></p><p>19ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/JVM%E6%80%A7%E8%83%BD%E8%B0%83%E4%BC%98%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7jps%E3%80%81jstack%E3%80%81jmap%E3%80%81jhat%E3%80%81jstat%E7%AD%89%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/" target="_blank" rel="noopener">JVMæ€§èƒ½è°ƒä¼˜ç›‘æ§å·¥å…·jpsã€jstackã€jmapã€jhatã€jstatç­‰ä½¿ç”¨è¯¦è§£</a></p><p>20ã€è¿™ä¸ªå¿…é¡»çš„æŒç»­æ›´æ–°ä¸‹å»</p><h4 id="Maven-ç³»åˆ—æ–‡ç« "><a href="#Maven-ç³»åˆ—æ–‡ç« " class="headerlink" title="Maven  ç³»åˆ—æ–‡ç« "></a><strong>Maven  ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/10/14/Nexus3-Maven/" target="_blank" rel="noopener">Centos7 æ­å»ºæœ€æ–° Nexus3 Maven ç§æœ</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/11/11/Maven-dependencies-dependencyManagement/" target="_blank" rel="noopener">Maven ä¸­ dependencies ä¸ dependencyManagement çš„åŒºåˆ«</a></p><h4 id="Kafka-ç³»åˆ—æ–‡ç« "><a href="#Kafka-ç³»åˆ—æ–‡ç« " class="headerlink" title="Kafka ç³»åˆ—æ–‡ç« "></a><strong>Kafka ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/01/04/Kafka/" target="_blank" rel="noopener">Kafka å®‰è£…åŠå¿«é€Ÿå…¥é—¨</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šSpringBoot Kafka æ•´åˆä½¿ç”¨</a></p><h4 id="Mybatis-ç³»åˆ—æ–‡ç« "><a href="#Mybatis-ç³»åˆ—æ–‡ç« " class="headerlink" title="Mybatis ç³»åˆ—æ–‡ç« "></a><strong>Mybatis ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://blog.csdn.net/tzs_1041218129/article/details/53404326" target="_blank" rel="noopener">é€šè¿‡é¡¹ç›®é€æ­¥æ·±å…¥äº†è§£Mybatis&lt;ä¸€&gt;</a></p><p>2ã€<a href="http://blog.csdn.net/tzs_1041218129/article/details/53449052" target="_blank" rel="noopener">é€šè¿‡é¡¹ç›®é€æ­¥æ·±å…¥äº†è§£Mybatis&lt;äºŒ&gt;</a></p><p>3ã€<a href="http://blog.csdn.net/tzs_1041218129/article/details/53456677" target="_blank" rel="noopener">é€šè¿‡é¡¹ç›®é€æ­¥æ·±å…¥äº†è§£Mybatis&lt;ä¸‰&gt;</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/06/15/%E9%80%9A%E8%BF%87%E9%A1%B9%E7%9B%AE%E9%80%90%E6%AD%A5%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3Mybatis(%E5%9B%9B" target="_blank" rel="noopener">é€šè¿‡é¡¹ç›®é€æ­¥æ·±å…¥äº†è§£Mybatisï¼ˆå››)</a>/)</p><p>5ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/MyBatis-foreach/" target="_blank" rel="noopener">MyBatisçš„foreachè¯­å¥è¯¦è§£</a></p><p>6ã€æœŸå¾…å®ƒçš„æºç è§£ææ–‡ç« å—ï¼Ÿ</p><h4 id="Nginx-ç³»åˆ—æ–‡ç« "><a href="#Nginx-ç³»åˆ—æ–‡ç« " class="headerlink" title="Nginx ç³»åˆ—æ–‡ç« "></a><strong>Nginx ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/08/18/Ubuntu-install-Nginx/" target="_blank" rel="noopener">Ubuntu16.10 å®‰è£… Nginx</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/08/05/Nginx/" target="_blank" rel="noopener">Nginx åŸºæœ¬çŸ¥è¯†å¿«é€Ÿå…¥é—¨</a></p><h4 id="Python-çˆ¬è™«ç³»åˆ—æ–‡ç« "><a href="#Python-çˆ¬è™«ç³»åˆ—æ–‡ç« " class="headerlink" title="Python çˆ¬è™«ç³»åˆ—æ–‡ç« "></a><strong>Python çˆ¬è™«ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Python%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E4%B9%8B%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E8%B4%B4%E5%90%A7%E5%B8%96%E5%AD%90/" target="_blank" rel="noopener">Pythonçˆ¬è™«å®æˆ˜ä¹‹çˆ¬å–ç™¾åº¦è´´å§å¸–å­</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Pyspider%E6%A1%86%E6%9E%B6%20%E2%80%94%E2%80%94%20Python%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E4%B9%8B%E7%88%AC%E5%8F%96%20V2EX%20%E7%BD%91%E7%AB%99%E5%B8%96%E5%AD%90/" target="_blank" rel="noopener">Pyspideræ¡†æ¶ â€”â€” Pythonçˆ¬è™«å®æˆ˜ä¹‹çˆ¬å– V2EX ç½‘ç«™å¸–å­</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Python%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E4%B9%8B%E7%88%AC%E5%8F%96%E7%B3%97%E4%BA%8B%E7%99%BE%E7%A7%91%E6%AE%B5%E5%AD%90/" target="_blank" rel="noopener">Pythonçˆ¬è™«å®æˆ˜ä¹‹çˆ¬å–ç³—äº‹ç™¾ç§‘æ®µå­</a></p><p>4ã€è¿™ä¸ªä¼°è®¡å¾—ç­‰æœ‰æœºä¼šå†æ¬¡å­¦ Python æ—¶å†å†™</p><h4 id="RocketMQ-ç³»åˆ—æ–‡ç« "><a href="#RocketMQ-ç³»åˆ—æ–‡ç« " class="headerlink" title="RocketMQ ç³»åˆ—æ–‡ç« "></a><strong>RocketMQ ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/" target="_blank" rel="noopener">RocketMQç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šRocketMQ åˆæ¢</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/" target="_blank" rel="noopener">RocketMQç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šRocketMQ å®‰è£…åŠå¿«é€Ÿå…¥é—¨</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/02/07/rocketmq-example/" target="_blank" rel="noopener">RocketMQç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šRocketMQ ç®€å•çš„æ¶ˆæ¯ç¤ºä¾‹</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/02/07/SpringBoot-RocketMQ/" target="_blank" rel="noopener">Spring Bootç³»åˆ—æ–‡ç« ï¼ˆå…­ï¼‰ï¼šSpringBoot RocketMQ æ•´åˆä½¿ç”¨å’Œç›‘æ§</a></p><h4 id="Spring-MVC-ç³»åˆ—æ–‡ç« "><a href="#Spring-MVC-ç³»åˆ—æ–‡ç« " class="headerlink" title="Spring MVC ç³»åˆ—æ–‡ç« "></a><strong>Spring MVC ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Spring%20MVC%20+%20Hibernate%20JPA%20+%20Bootstrap%20%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">Spring MVCç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šSpring MVC + Hibernate JPA + Bootstrap æ­å»ºçš„åšå®¢ç³»ç»Ÿ Demo</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/06/13/Spring%20MVC+Hibernate%20JPA%E6%90%AD%E5%BB%BA%E7%9A%84%E5%8D%9A%E5%AE%A2%E7%B3%BB%E7%BB%9F%E9%A1%B9%E7%9B%AE%E4%B8%AD%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/" target="_blank" rel="noopener">Spring MVCç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šSpring MVC+Hibernate JPAæ­å»ºçš„åšå®¢ç³»ç»Ÿé¡¹ç›®ä¸­æ‰€é‡åˆ°çš„å‘</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/07/14/Spring-MVC01/" target="_blank" rel="noopener">Spring MVCç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šçœ‹é€ Spring MVC æºä»£ç åˆ†æä¸å®è·µ â€”â€” ç½‘ç«™åŸºç¡€çŸ¥è¯†</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/07/14/Spring-MVC02/" target="_blank" rel="noopener">Spring MVCç³»åˆ—æ–‡ç« ï¼ˆå››ï¼‰ï¼šçœ‹é€ Spring MVC æºä»£ç åˆ†æä¸å®è·µ â€”â€” ä¿¯è§† Spring MVC</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2017/07/21/Spring-MVC03/" target="_blank" rel="noopener">Spring MVCç³»åˆ—æ–‡ç« ï¼ˆäº”ï¼‰ï¼šçœ‹é€ Spring MVC æºä»£ç åˆ†æä¸å®è·µ â€”â€” Spring MVC ç»„ä»¶åˆ†æ</a></p><p>6ã€<a href="http://www.54tianzhisheng.cn/2017/06/16/%E9%80%9A%E8%BF%87%E9%A1%B9%E7%9B%AE%E9%80%90%E6%AD%A5%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3Spring%20MVC%EF%BC%88%E4%B8%80%EF%BC%89/" target="_blank" rel="noopener">é€šè¿‡é¡¹ç›®é€æ­¥æ·±å…¥äº†è§£Spring MVCï¼ˆä¸€ï¼‰</a></p><h4 id="Netty-ç³»åˆ—æ–‡ç« "><a href="#Netty-ç³»åˆ—æ–‡ç« " class="headerlink" title="Netty ç³»åˆ—æ–‡ç« "></a><strong>Netty ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/12/08/netty-01-env/" target="_blank" rel="noopener">Nettyç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šNetty æºç é˜…è¯»ä¹‹åˆå§‹ç¯å¢ƒæ­å»º</a></p><p>2ã€è¿™ä¸ªç³»åˆ—è¿Ÿæ—©ä¼šæ›´æ–°çš„ã€‚</p><h4 id="å‰ç«¯ç³»åˆ—æ–‡ç« "><a href="#å‰ç«¯ç³»åˆ—æ–‡ç« " class="headerlink" title="å‰ç«¯ç³»åˆ—æ–‡ç« "></a><strong>å‰ç«¯ç³»åˆ—æ–‡ç« </strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/06/18/Bootstrap%E5%85%A5%E9%97%A8%E9%9C%80%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E4%B8%80%EF%BC%89/" target="_blank" rel="noopener">Bootstrapå…¥é—¨éœ€æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼ˆä¸€ï¼‰</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/06/18/Bootstrap%E5%85%A5%E9%97%A8%E9%9C%80%E6%8E%8C%E6%8F%A1%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%88%E4%BA%8C%EF%BC%89/" target="_blank" rel="noopener">Bootstrapå…¥é—¨éœ€æŒæ¡çš„çŸ¥è¯†ç‚¹ï¼ˆäºŒï¼‰</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/12/09/CodeMirror/" target="_blank" rel="noopener">ä½¿ç”¨ CodeMirror æ‰“é€ å±äºè‡ªå·±çš„åœ¨çº¿ä»£ç ç¼–è¾‘å™¨</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2017/06/23/AJAX/" target="_blank" rel="noopener">AJAX å­¦ä¹ </a></p><p>5ã€å‰ç«¯æ¸£æ¸£è¿™ä¸ªä¹Ÿè¦æ…¢æ…¢å­¦ä¹ è¿™å—</p><h4 id="é¢è¯•ç»éªŒç³»åˆ—"><a href="#é¢è¯•ç»éªŒç³»åˆ—" class="headerlink" title="é¢è¯•ç»éªŒç³»åˆ—"></a><strong>é¢è¯•ç»éªŒç³»åˆ—</strong></h4><p>1ã€<a href="http://www.54tianzhisheng.cn/2017/08/04/yaxin/" target="_blank" rel="noopener">ç§‹æ‹›ç¬¬ä¸€ç«™ â€”â€” äºšä¿¡ç§‘æŠ€</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2017/08/04/iqiyi/" target="_blank" rel="noopener">ç§‹æ‹›ç¬¬äºŒç«™ â€”â€” å†…æ¨çˆ±å¥‡è‰ºï¼ˆä¸€é¢äºŒé¢ï¼‰</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2017/08/04/alibaba/" target="_blank" rel="noopener">ç§‹æ‹›ç¬¬ä¸‰ç«™ â€”â€” å†…æ¨é˜¿é‡Œï¼ˆä¸€é¢ï¼‰</a></p><p>4ã€ <a href="http://www.54tianzhisheng.cn/2017/09/17/Interview-summary/" target="_blank" rel="noopener">é¢è¯•è¿‡é˜¿é‡Œç­‰äº’è”ç½‘å¤§å…¬å¸ï¼Œæˆ‘çŸ¥é“äº†è¿™äº›å¥—è·¯</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2017/08/28/recommend-books/" target="_blank" rel="noopener">é‚£äº›å¹´æˆ‘çœ‹è¿‡çš„ä¹¦ â€”â€” è‡´æ•¬æˆ‘çš„å¤§å­¦ç”Ÿæ´» â€”â€” Say Good Bye ï¼</a></p><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a><strong>å…¶ä»–</strong></h4><p>è¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹é¢çš„æŠ€æœ¯æ–‡ç« ï¼Œç®—ä¸æ˜¯ç³»åˆ—æ–‡ç« ï¼Œæ¯”è¾ƒé›¶æ•£ï¼Œè¿˜æœ‰å°±æ˜¯ä¸€äº›éšç¬”æ–‡ç« ï¼Œå°±ä¸æŠŠå®ƒä»¬æ”¾åœ¨åˆé›†é‡Œäº†ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç”¨è‡ªå·±çš„ä¸€å¥è¯ï¼š<strong>å‘è¦ä¸€ä¸ªä¸ªå¡«ï¼Œè·¯è¦ä¸€æ­¥æ­¥èµ°ï¼å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰ï¼Œå­¦ä¼šæ„Ÿæ©ï¼</strong></p><p>å»ºäº†ä¸ªä¸é”™çš„å¾®ä¿¡ç¾¤ï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„å¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼Œå¯¹æˆ‘å›å¤  <strong>åŠ ç¾¤</strong> ï¼Œç„¶åä¼šæ‹‰ä½ è¿›ç¾¤äº¤æµã€‚</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t1jn6s4j30qi0z10x1.jpg" alt="1520091522031"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fprrv5n1p2j31hc0u0tm6.jpg&quot; alt=&quot;nature-3054445_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;å¥½å‡ å‘¨æ²¡æ›´æ–°åšå®¢äº†ï¼Œå¯¹ä¸æ–­æ”¯æŒæˆ‘åšå®¢çš„ç«¥é‹ä»¬è¯´å£°ï¼šâ€œæŠ±æ­‰äº†ï¼â€ã€‚è‡ªå·±è¿™æ®µæ—¶é—´ç¡®å®æ¯”è¾ƒå¿™ï¼Œè€Œä¸”è¿˜åœ¨æŠ½ç©ºå®Œæˆå­¦æ ¡çš„æ¯•ä¸šè®¾è®¡ã€‚ä»Šå¤©æ™šä¸ŠæŠ½ç©ºæŠŠå¤§å­¦æœŸé—´å†™è¿‡çš„åšå®¢å¼„ä¸€ä¸ªç³»åˆ—æ–‡ç« åˆé›†ï¼Œç®—æ˜¯å¯¹å¤§å­¦è¿™å››å¹´çš„ä¸€ä¸ªæ€»ç»“ï¼Œè¯æ˜è‡ªå·±æ²¡ç™½è¿‡ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="åšå®¢åˆé›†" scheme="http://yoursite.com/tags/%E5%8D%9A%E5%AE%A2%E5%90%88%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</title>
    <link href="http://yoursite.com/2018/03/06/SpringBoot2-Migration-Guide/"/>
    <id>http://yoursite.com/2018/03/06/SpringBoot2-Migration-Guide/</id>
    <published>2018-03-05T16:00:00.000Z</published>
    <updated>2018-04-19T02:21:11.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fp3h0820m2j31hc0zkwxr.jpg" alt=""></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>å¸Œæœ›æœ¬æ–‡æ¡£å°†å¸®åŠ©æ‚¨æŠŠåº”ç”¨ç¨‹åºè¿ç§»åˆ° Spring Boot 2.0ã€‚</p><a id="more"></a><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/</a></p><h3 id="åœ¨ä½ å¼€å§‹ä¹‹å‰"><a href="#åœ¨ä½ å¼€å§‹ä¹‹å‰" class="headerlink" title="åœ¨ä½ å¼€å§‹ä¹‹å‰"></a>åœ¨ä½ å¼€å§‹ä¹‹å‰</h3><p>é¦–å…ˆï¼Œ<strong>Spring Boot 2.0 éœ€è¦ Java 8 æˆ–æ›´é«˜ç‰ˆæœ¬</strong>ã€‚ä¸å†æ”¯æŒ Java 6 å’Œ 7 äº†ã€‚</p><p>åœ¨ Spring Boot 2.0 ä¸­ï¼Œè®¸å¤šé…ç½®å±æ€§è¢«é‡æ–°å‘½å/åˆ é™¤ï¼Œå¼€å‘äººå‘˜éœ€è¦æ›´æ–°<code>application.properties</code>/ <code>application.yml</code>ç›¸åº”çš„é…ç½®ã€‚ä¸ºäº†å¸®åŠ©ä½ è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒSpring Boot å‘å¸ƒäº†ä¸€ä¸ªæ–°<code>spring-boot-properties-migrator</code>æ¨¡å—ã€‚ä¸€æ—¦ä½œä¸ºè¯¥æ¨¡å—ä½œä¸ºä¾èµ–è¢«æ·»åŠ åˆ°ä½ çš„é¡¹ç›®ä¸­ï¼Œå®ƒä¸ä»…ä¼šåˆ†æåº”ç”¨ç¨‹åºçš„ç¯å¢ƒï¼Œè€Œä¸”è¿˜ä¼šåœ¨å¯åŠ¨æ—¶æ‰“å°è¯Šæ–­ä¿¡æ¯ï¼Œè€Œä¸”è¿˜ä¼šåœ¨è¿è¡Œæ—¶ä¸ºæ‚¨æš‚æ—¶è¿ç§»å±æ€§ã€‚åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºè¿ç§»æœŸé—´ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯å¿…å¤‡çš„ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-properties-migrator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå®Œæˆè¿ç§»åï¼Œè¯·ç¡®ä¿ä»é¡¹ç›®çš„ä¾èµ–å…³ç³»ä¸­åˆ é™¤æ­¤æ¨¡å—ã€‚</p><h3 id="æ„å»ºæ‚¨çš„-Spring-Boot-åº”ç”¨ç¨‹åº"><a href="#æ„å»ºæ‚¨çš„-Spring-Boot-åº”ç”¨ç¨‹åº" class="headerlink" title="æ„å»ºæ‚¨çš„ Spring Boot åº”ç”¨ç¨‹åº"></a>æ„å»ºæ‚¨çš„ Spring Boot åº”ç”¨ç¨‹åº</h3><h4 id="Spring-Boot-Maven-æ’ä»¶"><a href="#Spring-Boot-Maven-æ’ä»¶" class="headerlink" title="Spring Boot Maven æ’ä»¶"></a>Spring Boot Maven æ’ä»¶</h4><p>ä¸ºäº†ä¿æŒäº†ä¸€è‡´æ€§ï¼Œå¹¶ä¸”é¿å…ä¸å…¶ä»–æ’ä»¶å‘ç”Ÿå†²çªï¼Œç°åœ¨æš´éœ²çš„æ’ä»¶é…ç½®å±æ€§éƒ½ä»¥ä¸€ä¸ª<code>spring-boot</code>å‰ç¼€å¼€å§‹ã€‚</p><p>ä¾‹å¦‚ï¼Œä»¥ä¸‹å‘½ä»¤<code>prod</code>ä½¿ç”¨å‘½ä»¤è¡Œå¯ç”¨é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn spring-boot:run -Dspring-boot.run.profiles=prod</span><br></pre></td></tr></table></figure><h5 id="Surefire-é»˜è®¤å€¼"><a href="#Surefire-é»˜è®¤å€¼" class="headerlink" title="Surefire é»˜è®¤å€¼"></a>Surefire é»˜è®¤å€¼</h5><p>ä»¥å‰çš„ <code>include/exclude</code> æ¨¡å¼å·²ä¸æœ€æ–°çš„ Surefire é»˜è®¤è®¾ç½®ä¿æŒä¸€è‡´ã€‚å¦‚æœä¾èµ–äºæ­¤æ’ä»¶ï¼Œéœ€è¦ç›¸åº”åœ°æ›´æ–°æ’ä»¶é…ç½®ã€‚ä¹‹å‰å¯¹åº”çš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*Tests.java<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*Test.java<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">excludes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exclude</span>&gt;</span>**/Abstract*.java<span class="tag">&lt;/<span class="name">exclude</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">excludes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>PS: å¦‚æœæ‚¨ä½¿ç”¨ JUnit 5ï¼Œåˆ™åº”å°† Surefire é™çº§åˆ° <code>2.19.1</code>ã€‚è¯¥<code>**/*Tests.java</code>ç‰ˆæœ¬ä¸åŒ…å«æ­¤æ¨¡å¼ï¼Œå› æ­¤å¦‚æœæ‚¨ä¾èµ–è¯¥æ¨¡å¼ï¼Œè¯·ç¡®ä¿å°†å…¶æ·»åŠ åˆ°æ‚¨çš„é…ç½®ä¸­ã€‚</p><h4 id="Spring-Boot-Gradle-æ’ä»¶"><a href="#Spring-Boot-Gradle-æ’ä»¶" class="headerlink" title="Spring Boot Gradle æ’ä»¶"></a>Spring Boot Gradle æ’ä»¶</h4><p>Spring Boot çš„ Gradle æ’ä»¶åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå·²è¢«é‡å†™ï¼Œæœ‰äº†é‡å¤§çš„æ”¹è¿›ã€‚æ‚¨å¯ä»¥åœ¨å…¶<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/gradle-plugin/reference" target="_blank" rel="noopener">å‚è€ƒæ–‡çŒ®</a>å’Œ<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/gradle-plugin/api" target="_blank" rel="noopener">API</a>æ–‡æ¡£ä¸­é˜…è¯»å…³äºæ’ä»¶åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ã€‚</p><h5 id="ä¾èµ–ç®¡ç†"><a href="#ä¾èµ–ç®¡ç†" class="headerlink" title="ä¾èµ–ç®¡ç†"></a>ä¾èµ–ç®¡ç†</h5><p>Spring Boot çš„ Gradle æ’ä»¶ä¸å†è‡ªåŠ¨åº”ç”¨ä¾èµ–ç®¡ç†æ’ä»¶ã€‚ç›¸åï¼ŒSpring Boot çš„æ’ä»¶ç°åœ¨å¯ä»¥é€šè¿‡å¯¼å…¥æ­£ç¡®ç‰ˆæœ¬çš„spring-boot-dependencies BOM æ¥åº”ç”¨ä¾èµ–ç®¡ç†æ’ä»¶ã€‚å½“ä¾èµ–ç®¡ç†è¢«é…ç½®çš„æ—¶å€™ï¼Œè¿™ä¸€ç‚¹ä¼šè®©ä½ æœ‰æ›´å¤šçš„æ§åˆ¶æƒã€‚</p><p>å¯¹äºå¤§å¤šæ•°åº”ç”¨ç¨‹åºï¼Œä½¿ç”¨åº”ç”¨ä¾èµ–ç®¡ç†æ’ä»¶å°±è¶³å¤Ÿäº†ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apply plugin: &apos;org.springframework.boot&apos;</span><br><span class="line">apply plugin: &apos;io.spring.dependency-management&apos; // &lt;-- add this to your build.gradle</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä¾èµ–ç®¡ç†æ’ä»¶ä»ç„¶æ˜¯ spring-boot-gradle-plugin çš„ä¼ é€’ä¾èµ–é¡¹ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨ buildscript é…ç½®ä¸­å°†å…¶åˆ—ä¸ºç±»è·¯å¾„ä¾èµ–é¡¹ã€‚</p><h5 id="å»ºç«‹å¯æ‰§è¡Œçš„-Jars-å’Œ-Wars"><a href="#å»ºç«‹å¯æ‰§è¡Œçš„-Jars-å’Œ-Wars" class="headerlink" title="å»ºç«‹å¯æ‰§è¡Œçš„ Jars å’Œ Wars"></a>å»ºç«‹å¯æ‰§è¡Œçš„ Jars å’Œ Wars</h5><p> <code>bootRepackage</code> ä»»åŠ¡å·²ç»è¢«æ›¿æ¢æˆ <code>bootJar</code> å’Œ <code>bootWar</code> ä»»åŠ¡ï¼Œåˆ†åˆ«ç”¨äºæ„å»ºå¯æ‰§è¡Œçš„ <code>jar</code> åŒ…å’Œ <code>war</code>åŒ…ã€‚</p><h5 id="é…ç½®æ›´æ–°"><a href="#é…ç½®æ›´æ–°" class="headerlink" title="é…ç½®æ›´æ–°"></a>é…ç½®æ›´æ–°</h5><p><code>BootRun</code>ï¼Œ<code>BootJar</code>å’Œ<code>BootWar</code>ä»»åŠ¡ç°åœ¨éƒ½ä½¿ç”¨<code>mainClassName</code>çš„å±æ€§æ¥é…ç½®ä¸»ç±»çš„åç§°ã€‚è¿™ä½¿å¾—ä¸‰ä¸ªç‰¹å®šäºå¼•å¯¼çš„ä»»åŠ¡ç›¸äº’ä¸€è‡´ï¼Œå¹¶å°†å…¶ä¸ Gradle è‡ªå·±çš„åº”ç”¨ç¨‹åºæ’ä»¶è¿›è¡Œå¯¹é½ã€‚</p><h3 id="Spring-Boot-ç‰¹æ€§"><a href="#Spring-Boot-ç‰¹æ€§" class="headerlink" title="Spring Boot ç‰¹æ€§"></a>Spring Boot ç‰¹æ€§</h3><h4 id="é»˜è®¤åŠ¨æ€ä»£ç†ç­–ç•¥"><a href="#é»˜è®¤åŠ¨æ€ä»£ç†ç­–ç•¥" class="headerlink" title="é»˜è®¤åŠ¨æ€ä»£ç†ç­–ç•¥"></a>é»˜è®¤åŠ¨æ€ä»£ç†ç­–ç•¥</h4><p>Spring Boot é»˜è®¤ä½¿ç”¨ CGLIB åšåŠ¨æ€ä»£ç†ä»£ç†(åŸºäºç±»çš„åŠ¨æ€ä»£ç†)ï¼ŒåŒ…æ‹¬å¯¹ AOP çš„æ”¯æŒã€‚å¦‚æœä½ éœ€è¦åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ï¼Œä½ éœ€è¦å°†<code>spring.aop.proxy-target-class</code> è®¾ç½®ä¸º<code>false</code>ã€‚</p><h4 id="SpringApplication"><a href="#SpringApplication" class="headerlink" title="SpringApplication"></a>SpringApplication</h4><h5 id="Web-ç¯å¢ƒ"><a href="#Web-ç¯å¢ƒ" class="headerlink" title="Web ç¯å¢ƒ"></a>Web ç¯å¢ƒ</h5><p>Spring Boot åº”ç”¨ç¨‹åºç°åœ¨å¯ä»¥åœ¨æ›´å¤šæ¨¡å¼ä¸‹è¿è¡Œï¼Œå› æ­¤<code>spring.main.web-environment</code>ç°åœ¨ä¸æ¨èä½¿ç”¨ï¼Œ<code>spring.main.web-application-type</code>å±æ€§å¯ä»¥æä¾›æ›´å¤šçš„æ”¯æŒã€‚</p><p>å¦‚æœæ‚¨æƒ³ç¡®ä¿åº”ç”¨ç¨‹åºä¸å¯åŠ¨ Web æœåŠ¡å™¨ï¼Œåˆ™å¿…é¡»å°†è¯¥å±æ€§æ›´æ”¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.main.web-application-type=none</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¯ä»¥é€šè¿‡  <code>SpringApplication</code> çš„ <code>setWebApplicationType</code> æ–¹æ³•å®ç°ã€‚</p><h5 id="Spring-Boot-åº”ç”¨ç¨‹åºäº‹ä»¶æ›´æ”¹"><a href="#Spring-Boot-åº”ç”¨ç¨‹åºäº‹ä»¶æ›´æ”¹" class="headerlink" title="Spring Boot åº”ç”¨ç¨‹åºäº‹ä»¶æ›´æ”¹"></a>Spring Boot åº”ç”¨ç¨‹åºäº‹ä»¶æ›´æ”¹</h5><p>æˆ‘ä»¬å·²ç»æ·»åŠ äº†ä¸€ä¸ªæ–°äº‹ä»¶<code>ApplicationStartedEvent</code>ã€‚ <code>ApplicationStartedEvent</code>åœ¨ä¸Šä¸‹æ–‡åˆ·æ–°ä¹‹åä½†åœ¨ä»»ä½•åº”ç”¨ç¨‹åºå’Œå‘½ä»¤è¡Œå‚æ•°è¢«è°ƒç”¨ä¹‹å‰å‘é€ã€‚ <code>ApplicationReadyEvent</code>åœ¨ä»»ä½•åº”ç”¨ç¨‹åºå’Œå‘½ä»¤è¡Œå‚æ•°è¢«è°ƒç”¨åå‘é€ã€‚å®ƒè¡¨ç¤ºåº”ç”¨ç¨‹åºå·²å‡†å¤‡å¥½ä¸ºè¯·æ±‚æä¾›æœåŠ¡ã€‚</p><p>è¯·å‚é˜…<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-application-events-and-listeners" target="_blank" rel="noopener">æ›´æ–°çš„å‚è€ƒæ–‡æ¡£</a>ã€‚</p><h5 id="Banner"><a href="#Banner" class="headerlink" title="Banner"></a>Banner</h5><p>åœ¨æˆ‘ä»¬é™åˆ¶ Spring Boot ä½¿ç”¨çš„æ ¹åç§°ç©ºé—´çš„æ•°é‡çš„è¿‡ç¨‹ä¸­ï¼Œä¸æ ‡å¿—ç›¸å…³çš„å±æ€§å·²è¢«é‡å®šä½åˆ°<code>spring.banner</code>ã€‚</p><h4 id="å¤–éƒ¨åŒ–é…ç½®"><a href="#å¤–éƒ¨åŒ–é…ç½®" class="headerlink" title="å¤–éƒ¨åŒ–é…ç½®"></a>å¤–éƒ¨åŒ–é…ç½®</h4><h5 id="è½»æ¾çš„ç»‘å®š"><a href="#è½»æ¾çš„ç»‘å®š" class="headerlink" title="è½»æ¾çš„ç»‘å®š"></a>è½»æ¾çš„ç»‘å®š</h5><p>æœ‰å…³å®½æ¾ç»‘å®šçš„è§„åˆ™å·²ç»æ”¶ç´§ã€‚æˆ‘ä»¬å‡è®¾ä¸€ä¸ªç°æœ‰çš„<code>acme.my-project.my-name</code>å±æ€§ï¼š</p><ol><li>æ‰€æœ‰å‰ç¼€å¿…é¡»æ˜¯ kebabæ ¼å¼ï¼ˆå°å†™ï¼Œè¿å­—ç¬¦åˆ†éš”ï¼‰<code>acme.myProject</code>æˆ–<code>acme.my_project</code>æ— æ•ˆ - æ‚¨å¿…é¡»<code>acme.my-project</code>åœ¨æ­¤å¤„ä½¿ç”¨ã€‚</li><li>å±æ€§åç§°å¯ä»¥ä½¿ç”¨ kebab-caseï¼ˆ<code>my-name</code>ï¼‰ï¼Œcamel-caseï¼ˆ<code>myName</code>ï¼‰æˆ– snake-caseï¼ˆ<code>my_name</code>ï¼‰ã€‚</li><li>ç¯å¢ƒå±æ€§ï¼ˆæ¥è‡ªæ“ä½œç³»ç»Ÿç¯å¢ƒå˜é‡ï¼‰<em>å¿…é¡»ä½¿ç”¨</em>é€šå¸¸çš„å¤§å†™ä¸‹åˆ’çº¿æ ¼å¼ï¼Œä¸‹åˆ’çº¿<em>åªèƒ½</em>ç”¨äºåˆ†éš”é”®çš„å„ä¸ªéƒ¨åˆ†<code>ACME_MYPROJECT_MYNAME</code>ã€‚</li></ol><p>è¿™ç§æ–°çš„æ”¾æ¾ç»‘å®šå…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š</p><ul><li>æ— éœ€æ‹…å¿ƒå¯†é’¥çš„ç»“æ„<code>@ConditionalOnProperty</code>ï¼šåªè¦å¯†é’¥æ˜¯ä»¥è§„èŒƒæ ¼å¼å®šä¹‰çš„ï¼Œæ”¯æŒçš„æ¾æ•£å˜ä½“å°±å¯ä»¥é€æ˜åœ°å·¥ä½œã€‚å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨è¯¥<code>prefix</code>å±æ€§ï¼Œåˆ™ç°åœ¨åªéœ€ä½¿ç”¨<code>name</code>æˆ–<code>value</code>å±æ€§å³å¯æ”¾ç½®å®Œæ•´å¯†é’¥ã€‚</li><li><code>RelaxedPropertyResolver</code>ä¸å†å¯ä»¥<code>Environment</code>è‡ªåŠ¨å¤„ç†ï¼š<code>env.getProperty(&quot;com.foo.my-bar&quot;)</code>å°†æ‰¾åˆ°ä¸€ä¸ª<code>com.foo.myBar</code>å±æ€§ã€‚</li></ul><p>è¯¥<code>org.springframework.boot.bind</code>è½¯ä»¶åŒ…ä¸å†å¯ç”¨ï¼Œå¹¶è¢«<a href="https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0" target="_blank" rel="noopener">æ–°çš„å®½æ¾ç»‘å®šè§„åˆ™</a>æ‰€å–ä»£ã€‚ç‰¹åˆ«æ˜¯ï¼Œ<code>RelaxedDataBinder</code>æœ‹å‹å·²è¢«æ–°çš„<code>Binder</code>API å–ä»£ã€‚ä»¥ä¸‹æ ·å“<code>MyProperties</code>ä»<code>app.acme</code>å‰ç¼€ä¸­è¿›è¡Œç»‘å®šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyProperties target = Binder.get(environment)</span><br><span class="line">.bind(<span class="string">"app.acme"</span>, MyProperties.class)</span><br><span class="line">.orElse(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure><p>ç”±äºç°åœ¨å†…ç½®äº†è½»æ¾ç»‘å®šï¼Œå› æ­¤åªè¦ä½¿ç”¨å…¶ä¸­ä¸€ç§æ”¯æŒçš„æ ¼å¼ï¼Œå°±å¯ä»¥è¯·æ±‚ä»»ä½•å±æ€§è€Œä¸å¿…å…³å¿ƒæ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FlagType flagType = Binder.get(environment)</span><br><span class="line">.bind(<span class="string">"acme.app.my-flag"</span>, FlagType.class)</span><br><span class="line">.orElse(FlagType.DEFAULT);</span><br></pre></td></tr></table></figure><h5 id="ConfigurationProperties-éªŒè¯"><a href="#ConfigurationProperties-éªŒè¯" class="headerlink" title="@ConfigurationProperties éªŒè¯"></a><code>@ConfigurationProperties</code> éªŒè¯</h5><p>å¦‚æœæ‚¨æƒ³æ‰“å¼€éªŒè¯ï¼Œç°åœ¨å¿…é¡»ä¸ºæ‚¨çš„<code>@ConfigurationProperties</code>å¯¹è±¡æ·»åŠ æ³¨é‡Š<code>@Validated</code>ã€‚</p><h5 id="é…ç½®ä½ç½®"><a href="#é…ç½®ä½ç½®" class="headerlink" title="é…ç½®ä½ç½®"></a>é…ç½®ä½ç½®</h5><p><code>spring.config.location</code>é…ç½®çš„æ–¹å¼å·²è¢«ä¿®å¤; å®ƒæå‰å°†ä¸€ä¸ªä½ç½®æ·»åŠ åˆ°é»˜è®¤ä½ç½®åˆ—è¡¨ä¸­ï¼Œç°åœ¨å®ƒå°†æ›¿æ¢é»˜è®¤ä½ç½®ã€‚å¦‚æœä½ æ˜¯æŒ‰ç…§ä»¥å‰çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œç°åœ¨åº”è¯¥ä½¿ç”¨å®ƒ<code>spring.config.additional-location</code>è¿›è¡Œæ›¿æ¢ã€‚</p><h4 id="å¼€å‘-Web-åº”ç”¨ç¨‹åº"><a href="#å¼€å‘-Web-åº”ç”¨ç¨‹åº" class="headerlink" title="å¼€å‘ Web åº”ç”¨ç¨‹åº"></a>å¼€å‘ Web åº”ç”¨ç¨‹åº</h4><h5 id="åµŒå…¥å¼å®¹å™¨åŒ…è£…ç»“æ„"><a href="#åµŒå…¥å¼å®¹å™¨åŒ…è£…ç»“æ„" class="headerlink" title="åµŒå…¥å¼å®¹å™¨åŒ…è£…ç»“æ„"></a>åµŒå…¥å¼å®¹å™¨åŒ…è£…ç»“æ„</h5><p>ä¸ºäº†æ”¯æŒå“åº”å¼ç”¨ä¾‹ï¼ŒåµŒå…¥å¼å®¹å™¨åŒ…ç»“æ„å·²ç»è¢«å¤§å¹…åº¦çš„é‡æ„ã€‚ <code>EmbeddedServletContainer</code>å·²è¢«é‡æ–°å‘½åä¸ºï¼Œ<code>WebServer</code>å¹¶ä¸”è¯¥<code>org.springframework.boot.context.embedded</code>åŒ…å·²è¢«é‡æ–°å®šä½åˆ°<code>org.springframework.boot.web.embedded</code>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨<code>TomcatEmbeddedServletContainerFactory</code>å›è°ƒæ¥å£å®šåˆ¶åµŒå…¥å¼ Tomcat å®¹å™¨ï¼Œåˆ™åº”è¯¥ä½¿ç”¨<code>TomcatServletWebServerFactory</code>ã€‚</p><h5 id="ç‰¹å®šäº-Servlet-çš„æœåŠ¡å™¨å±æ€§"><a href="#ç‰¹å®šäº-Servlet-çš„æœåŠ¡å™¨å±æ€§" class="headerlink" title="ç‰¹å®šäº Servlet çš„æœåŠ¡å™¨å±æ€§"></a>ç‰¹å®šäº Servlet çš„æœåŠ¡å™¨å±æ€§</h5><p>è®¸å¤š<code>server.*</code> å±æ€§ ( Servlet ç‰¹æœ‰çš„) å·²ç»è½¬ç§»åˆ°<code>server.servlet</code>ï¼š</p><table><thead><tr><th style="text-align:center">æ—§çš„å±æ€§</th><th style="text-align:center">æ–°çš„å±æ€§</th></tr></thead><tbody><tr><td style="text-align:center">server.context-parameters.*</td><td style="text-align:center">server.servlet.context-parameters.*</td></tr><tr><td style="text-align:center">server.context-path</td><td style="text-align:center">server.servlet.context-path</td></tr><tr><td style="text-align:center">server.jsp.class-name</td><td style="text-align:center">server.servlet.jsp.class-name</td></tr><tr><td style="text-align:center">server.jsp.init-parameters.*</td><td style="text-align:center">server.servlet.jsp.init-parameters.*</td></tr><tr><td style="text-align:center">server.jsp.registered</td><td style="text-align:center">server.servlet.jsp.registered</td></tr><tr><td style="text-align:center">server.servlet-path</td><td style="text-align:center">server.servlet.path</td></tr></tbody></table><h5 id="Web-Starter-ä½œä¸ºä¼ é€’ä¾èµ–"><a href="#Web-Starter-ä½œä¸ºä¼ é€’ä¾èµ–" class="headerlink" title="Web Starter ä½œä¸ºä¼ é€’ä¾èµ–"></a>Web Starter ä½œä¸ºä¼ é€’ä¾èµ–</h5><p>ä»¥å‰æœ‰å‡ ä¸ª Spring Boot starter æ˜¯ä¾èµ–äº Spring MVC è€Œä¼ é€’çš„<code>spring-boot-starter-web</code>ã€‚åœ¨ <code>Spring WebFlux</code> æ–°çš„æ”¯æŒä¸‹ï¼Œ<code>spring-boot-starter-mustache</code>ï¼Œ<code>spring-boot-starter-freemarker</code>å¹¶<code>spring-boot-starter-thymeleaf</code>ä¸å†ä¾èµ–å®ƒã€‚å¼€å‘è€…æœ‰è´£ä»»é€‰æ‹©å’Œæ·»åŠ <code>spring-boot-starter-web</code>æˆ–<code>spring-boot-starter-webflux</code>ã€‚</p><h5 id="æ¨¡æ¿å¼•æ“"><a href="#æ¨¡æ¿å¼•æ“" class="headerlink" title="æ¨¡æ¿å¼•æ“"></a>æ¨¡æ¿å¼•æ“</h5><p>Mustache æ¨¡æ¿æ›¾ç»çš„æ–‡ä»¶æ‰©å±•åæ˜¯<code>.html</code>ï¼Œç°åœ¨çš„æ‰©å±•åä¸º <code>.mustache</code> ï¼Œä¸å®˜æ–¹è§„èŒƒå’Œå¤§å¤šæ•° IDE æ’ä»¶ä¸€è‡´ã€‚æ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹<code>spring.mustache.suffix</code>é…ç½®é”®æ¥è¦†ç›–æ­¤æ–°çš„é»˜è®¤å€¼ã€‚</p><h5 id="Jackson-JSON-æ”¯æŒ"><a href="#Jackson-JSON-æ”¯æŒ" class="headerlink" title="Jackson / JSON æ”¯æŒ"></a>Jackson / JSON æ”¯æŒ</h5><p>åœ¨ 2.0 ä¸­ï¼Œæˆ‘ä»¬æ”¹å˜äº† Jackson é…ç½®çš„é»˜è®¤å€¼ï¼Œå°† ISO-8601 å­—ç¬¦ä¸² å†™ä¸º JSR-310 æ—¥æœŸ ã€‚å¦‚æœä½ æƒ³å›åˆ°ä»¥å‰çš„è¡Œä¸ºï¼Œä½ å¯ä»¥æ·»åŠ <code>spring.jackson.serialization.write-dates-as-timestamps=true</code>åˆ°ä½ çš„é…ç½®ã€‚</p><p>æ–°çš„<code>spring-boot-starter-json</code> starter æ”¶é›†äº†å¿…è¦çš„ä½å»è¯»å†™ JSONã€‚å®ƒä¸ä»…æä¾›äº†<code>jackson-databind</code>ï¼Œè€Œä¸”æä¾›äº†å’Œ Java8 ä¸€èµ·è¿ä½œçš„æ—¶å€™ç›¸å½“æœ‰ç”¨çš„ç»„ä»¶ï¼š<code>jackson-datatype-jdk8</code>,  <code>jackson-datatype-jsr310</code> å’Œ <code>jackson-module-parameter-names</code>ã€‚å¦‚æœä½ æ›¾ç»æ‰‹åŠ¨åœ°ä¾èµ–è¿™äº›ç»„ä»¶ï¼Œç°åœ¨å¯ä»¥ä¾èµ–è¿™ä¸ªæ–°çš„ starter å–ä»£ã€‚</p><h5 id="Spring-MVC-è·¯å¾„åŒ¹é…é»˜è®¤è¡Œä¸ºæ›´æ”¹"><a href="#Spring-MVC-è·¯å¾„åŒ¹é…é»˜è®¤è¡Œä¸ºæ›´æ”¹" class="headerlink" title="Spring MVC è·¯å¾„åŒ¹é…é»˜è®¤è¡Œä¸ºæ›´æ”¹"></a>Spring MVC è·¯å¾„åŒ¹é…é»˜è®¤è¡Œä¸ºæ›´æ”¹</h5><p>æˆ‘ä»¬å·²å†³å®šåœ¨ Spring MVC åº”ç”¨ç¨‹åºä¸­æ›´æ”¹åç¼€è·¯å¾„åŒ¹é…çš„é»˜è®¤å€¼ï¼ˆè¯·å‚é˜…<a href="https://github.com/spring-projects/spring-boot/issues/11105" target="_blank" rel="noopener">ï¼ƒ11105</a>ï¼‰ã€‚æŒ‰ç…§ Spring Framework ä¸­è®°å½•çš„<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestmapping-suffix-pattern-match" target="_blank" rel="noopener">æœ€ä½³å®è·µ</a>ï¼Œæ­¤åŠŸèƒ½ä¸å†é»˜è®¤å¯ç”¨ã€‚</p><p>å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå¸Œæœ›å°†è¯·æ±‚<code>&quot;GET /projects/spring-boot.json&quot;</code>æ˜ å°„åˆ°<code>@GetMapping(&quot;/projects/spring-boot&quot;)</code>æ˜ å°„ï¼Œåˆ™æ­¤æ›´æ”¹ä¼šå½±å“æ‚¨ã€‚</p><p>æœ‰å…³æ­¤æ›´å¤šä¿¡æ¯ä»¥åŠå¦‚ä½•å‡è½»æ­¤æ›´æ”¹ï¼Œè¯·æŸ¥é˜…<a href="https://docs.spring.io/spring-boot/docs/2.0.0.RC1/reference/html/boot-features-developing-web-applications.html#boot-features-spring-mvc-pathmatch" target="_blank" rel="noopener">Spring Bootä¸­æœ‰å…³è·¯å¾„åŒ¹é…å’Œå†…å®¹åå•†çš„å‚è€ƒæ–‡æ¡£</a>ã€‚</p><h5 id="Servlet-è¿‡æ»¤å™¨"><a href="#Servlet-è¿‡æ»¤å™¨" class="headerlink" title="Servlet è¿‡æ»¤å™¨"></a>Servlet è¿‡æ»¤å™¨</h5><p>Servlet è¿‡æ»¤å™¨çš„é»˜è®¤è°ƒåº¦ç¨‹åºç±»å‹ç°åœ¨æ˜¯<code>DipatcherType.REQUEST</code>; è¿™ä½¿ Spring Boot çš„é»˜è®¤å€¼ä¸ Servlet è§„èŒƒçš„é»˜è®¤å€¼ä¸€è‡´ã€‚å¦‚æœæ‚¨å¸Œæœ›å°†è¿‡æ»¤å™¨æ˜ å°„åˆ°å…¶ä»–è°ƒåº¦ç¨‹åºç±»å‹ï¼Œè¯·ä½¿ç”¨<code>FilterRegistrationBean</code>æ³¨å†Œæ‚¨çš„è¿‡æ»¤å™¨ã€‚</p><p>æ³¨æ„ï¼šSpring Security å’Œ Spring Session è¿‡æ»¤å™¨é…ç½®  <code>ASYNC</code>, <code>ERROR</code>ä»¥åŠ <code>REQUEST</code> è°ƒåº¦ç±»å‹ã€‚</p><h5 id="RestTemplateBuilder"><a href="#RestTemplateBuilder" class="headerlink" title="RestTemplateBuilder"></a>RestTemplateBuilder</h5><p>è¯¥<code>requestFactory(ClientHttpRequestFactory)</code>æ–¹æ³•å·²è¢«æ–°<code>requestFactory(Supplier&lt;ClientHttpRequestFactory&gt; requestFactorySupplier)</code>æ–¹æ³•æ‰€å–ä»£ã€‚<code>Supplier</code>å…è®¸æ„å»ºå™¨ç”Ÿæˆçš„æ¯ä¸ªæ¨¡æ¿ä½¿ç”¨å®ƒè‡ªå·±çš„è¯·æ±‚å·¥å‚ï¼Œä»è€Œé¿å…å…±äº«å·¥å‚å¯èƒ½å¯¼è‡´çš„å‰¯ä½œç”¨ã€‚è§<a href="https://github.com/spring-projects/spring-boot/issues/11255" target="_blank" rel="noopener">ï¼ƒ11255</a>ã€‚</p><h5 id="WebJars-å®šä½å™¨"><a href="#WebJars-å®šä½å™¨" class="headerlink" title="WebJars å®šä½å™¨"></a>WebJars å®šä½å™¨</h5><p>Spring Boot 1.x ä½¿ç”¨å¹¶æä¾›ä¾èµ–å…³ç³»ç®¡ç†<code>org.webjars:webjars-locator</code>ã€‚<code>webjars-locator</code>æ˜¯ä¸€ä¸ª<a href="https://github.com/webjars/webjars-locator/tree/ec6b793f2d6f031f6aa384a06c059ff499055652" target="_blank" rel="noopener">â€œå‘½åä¸ä½³çš„åº“â€¦â€¦åŒ…è£…<code>webjars-locator-core</code>é¡¹ç›®â€</a>ã€‚<code>org.webjars:webjars-locator</code>åº”è¯¥æ›´æ–°ä¾èµ–é¡¹æ¥<code>org.webjars:webjars-locator-core</code>ä»£æ›¿ä½¿ç”¨ã€‚</p><h4 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h4><p>Spring Boot 2 æå¤§åœ°ç®€åŒ–äº†é»˜è®¤çš„å®‰å…¨é…ç½®ï¼Œå¹¶ä½¿æ·»åŠ å®šåˆ¶å®‰å…¨å˜å¾—ç®€å•ã€‚Spring Boot ç°åœ¨å…·æœ‰ä¸€ç§è¡Œä¸ºï¼Œåªè¦æ‚¨æ·»åŠ è‡ªå·±çš„ <code>WebSecurityConfigurerAdapter</code> å°±ä¼šé€€å‡ºï¼Œè€Œä¸æ˜¯è¿›è¡Œå¤šç§ä¸å®‰å…¨æ€§ç›¸å…³çš„è‡ªåŠ¨é…ç½®ã€‚</p><p>å¦‚æœæ‚¨ä½¿ç”¨ä»¥ä¸‹ä»»ä½•å±æ€§ï¼Œåˆ™ä¼šå—åˆ°å½±å“ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">security.basic.authorize-mode</span><br><span class="line">security.basic.enabled</span><br><span class="line">security.basic.path</span><br><span class="line">security.basic.realm</span><br><span class="line">security.enable-csrf</span><br><span class="line">security.headers.cache</span><br><span class="line">security.headers.content-security-policy</span><br><span class="line">security.headers.content-security-policy-mode</span><br><span class="line">security.headers.content-type</span><br><span class="line">security.headers.frame</span><br><span class="line">security.headers.hsts</span><br><span class="line">security.headers.xss</span><br><span class="line">security.ignored</span><br><span class="line">security.require-ssl</span><br><span class="line">security.sessions</span><br></pre></td></tr></table></figure><h5 id="é»˜è®¤å®‰å…¨"><a href="#é»˜è®¤å®‰å…¨" class="headerlink" title="é»˜è®¤å®‰å…¨"></a>é»˜è®¤å®‰å…¨</h5><p>å®‰å…¨è‡ªåŠ¨é…ç½®ä¸å†å…¬å¼€é€‰é¡¹ï¼Œå¹¶å°½å¯èƒ½ä½¿ç”¨ Spring Security é»˜è®¤å€¼ã€‚ä¸€ä¸ªæ˜æ˜¾çš„å‰¯ä½œç”¨æ˜¯ä½¿ç”¨ Spring Security çš„å†…å®¹åå•†è¿›è¡Œæˆæƒï¼ˆè¡¨å•ç™»å½•ï¼‰ã€‚</p><h5 id="é»˜è®¤ç”¨æˆ·"><a href="#é»˜è®¤ç”¨æˆ·" class="headerlink" title="é»˜è®¤ç”¨æˆ·"></a>é»˜è®¤ç”¨æˆ·</h5><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Boot ä½¿ç”¨ç”Ÿæˆçš„å¯†ç é…ç½®å•ä¸ªç”¨æˆ·ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ <code>spring.security.user.*</code> å±æ€§è¿›è¡Œé…ç½®ã€‚è¦è¿›ä¸€æ­¥å®šåˆ¶ç”¨æˆ·æˆ–æ·»åŠ å…¶ä»–ç”¨æˆ·ï¼Œæ‚¨å°†ä¸å¾—ä¸å…¬å¼€ä¸€ä¸ª<code>UserDetailsService</code>beanã€‚</p><h5 id="AuthenticationManager-Bean"><a href="#AuthenticationManager-Bean" class="headerlink" title="AuthenticationManager Bean"></a>AuthenticationManager Bean</h5><p>å¦‚æœæ‚¨æƒ³å°† Spring Security <code>AuthenticationManager</code>ä½œä¸º bean å…¬å¼€ï¼Œè¯·è¦†ç›–<code>authenticationManagerBean</code>æ‚¨çš„æ–¹æ³•<code>WebSecurityConfigurerAdapter</code>å¹¶ä¸ºå…¶æ·»åŠ æ³¨é‡Š<code>@Bean</code>ã€‚</p><h5 id="OAuth2"><a href="#OAuth2" class="headerlink" title="OAuth2"></a>OAuth2</h5><p>ä»åŠŸèƒ½çš„ <a href="http://projects.spring.io/spring-security-oauth/" target="_blank" rel="noopener">Spring Security OAuth é¡¹ç›®</a> è¿ç§»åˆ°æ ¸å¿ƒ <a href="https://projects.spring.io/spring-security/" target="_blank" rel="noopener">Spring Security</a>ã€‚ä¸å†ä¸ºä¾èµ–å…³ç³»æä¾›ä¾èµ–ç®¡ç†ï¼ŒSpring Boot 2 é€šè¿‡ Spring Security 5 æä¾› <a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-oauth2" target="_blank" rel="noopener">OAuth 2.0 å®¢æˆ·ç«¯æ”¯æŒ</a>ã€‚</p><p>å¦‚æœæ‚¨ä¾èµ–å°šæœªè¿ç§»çš„ Spring Security OAuth åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨å…¶ä»– jar ä¸Šæ·»åŠ ä¾èµ–é¡¹ï¼Œè¯·æŸ¥çœ‹<a href="https://docs.spring.io/spring-security-oauth2-boot/docs/current/reference/htmlsingle/" target="_blank" rel="noopener">æ–‡æ¡£</a>ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚æˆ‘ä»¬è¿˜ç»§ç»­æ”¯æŒ Spring Boot 1.5ï¼Œä»¥ä¾¿æ—§ç‰ˆåº”ç”¨ç¨‹åºå¯ä»¥ç»§ç»­ä½¿ç”¨å®ƒï¼Œç›´åˆ°æä¾›å‡çº§è·¯å¾„ã€‚</p><h5 id="æ‰§è¡Œå™¨å®‰å…¨"><a href="#æ‰§è¡Œå™¨å®‰å…¨" class="headerlink" title="æ‰§è¡Œå™¨å®‰å…¨"></a>æ‰§è¡Œå™¨å®‰å…¨</h5><p>æ‰§è¡Œå™¨ä¸å†æœ‰å•ç‹¬çš„å®‰å…¨è‡ªåŠ¨é…ç½®ï¼ˆ<code>management.security.*</code>å±æ€§æ¶ˆå¤±ï¼‰ã€‚<code>sensitive</code>æ¯ä¸ªç«¯ç‚¹çš„æ ‡å¿—ä¹Ÿæ²¡æœ‰åœ¨å®‰å…¨é…ç½®ä¸­å˜å¾—æ›´åŠ æ˜ç¡®ã€‚å¦‚æœæ‚¨ä¾èµ–äºæ­¤è¡Œä¸ºï¼Œåˆ™éœ€è¦åˆ›å»ºæˆ–è°ƒæ•´æ‚¨çš„å®‰å…¨é…ç½®ï¼Œä»¥ä¿æŠ¤æ‚¨é€‰æ‹©è§’è‰²çš„ç«¯ç‚¹ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">endpoints.flyway.sensitive=false</span><br><span class="line">endpoints.info.sensitive=true</span><br><span class="line">management.security.roles=MY_ADMIN</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http</span><br><span class="line">.authorizeRequests()</span><br><span class="line">.requestMatchers(EndpointRequest.to(<span class="string">"health"</span>, <span class="string">"flyway"</span>)).permitAll()</span><br><span class="line">.requestMatchers(EndpointRequest.toAnyEndpoint()).hasRole(<span class="string">"MY_ADMIN"</span>)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯åœ¨<code>2.x</code>ï¼Œ<code>health</code>å’Œ<code>info</code>åœ¨é»˜è®¤æƒ…å†µä¸‹å¯ç”¨ï¼ˆä¸<code>health</code>é»˜è®¤æƒ…å†µä¸‹ä¸æ˜¾ç¤ºå…¶ç»†èŠ‚ï¼‰ã€‚ä¸ºäº†ä¸è¿™äº›æ–°çš„é»˜è®¤å€¼ä¸€è‡´ï¼Œ<code>health</code>å·²è¢«æ·»åŠ åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…å™¨ã€‚</p><h4 id="ä½¿ç”¨-SQL-æ•°æ®åº“"><a href="#ä½¿ç”¨-SQL-æ•°æ®åº“" class="headerlink" title="ä½¿ç”¨ SQL æ•°æ®åº“"></a>ä½¿ç”¨ SQL æ•°æ®åº“</h4><h5 id="é…ç½®æ•°æ®æº"><a href="#é…ç½®æ•°æ®æº" class="headerlink" title="é…ç½®æ•°æ®æº"></a>é…ç½®æ•°æ®æº</h5><p>é»˜è®¤è¿æ¥æ± å·²ä» Tomcat åˆ‡æ¢åˆ° HikariCPã€‚å¦‚æœæ‚¨è¿‡å»<code>spring.datasource.type</code>åœ¨åŸºäº Tomcat çš„åº”ç”¨ç¨‹åºä¸­å¼ºåˆ¶ä½¿ç”¨ Hikariï¼Œç°åœ¨å¯ä»¥åˆ é™¤é‡å†™ã€‚</p><p>ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœä½ æœ‰è¿™æ ·çš„è®¾ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zaxxer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>HikariCP<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨å¯ä»¥è¿™æ ·ä¿®æ”¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="WARN-æ¶ˆæ¯éšå«çš„â€™æ‰“å¼€åœ¨è§†å›¾â€™"><a href="#WARN-æ¶ˆæ¯éšå«çš„â€™æ‰“å¼€åœ¨è§†å›¾â€™" class="headerlink" title="WARN æ¶ˆæ¯éšå«çš„â€™æ‰“å¼€åœ¨è§†å›¾â€™"></a>WARN æ¶ˆæ¯éšå«çš„â€™æ‰“å¼€åœ¨è§†å›¾â€™</h5><p>ä»ç°åœ¨èµ·ï¼Œæœªæ˜ç¡®å¯ç”¨çš„åº”ç”¨ç¨‹åº<code>spring.jpa.open-in-view</code>å°†åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­æ”¶åˆ°è­¦å‘Šæ¶ˆæ¯ã€‚è™½ç„¶è¿™ç§è¡Œä¸ºæ˜¯ä¸€ç§å‹å¥½çš„é»˜è®¤è¡Œä¸ºï¼Œä½†å¦‚æœæ‚¨æ²¡æœ‰å®Œå…¨æ„è¯†åˆ°ä¸ºæ‚¨åšäº†ä»€ä¹ˆï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚æ­¤æ¶ˆæ¯å¯ç¡®ä¿æ‚¨äº†è§£å¯åœ¨æŸ¥çœ‹å‘ˆç°æœŸé—´æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚å¦‚æœä½ æ²¡æœ‰é—®é¢˜ï¼Œä½ å¯ä»¥æ˜ç¡®åœ°é…ç½®è¿™ä¸ªå±æ€§æ¥æ¶ˆé™¤è­¦å‘Šä¿¡æ¯ã€‚</p><h5 id="JPA-å’Œ-Spring-Data"><a href="#JPA-å’Œ-Spring-Data" class="headerlink" title="JPA å’Œ Spring Data"></a>JPA å’Œ Spring Data</h5><p>åœ¨ Spring Boot 1.x ä¸­ï¼Œä¸€äº›ç”¨æˆ·æ­£åœ¨æ‰©å±•<code>HibernateJpaAutoConfiguration</code>ä»¥å°†é«˜çº§è‡ªå®šä¹‰åº”ç”¨äºè‡ªåŠ¨é…ç½®<code>EntityManagerFactory</code>ã€‚ä¸ºäº†é˜²æ­¢å‘ç”Ÿè¿™ç§é”™è¯¯çš„ç”¨ä¾‹ï¼ŒSpring Boot 2 ä¸­ä¸å†å¯èƒ½æ‰©å±•å®ƒã€‚</p><p>ä¸ºäº†æ”¯æŒè¿™äº›ç”¨ä¾‹ï¼Œç°åœ¨å¯ä»¥å®šä¹‰ä¸€ä¸ª<code>HibernatePropertiesCustomizer</code>beanï¼Œå®ƒå¯ä»¥å®Œå…¨æ§åˆ¶ Hibernate å±æ€§ï¼ŒåŒ…æ‹¬æ³¨å†Œåœ¨ä¸Šä¸‹æ–‡ä¸­å£°æ˜ä¸º bean çš„ Hibernate æ‹¦æˆªå™¨çš„èƒ½åŠ›ã€‚</p><h5 id="Flyway"><a href="#Flyway" class="headerlink" title="Flyway"></a>Flyway</h5><p>Flyway é…ç½®é”®è¢«ç§»åŠ¨åˆ°<code>spring</code>å‘½åç©ºé—´ï¼ˆå³<code>spring.flyway</code>ï¼‰</p><p>å‡çº§åˆ° Spring Boot 2 å°†ä¼šå°† Flyway å‡çº§<code>3.x</code>åˆ°<code>5.x</code>ã€‚ä¸ºç¡®ä¿æ¨¡å¼å‡çº§é¡ºåˆ©è¿›è¡Œï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹è¯´æ˜æ“ä½œï¼š</p><ul><li>é¦–å…ˆå°†æ‚¨çš„<code>1.5.x</code>Spring Boot åº”ç”¨ç¨‹åºå‡çº§åˆ° Flyway 4ï¼Œè¯·å‚é˜…<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-maven-parent-pom" target="_blank" rel="noopener">Maven</a>å’Œ<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/gradle-plugin/reference/html//#managing-dependencies-customizing" target="_blank" rel="noopener">Gradle</a>çš„è¯´æ˜ã€‚</li><li>ä¸€æ—¦æ‚¨çš„æ¶æ„å‡çº§åˆ°äº† Flyway 4ï¼Œå‡çº§åˆ° Spring Boot 2 å¹¶å†æ¬¡è¿è¡Œè¿ç§»ä»¥å°†æ‚¨çš„åº”ç”¨ç¨‹åºç§»æ¤åˆ° Flyway 5ã€‚</li></ul><h5 id="Liquibase"><a href="#Liquibase" class="headerlink" title="Liquibase"></a>Liquibase</h5><p>Liquibase é…ç½®é”®è¢«ç§»åŠ¨åˆ°<code>spring</code>å‘½åç©ºé—´ï¼ˆå³<code>spring.liquibase</code>ï¼‰</p><h5 id="æ•°æ®åº“åˆå§‹åŒ–"><a href="#æ•°æ®åº“åˆå§‹åŒ–" class="headerlink" title="æ•°æ®åº“åˆå§‹åŒ–"></a>æ•°æ®åº“åˆå§‹åŒ–</h5><p>åŸºæœ¬<code>DataSource</code>åˆå§‹åŒ–ç°åœ¨ä»…é’ˆå¯¹åµŒå…¥å¼æ•°æ®æºå¯ç”¨ï¼Œå¹¶å°†åœ¨æ‚¨ä½¿ç”¨ç”Ÿäº§æ•°æ®åº“æ—¶ç«‹å³å…³é—­ã€‚æ–°çš„<code>spring.datasource.initialization-mode</code>ï¼ˆæ›¿æ¢<code>spring.datasource.initialize</code>ï¼‰æä¾›æ›´å¤šçš„æ§åˆ¶ã€‚</p><h5 id="æ›´æ–°é»˜è®¤çš„â€™åˆ›å»º-åˆ é™¤â€™å¤„ç†"><a href="#æ›´æ–°é»˜è®¤çš„â€™åˆ›å»º-åˆ é™¤â€™å¤„ç†" class="headerlink" title="æ›´æ–°é»˜è®¤çš„â€™åˆ›å»º - åˆ é™¤â€™å¤„ç†"></a>æ›´æ–°é»˜è®¤çš„â€™åˆ›å»º - åˆ é™¤â€™å¤„ç†</h5><p><code>spring.jpa.hibernate.ddl-auto</code> å±æ€§é»˜è®¤ä¸ºåªæœ‰åœ¨æ²¡æœ‰ä½¿ç”¨ Liquibase æˆ– Flyway ç­‰æ¨¡å¼ç®¡ç†å™¨æ—¶æ‰ä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“è¿›è¡Œåˆ›å»ºã€‚ä¸€æ—¦æ£€æµ‹åˆ°æ¨¡å¼ç®¡ç†å™¨ï¼Œé»˜è®¤æ›´æ”¹ä¸º <code>none</code>ã€‚</p><h4 id="æ•´åˆ-NoSQL"><a href="#æ•´åˆ-NoSQL" class="headerlink" title="æ•´åˆ NoSQL"></a>æ•´åˆ NoSQL</h4><h5 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h5><p>ç°åœ¨ä½¿ç”¨çš„æ˜¯ <a href="https://lettuce.io/" target="_blank" rel="noopener">Lettuce</a> è€Œä¸æ˜¯ <a href="https://github.com/xetorthio/jedis" target="_blank" rel="noopener">Jedis</a> ä½œä¸º Redis é©±åŠ¨ç¨‹åº<code>spring-boot-starter-redis</code>ã€‚å¦‚æœæ‚¨ä½¿ç”¨æ›´é«˜çº§åˆ«çš„Spring Data æ„é€ ï¼Œåˆ™åº”è¯¥å‘ç°å˜åŒ–æ˜¯é€æ˜çš„ã€‚æˆ‘ä»¬ä»ç„¶æ”¯æŒ Jedisï¼Œå¦‚æœæ‚¨æ„¿æ„ï¼Œé€šè¿‡æ’é™¤ <code>io.lettuceï¼šlettuce-core</code>å¹¶æ·»åŠ  <code>redis.clientsï¼šjedis</code>ï¼Œåˆ™å¯ä»¥è‡ªç”±åˆ‡æ¢ä¾èµ–é¡¹ã€‚</p><h5 id="Elasticsearch"><a href="#Elasticsearch" class="headerlink" title="Elasticsearch"></a>Elasticsearch</h5><p>Elasticsearch å·²ç»å‡çº§åˆ° 6.0+ã€‚ä¸ <a href="https://www.elastic.co/blog/elasticsearch-the-server" target="_blank" rel="noopener">Elastic å®£å¸ƒåµŒå…¥å¼ Elasticsearch ä¸å†å—æ”¯æŒä¸€è‡´</a>ï¼Œè‡ªåŠ¨é…ç½®<code>NodeClient</code>å·²è¢«åˆ é™¤ã€‚<code>TransportClient</code>å¯ä»¥é€šè¿‡ä½¿ç”¨<code>spring.data.elasticsearch.cluster-nodes</code>æä¾›è¦è¿æ¥çš„ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹çš„åœ°å€æ¥è‡ªåŠ¨é…ç½®ã€‚</p><h4 id="é«˜é€Ÿç¼“å­˜"><a href="#é«˜é€Ÿç¼“å­˜" class="headerlink" title="é«˜é€Ÿç¼“å­˜"></a>é«˜é€Ÿç¼“å­˜</h4><p>ç”¨äºç¼“å­˜çš„ä¸“ç”¨ Hazelcast è‡ªåŠ¨é…ç½®ã€‚</p><p>æ— æ³•è‡ªåŠ¨é…ç½®å¸¸è§„<code>HazelcastInstance</code>å’Œä¸“ç”¨<code>HazelcastInstance</code>ç¼“å­˜ã€‚å› æ­¤ï¼Œè¯¥<code>spring.cache.hazelcast.config</code>å±æ€§å·²ä¸å†å¯ç”¨ã€‚</p><h4 id="æ‰¹é‡"><a href="#æ‰¹é‡" class="headerlink" title="æ‰¹é‡"></a>æ‰¹é‡</h4><p>åœ¨å¯åŠ¨æ—¶æ‰§è¡Œæ‰¹å¤„ç†ä½œä¸šçš„ CommandLineRunner çš„é¡ºåºä¸º 0ã€‚</p><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><h5 id="Mockito-1-x"><a href="#Mockito-1-x" class="headerlink" title="Mockito 1.x"></a>Mockito 1.x</h5><p>Mockito 1.x ä¸å†æ”¯æŒ<code>@MockBean</code>å’Œ<code>@SpyBean</code>ã€‚å¦‚æœä½ ä¸ç”¨<code>spring-boot-starter-test</code>æ¥ç®¡ç†ä½ çš„ä¾èµ–å…³ç³»ï¼Œä½ åº”è¯¥å‡çº§åˆ° Mockito 2.x.</p><h3 id="Spring-Boot-Actuator"><a href="#Spring-Boot-Actuator" class="headerlink" title="Spring Boot Actuator"></a>Spring Boot Actuator</h3><p>Spring Boot 2 ä¸º Actuator å¸¦æ¥äº†é‡è¦å˜åŒ–ï¼Œæ— è®ºæ˜¯å†…éƒ¨è¿˜æ˜¯é¢å‘ç”¨æˆ·ï¼Œè¯·æŸ¥é˜…<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready" target="_blank" rel="noopener">å‚è€ƒæŒ‡å—ä¸­</a>çš„<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#production-ready" target="_blank" rel="noopener">æ›´æ–°éƒ¨åˆ†</a>å’Œ<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/actuator-api/html" target="_blank" rel="noopener">æ–°çš„Actuator APIæ–‡æ¡£</a>ã€‚</p><p>æ‚¨åº”è¯¥æœŸæœ›ç¼–ç¨‹æ¨¡å‹ï¼Œé…ç½®å¯†é’¥å’ŒæŸäº›ç«¯ç‚¹çš„å“åº”æ ¼å¼å‘ç”Ÿå˜åŒ–ã€‚Actuator ç°åœ¨åœ¨ Spring MVCï¼ŒSpring WebFlux å’ŒJersey ä¸Šå¾—åˆ°æœ¬åœ°æ”¯æŒã€‚</p><h4 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h4><p>Actuator çš„ä»£ç åˆ†ä¸ºä¸¤ä¸ªæ¨¡å—ï¼šç°æœ‰çš„<code>spring-boot-actuator</code>å’Œæ–°çš„<code>spring-boot-actuator-autoconfigure</code>ã€‚å¦‚æœæ‚¨ä½¿ç”¨åŸå§‹æ¨¡å—ï¼ˆ<code>spring-boot-actuator</code>ï¼‰å¯¼å…¥ actuatorï¼Œè¯·è€ƒè™‘ä½¿ç”¨<code>spring-boot-starter-actuator</code>å¯åŠ¨å™¨æ›¿ä»£å®ƒã€‚</p><h4 id="Keys-çš„é…ç½®ç»“æ„"><a href="#Keys-çš„é…ç½®ç»“æ„" class="headerlink" title="Keys çš„é…ç½®ç»“æ„"></a>Keys çš„é…ç½®ç»“æ„</h4><p>Endpoints åŸºç¡€é…ç½® key å·²ç»ç»Ÿä¸€ï¼š</p><table><thead><tr><th style="text-align:center">æ—§çš„å±æ€§</th><th style="text-align:center">æ–°çš„å±æ€§</th></tr></thead><tbody><tr><td style="text-align:center"><code>endpoints.&lt;id&gt;.*</code></td><td style="text-align:center"><code>management.endpoint.&lt;id&gt;.*</code></td></tr><tr><td style="text-align:center"><code>endpoints.cors.*</code></td><td style="text-align:center"><code>management.endpoints.web.cors.*</code></td></tr><tr><td style="text-align:center"><code>endpoints.jmx.*</code></td><td style="text-align:center"><code>management.endpoints.jmx.*</code></td></tr><tr><td style="text-align:center"><code>management.address</code></td><td style="text-align:center"><code>management.server.address</code></td></tr><tr><td style="text-align:center"><code>management.context-path</code></td><td style="text-align:center"><code>management.server.servlet.context-path</code></td></tr><tr><td style="text-align:center"><code>management.ssl.*</code></td><td style="text-align:center"><code>management.server.ssl.*</code></td></tr><tr><td style="text-align:center"><code>management.port</code></td><td style="text-align:center">management.server.port</td></tr></tbody></table><h4 id="åŸºæœ¬è·¯å¾„"><a href="#åŸºæœ¬è·¯å¾„" class="headerlink" title="åŸºæœ¬è·¯å¾„"></a>åŸºæœ¬è·¯å¾„</h4><p>æ‰€æœ‰ endpoints é»˜è®¤æƒ…å†µä¸‹éƒ½å·²ç§»è‡³ <code>/actuator</code>ã€‚</p><p>æˆ‘ä»¬ä¿®æ”¹äº† <code>management.server.servlet.context-path</code> çš„å«ä¹‰ï¼šå®ƒç°åœ¨æ˜¯ <code>server.servlet.context-path</code> çš„ç«¯ç‚¹ç®¡ç†çš„ç­‰ä»·æ›¿ä»£ï¼ˆåªæœ‰åœ¨è®¾ç½®äº† <code>management.server.port</code> æ—¶æ‰æœ‰æ•ˆï¼‰ã€‚å¦å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ–°çš„å•ç‹¬å±æ€§ <code>management.endpoints.web.base-path</code> ä¸ºç®¡ç†ç«¯ç‚¹è®¾ç½®åŸºæœ¬è·¯å¾„ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ è®¾ç½®<code>management.server.servlet.context-path=/management</code>å’Œ<code>management.endpoints.web.base-path=/application</code>ï¼Œä½ å°±å¯ä»¥åœ¨ä¸‹é¢çš„è·¯å¾„åˆ°è¾¾ç»ˆç‚¹å¥åº·ï¼š<code>/management/application/health</code>ã€‚</p><p>å¦‚æœä½ æƒ³æ¢å¤ 1.x çš„è¡Œä¸ºï¼ˆå³å…·æœ‰<code>/health</code>ä»£æ›¿<code>/actuator/health</code>ï¼‰ï¼Œè®¾ç½®ä»¥ä¸‹å±æ€§ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">management.endpoints.web.base-path=/</span><br></pre></td></tr></table></figure><h4 id="å®¡è®¡äº‹ä»¶-API-æ›´æ”¹"><a href="#å®¡è®¡äº‹ä»¶-API-æ›´æ”¹" class="headerlink" title="å®¡è®¡äº‹ä»¶ API æ›´æ”¹"></a>å®¡è®¡äº‹ä»¶ API æ›´æ”¹</h4><p><code>AuditEventRepository</code> ç°åœ¨æœ‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¯é€‰å‚æ•°çš„å•ä¸€æ–¹æ³•ã€‚</p><h4 id="Endpoints"><a href="#Endpoints" class="headerlink" title="Endpoints"></a>Endpoints</h4><p>è¦é€šè¿‡ HTTP ä½¿æ‰§è¡Œå™¨ç«¯ç‚¹å¯ç”¨ï¼Œå®ƒéœ€è¦åŒæ—¶<strong>å¯ç”¨</strong>å’Œ<strong>å…¬å¼€</strong>ã€‚é»˜è®¤ï¼š</p><ul><li><strong>æ— è®ºæ‚¨çš„åº”ç”¨ç¨‹åºä¸­æ˜¯å¦å­˜åœ¨å’Œé…ç½® Spring Security</strong>ï¼Œåªæœ‰ç«¯ç‚¹<code>/health</code>å’Œ<code>/info</code>ç«¯ç‚¹éƒ½æ˜¯æš´éœ²çš„ã€‚</li><li>æ‰€æœ‰ç«¯ç‚¹ï¼Œä½†<code>/shutdown</code>å·²å¯ç”¨ã€‚</li></ul><p>æ‚¨å¯ä»¥æŒ‰å¦‚ä¸‹æ–¹å¼å…¬å¼€æ‰€æœ‰ç«¯ç‚¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">management.endpoints.web.exposure.include=*</span><br></pre></td></tr></table></figure><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ˜¾å¼å¯ç”¨<code>/shutdown</code>ç«¯ç‚¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">management.endpoint.shutdown.enabled=true</span><br></pre></td></tr></table></figure><p>è¦å…¬å¼€æ‰€æœ‰ï¼ˆå·²å¯ç”¨ï¼‰ç½‘ç»œç«¯ç‚¹é™¤<code>env</code>ç«¯ç‚¹ä¹‹å¤–ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">management.endpoints.web.exposure.include=*</span><br><span class="line">management.endpoints.web.exposure.exclude=env</span><br></pre></td></tr></table></figure><h5 id="Endpoint-changes"><a href="#Endpoint-changes" class="headerlink" title="Endpoint changes"></a>Endpoint changes</h5><table><thead><tr><th>1.x ç«¯ç‚¹</th><th>2.0 ç«¯ç‚¹ï¼ˆæ”¹å˜ï¼‰</th></tr></thead><tbody><tr><td><code>/actuator</code></td><td>ä¸å†å¯ç”¨ã€‚ ä½†æ˜¯ï¼Œåœ¨ <code>management.endpoints.web.base-path</code> çš„æ ¹ç›®å½•ä¸­æœ‰ä¸€ä¸ªæ˜ å°„ï¼Œå®ƒæä¾›äº†åˆ°æ‰€æœ‰æš´éœ²ç«¯ç‚¹çš„é“¾æ¥ã€‚</td></tr><tr><td><code>/auditevents</code></td><td>è¯¥<code>after</code>å‚æ•°ä¸å†éœ€è¦</td></tr><tr><td><code>/autoconfig</code></td><td>é‡å‘½åä¸º <code>/conditions</code></td></tr><tr><td><code>/docs</code></td><td>ä¸å†å¯ç”¨</td></tr><tr><td><code>/health</code></td><td>ç°åœ¨æœ‰ä¸€ä¸ª <code>management.endpoint.health.show-details</code> é€‰é¡¹  <code>never</code>, <code>always</code>, <code>when-authenticated</code>ï¼Œè€Œä¸æ˜¯ä¾é   <code>sensitive</code> æ ‡å¿—æ¥ç¡®å®š <code>health</code> ç«¯ç‚¹æ˜¯å¦å¿…é¡»æ˜¾ç¤ºå…¨éƒ¨ç»†èŠ‚ã€‚  é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>/actuator/health</code>å…¬å¼€å¹¶ä¸”ä¸æ˜¾ç¤ºç»†èŠ‚ã€‚</td></tr><tr><td><code>/trace</code></td><td>é‡å‘½åä¸º <code>/httptrace</code></td></tr></tbody></table><p>ç«¯ç‚¹å±æ€§å·²æ›´æ”¹å¦‚ä¸‹ï¼š</p><ul><li><code>endpoints.&lt;id&gt;.enabled</code> å·²ç»è½¬ç§»åˆ°äº† <code>management.endpoint.&lt;id&gt;.enabled</code></li><li><code>endpoints.&lt;id&gt;.id</code> æ²¡æœ‰æ›¿æ¢ï¼ˆç«¯ç‚¹çš„ ID ä¸å†å¯é…ç½®ï¼‰</li><li><code>endpoints.&lt;id&gt;.sensitive</code>æ²¡æœ‰æ›¿ä»£å“ï¼ˆè¯·å‚è§<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#actuator-security" target="_blank" rel="noopener">æ‰§è¡Œå™¨å®‰å…¨</a>ï¼‰</li><li><code>endpoints.&lt;id&gt;.path</code> å·²ç»è½¬ç§»åˆ°äº† <code>management.endpoints.web.path-mapping.&lt;id&gt;</code></li></ul><h4 id="ç«¯ç‚¹æ ¼å¼"><a href="#ç«¯ç‚¹æ ¼å¼" class="headerlink" title="ç«¯ç‚¹æ ¼å¼"></a>ç«¯ç‚¹æ ¼å¼</h4><h5 id="actuator-mappings-ç«¯ç‚¹å¤§æ”¹å˜"><a href="#actuator-mappings-ç«¯ç‚¹å¤§æ”¹å˜" class="headerlink" title="/actuator/mappings ç«¯ç‚¹å¤§æ”¹å˜"></a><code>/actuator/mappings</code> ç«¯ç‚¹å¤§æ”¹å˜</h5><p>JSON æ ¼å¼å·²ç»æ›´æ”¹ä¸ºç°åœ¨æ­£ç¡®åœ°åŒ…å«æœ‰å…³ä¸Šä¸‹æ–‡å±‚æ¬¡ç»“æ„ï¼Œå¤šä¸ª<code>DispatcherServletsï¼Œ</code>éƒ¨ç½²çš„ Servlet å’Œ Servlet è¿‡æ»¤å™¨çš„ä¿¡æ¯ã€‚è¯¦æƒ…è¯·å‚é˜…<a href="https://github.com/spring-projects/spring-boot/issues/9979#issuecomment-357930821" target="_blank" rel="noopener">ï¼ƒ9979</a>ã€‚</p><p>Actuator API æ–‡æ¡£çš„<a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/actuator-api/html/#mappings" target="_blank" rel="noopener">ç›¸å…³éƒ¨åˆ†</a>æä¾›äº†ä¸€ä¸ªç¤ºä¾‹æ–‡æ¡£ã€‚</p><h5 id="actuator-httptrace-ç«¯ç‚¹å¤§æ”¹å˜"><a href="#actuator-httptrace-ç«¯ç‚¹å¤§æ”¹å˜" class="headerlink" title="/actuator/httptrace ç«¯ç‚¹å¤§æ”¹å˜"></a><code>/actuator/httptrace</code> ç«¯ç‚¹å¤§æ”¹å˜</h5><p>å“åº”çš„ç»“æ„å·²ç»è¿‡æ”¹è¿›ï¼Œä»¥åæ˜ ç«¯ç‚¹å…³æ³¨è·Ÿè¸ª HTTP è¯·æ±‚ - å“åº”äº¤æ¢çš„æƒ…å†µã€‚</p><h4 id="è¿ç§»è‡ªå®šä¹‰ç«¯ç‚¹"><a href="#è¿ç§»è‡ªå®šä¹‰ç«¯ç‚¹" class="headerlink" title="è¿ç§»è‡ªå®šä¹‰ç«¯ç‚¹"></a>è¿ç§»è‡ªå®šä¹‰ç«¯ç‚¹</h4><p>å¦‚æœæ‚¨æœ‰è‡ªå®šä¹‰æ‰§è¡Œå™¨ç«¯ç‚¹ï¼Œè¯·<a href="https://spring.io/blog/2017/08/22/introducing-actuator-endpoints-in-spring-boot-2-0" target="_blank" rel="noopener">æŸ¥çœ‹ä¸“ç”¨åšå®¢æ–‡ç« </a>ã€‚è¯¥å›¢é˜Ÿè¿˜æ’°å†™äº†ä¸€ä¸ª wiki é¡µé¢ï¼Œä»‹ç»<a href="https://github.com/spring-projects/spring-boot/wiki/Migrating-a-custom-Actuator-endpoint-to-Spring-Boot-2" target="_blank" rel="noopener">å¦‚ä½•å°†ç°æœ‰çš„æ‰§è¡Œå™¨ç«¯ç‚¹è¿ç§»</a>åˆ°æ–°çš„åŸºç¡€æ¶æ„ã€‚</p><h3 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h3><p>Spring Boot è‡ªå·±çš„æŒ‡æ ‡å·²è¢«æ”¯æŒå–ä»£ï¼ŒåŒ…æ‹¬è‡ªåŠ¨é…ç½®ï¼Œç”¨äº <a href="https://micrometer.io/" target="_blank" rel="noopener">icrometer</a>  å’Œ dimensional æŒ‡æ ‡ã€‚</p><h4 id="è®¾ç½®-icrometer"><a href="#è®¾ç½®-icrometer" class="headerlink" title="è®¾ç½® icrometer"></a>è®¾ç½® icrometer</h4><p>å¦‚æœæ‚¨çš„ Spring Boot 2.0 åº”ç”¨ç¨‹åºå·²ä¾èµ–äº Actuatorï¼Œåˆ™ icrometer å·²åœ¨æ­¤å¤„å¹¶è‡ªåŠ¨é…ç½®ã€‚å¦‚æœæ‚¨å¸Œæœ›å°†åº¦é‡æ ‡å‡†å¯¼å‡ºåˆ° Prometheusï¼ŒAtlas æˆ– Datadog ç­‰å¤–éƒ¨æ³¨å†Œè¡¨ï¼ŒMicrometer å°†ä¸ºè®¸å¤šæ³¨å†Œè¡¨æä¾›ä¾èµ–å…³ç³»; æ‚¨å¯ä»¥ä½¿ç”¨<code>spring.metrics.*</code>å±æ€§é…ç½®æ‚¨çš„åº”ç”¨ç¨‹åºä»¥å¯¼å‡ºåˆ°ç‰¹å®šçš„æ³¨å†Œè¡¨ã€‚</p><h4 id="è¿ç§»å®šåˆ¶è®¡æ•°å™¨-é‡è¡¨"><a href="#è¿ç§»å®šåˆ¶è®¡æ•°å™¨-é‡è¡¨" class="headerlink" title="è¿ç§»å®šåˆ¶è®¡æ•°å™¨/é‡è¡¨"></a>è¿ç§»å®šåˆ¶è®¡æ•°å™¨/é‡è¡¨</h4><p>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºå„ç§æŒ‡æ ‡ï¼Œè€Œä¸æ˜¯åœ¨åº”ç”¨ç¨‹åºä»£ç ä¸­æ³¨å…¥<code>CounterService</code>æˆ–<code>GaugeService</code>çš„å®ä¾‹ï¼š</p><ul><li>æ³¨å…¥<code>MeterRegistry</code>å’Œè°ƒç”¨æ–¹æ³•ã€‚</li><li>ç›´æ¥è°ƒç”¨é™æ€æ–¹æ³•<code>Counter featureCounter = Metrics.counter(&quot;feature&quot;);</code>ã€‚</li></ul><h3 id="å¼€å‘è€…å·¥å…·"><a href="#å¼€å‘è€…å·¥å…·" class="headerlink" title="å¼€å‘è€…å·¥å…·"></a>å¼€å‘è€…å·¥å…·</h3><h4 id="çƒ­æ‹”æ’"><a href="#çƒ­æ‹”æ’" class="headerlink" title="çƒ­æ‹”æ’"></a>çƒ­æ‹”æ’</h4><p>ç”±äº Spring Loaded é¡¹ç›®è¢«æç½®ï¼Œå®ƒåœ¨ Spring Boot çš„æ”¯æŒå·²è¢«åˆ é™¤ã€‚æˆ‘ä»¬å»ºè®®ä½¿ç”¨ Devtoolsã€‚</p><h4 id="Devtools-è¿œç¨‹è°ƒè¯•éš§é“"><a href="#Devtools-è¿œç¨‹è°ƒè¯•éš§é“" class="headerlink" title="Devtools è¿œç¨‹è°ƒè¯•éš§é“"></a>Devtools è¿œç¨‹è°ƒè¯•éš§é“</h4><p>å·²ç»ä» Devtools ä¸­åˆ é™¤äº†å¯¹é€šè¿‡ HTTP è¿›è¡Œéš§é“è¿œç¨‹è°ƒè¯•çš„æ”¯æŒã€‚</p><h3 id="å·²åˆ é™¤çš„åŠŸèƒ½"><a href="#å·²åˆ é™¤çš„åŠŸèƒ½" class="headerlink" title="å·²åˆ é™¤çš„åŠŸèƒ½"></a>å·²åˆ é™¤çš„åŠŸèƒ½</h3><p>ä»¥ä¸‹åŠŸèƒ½ä¸å†å¯ç”¨ï¼š</p><ul><li>CRaSH æ”¯æŒ</li><li>Spring Mobile çš„è‡ªåŠ¨é…ç½®å’Œä¾èµ–å…³ç³»ç®¡ç†ã€‚</li><li>Spring Social çš„è‡ªåŠ¨é…ç½®å’Œä¾èµ–å…³ç³»ç®¡ç†ã€‚</li><li>ä¾èµ–å…³ç³»ç®¡ç†<code>commons-digester</code>ã€‚</li></ul><h3 id="ä¾èµ–ç‰ˆæœ¬"><a href="#ä¾èµ–ç‰ˆæœ¬" class="headerlink" title="ä¾èµ–ç‰ˆæœ¬"></a>ä¾èµ–ç‰ˆæœ¬</h3><p>ä»¥ä¸‹åº“çš„æœ€ä½æ”¯æŒç‰ˆæœ¬å·²æ›´æ”¹ï¼š</p><ul><li>Elasticsearch 5.6</li><li>Gradle 4</li><li>Hibernate 5.2</li><li>Jetty 9.4</li><li>Spring Framework 5</li><li>Spring Security 5</li><li>Tomcat 8.5</li></ul><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide</a></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws4.sinaimg.cn/large/006tNc79gy1fp3h0820m2j31hc0zkwxr.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;å¸Œæœ›æœ¬æ–‡æ¡£å°†å¸®åŠ©æ‚¨æŠŠåº”ç”¨ç¨‹åºè¿ç§»åˆ° Spring Boot 2.0ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</title>
    <link href="http://yoursite.com/2018/03/06/SpringBoot2-new-features/"/>
    <id>http://yoursite.com/2018/03/06/SpringBoot2-new-features/</id>
    <published>2018-03-05T16:00:00.000Z</published>
    <updated>2018-04-19T02:21:20.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fp34jn0xb3j31hc140aji.jpg" alt=""></p><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>åœ¨ 3 æœˆ 1 å·ï¼ŒSpring Boot<code>2.0.0.RELEASE</code>æ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯ Spring Boot1.0 å‘å¸ƒ 4 å¹´ä¹‹åç¬¬ä¸€æ¬¡é‡å¤§ä¿®è®¢ï¼Œå› æ­¤æœ‰å¤šçš„æ–°åŠŸèƒ½å’Œç‰¹æ€§å€¼å¾—å¤§å®¶æœŸå¾…ï¼ä¸‹é¢å¸¦å¤§å®¶äº†è§£ä¸‹ Spring Boot 2.0 ä¸­çš„æ–°ç‰¹æ€§ã€‚</p><a id="more"></a><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/</a></p><h3 id="ä»-Spring-Boot-1-5-å‡çº§"><a href="#ä»-Spring-Boot-1-5-å‡çº§" class="headerlink" title="ä» Spring Boot 1.5 å‡çº§"></a>ä» Spring Boot 1.5 å‡çº§</h3><p>ç”±äº Spring Boot 2.0 çš„æ”¹å˜å¹…åº¦æœ‰ç‚¹å¤§ï¼Œæ‰€ä»¥å‡çº§ç°æœ‰çš„ç¨‹åºå¯èƒ½ä¼šæ¯”å¹³å¸¸æ›´å¤§ä¸€äº›ã€‚</p><p>å¦‚æœä½ è¿˜åœ¨è€ƒè™‘æ˜¯å¦è¦å‡çº§ï¼Œè¿™é‡Œæ¨è DD çš„åšå®¢æ–‡ç« ï¼š<a href="http://blog.didispace.com/spring-boot-2-release/" target="_blank" rel="noopener">Spring Boot 2.0 æ­£å¼å‘å¸ƒï¼Œå‡è¿˜æ˜¯ä¸å‡å‘¢ï¼Ÿ</a></p><p>å¦‚æœè¦å‡çº§å¯ä»¥å‚è€ƒæˆ‘çš„å¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>å¦‚æœæ‚¨ç›®å‰æ­£åœ¨è¿è¡Œè¾ƒæ—©ç‰ˆæœ¬çš„ Spring Bootï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨åœ¨è¿ç§»åˆ° Spring Boot 2.0 ä¹‹å‰å…ˆå‡çº§åˆ° Spring Boot 1.5ã€‚</p><h3 id="æ–°çš„å’Œå€¼å¾—æ³¨æ„çš„ç‰¹æ€§"><a href="#æ–°çš„å’Œå€¼å¾—æ³¨æ„çš„ç‰¹æ€§" class="headerlink" title="æ–°çš„å’Œå€¼å¾—æ³¨æ„çš„ç‰¹æ€§"></a>æ–°çš„å’Œå€¼å¾—æ³¨æ„çš„ç‰¹æ€§</h3><p>å°æŠ€å·§ï¼šæ£€æŸ¥ <a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Configuration-Changelog" target="_blank" rel="noopener">é…ç½®æ›´æ”¹æ—¥å¿—</a> æ¥è·å–é…ç½®æ›´æ”¹çš„å®Œæ•´æè¿°ã€‚</p><h3 id="èµ·ç -JDK-8-å’Œæ”¯æŒ-JDK-9"><a href="#èµ·ç -JDK-8-å’Œæ”¯æŒ-JDK-9" class="headerlink" title="èµ·ç  JDK 8 å’Œæ”¯æŒ JDK 9"></a>èµ·ç  JDK 8 å’Œæ”¯æŒ JDK 9</h3><p>Spring Boot 2.0 è¦æ±‚ Java 8 ä½œä¸ºæœ€ä½ç‰ˆæœ¬ã€‚è®¸å¤šç°æœ‰çš„ API å·²æ›´æ–°ï¼Œä»¥åˆ©ç”¨ Java 8 çš„ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼šæ¥å£ä¸Šçš„é»˜è®¤æ–¹æ³•ï¼Œå‡½æ•°å›è°ƒä»¥åŠæ–°çš„ APIï¼Œå¦‚<code>javax.time</code>ã€‚å¦‚æœæ‚¨å½“å‰æ­£åœ¨ä½¿ç”¨ Java 7 æˆ–æ›´æ—©ç‰ˆæœ¬ï¼Œåˆ™åœ¨å¼€å‘ Spring Boot 2.0 åº”ç”¨ç¨‹åºä¹‹å‰ï¼Œæ‚¨éœ€è¦å‡çº§æ‚¨çš„ JDKã€‚</p><p>Spring Boot 2.0 é€šè¿‡äº†åœ¨ JDK 9 ä¸‹çš„æµ‹è¯•ï¼Œå¯ä»¥åœ¨ JDK 9 ä¸‹æ­£å¸¸è¿è¡Œï¼Œã€‚æˆ‘ä»¬æ‰€æœ‰çš„ jar åŒ…éƒ½åœ¨æ¨¡å—ç³»ç»Ÿå…¼å®¹æ€§çš„æ¸…å•ä¸­é™„å¸¦äº†è‡ªåŠ¨æ¨¡å—åç§°æ¡ç›®ã€‚</p><h3 id="ç¬¬ä¸‰æ–¹åº“çš„å‡çº§"><a href="#ç¬¬ä¸‰æ–¹åº“çš„å‡çº§" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„å‡çº§"></a>ç¬¬ä¸‰æ–¹åº“çš„å‡çº§</h3><p>Spring Boot 2.0 å»ºç«‹åœ¨ Spring Framework 5 ä¹‹ä¸Šï¼Œå¹¶ä¸”éœ€è¦ Spring Framework 5 ã€‚ä½ å¯ä»¥é€šè¿‡  <a href="https://github.com/spring-projects/spring-framework/wiki/What%27s-New-in-Spring-Framework-5.x" target="_blank" rel="noopener">Whatâ€™s New in Spring Framework 5.x</a>  äº†è§£ Spring 5 çš„æ–°ç‰¹æ€§ã€‚å¹¶åœ¨ç»§ç»­ä¹‹å‰æŸ¥çœ‹å…¶å‡çº§æŒ‡å— <a href="https://github.com/spring-projects/spring-framework/wiki/Upgrading-to-Spring-Framework-5.x" target="_blank" rel="noopener">Upgrading to Spring Framework 5.x</a> ã€‚</p><p>æˆ‘ä»¬å·²å°½å¯èƒ½å‡çº§åˆ°å…¶ä»–ç¬¬ä¸‰æ–¹åº“çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬ã€‚ æœ¬ç‰ˆæœ¬ä¸­ä¸€äº›æ˜¾ç€çš„ä¾èµ–æ€§å‡çº§åŒ…æ‹¬ï¼š</p><ul><li>Tomcat 8.5</li><li>Flyway 5</li><li>Hibernate 5.2</li><li>Thymeleaf 3</li></ul><h3 id="Reactive-Spring"><a href="#Reactive-Spring" class="headerlink" title="Reactive Spring"></a>Reactive Spring</h3><p>Spring äº§å“ç»„åˆä¸­çš„è®¸å¤šé¡¹ç›®ç°åœ¨éƒ½ä¸ºå¼€å‘<a href="https://github.com/reactive-streams/reactive-streams-jvm#reactive-streams" target="_blank" rel="noopener">ååº”å¼åº”ç”¨ç¨‹åº</a>æä¾›ä¸€æµçš„æ”¯æŒã€‚ååº”æ€§åº”ç”¨ç¨‹åºæ˜¯å®Œå…¨å¼‚æ­¥å’Œéé˜»å¡çš„ã€‚å®ƒä»¬æ—¨åœ¨ç”¨äºäº‹ä»¶å¾ªç¯æ‰§è¡Œæ¨¡å‹ï¼ˆè€Œä¸æ˜¯æ›´ä¼ ç»Ÿçš„æ¯ä¸ªè¯·æ±‚çº¿ç¨‹æ‰§è¡Œæ¨¡å‹ï¼‰ã€‚Spring æ¡†æ¶å‚è€ƒæ–‡æ¡£ä¸­çš„<a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html" target="_blank" rel="noopener">â€œWeb ååº”å †æ ˆâ€</a>éƒ¨åˆ†ä¸ºè¿™ä¸ªä¸»é¢˜æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„å…¥é—¨ã€‚</p><p>Spring Boot 2.0 é€šè¿‡è‡ªåŠ¨é…ç½®å’Œå¯åŠ¨å™¨ POM å®Œå…¨æ”¯æŒååº”å¼åº”ç”¨ã€‚Spring Boot çš„å†…éƒ¨æœ¬èº«ä¹Ÿåœ¨å¿…è¦æ—¶è¿›è¡Œäº†æ›´æ–°ï¼Œä»¥æä¾›ååº”æ€§çš„ååº”ï¼ˆæœ€æ˜æ˜¾çš„æ˜¯æˆ‘ä»¬çš„åµŒå…¥å¼æœåŠ¡å™¨æ”¯æŒï¼‰ã€‚</p><h4 id="Spring-WebFluxï¼†WebFlux-fn"><a href="#Spring-WebFluxï¼†WebFlux-fn" class="headerlink" title="Spring WebFluxï¼†WebFlux.fn"></a>Spring WebFluxï¼†WebFlux.fn</h4><p>Spring WebFlux æ˜¯ Spring MVC çš„å®Œå…¨éé˜»å¡ååº”å¼æ›¿ä»£æ–¹æ¡ˆã€‚Spring Boot ä¸ºåŸºäºæ³¨é‡Šçš„ Spring WebFlux åº”ç”¨ç¨‹åºä»¥åŠ WebFlux.fn æä¾›äº†è‡ªåŠ¨é…ç½®ï¼ŒWebFlux.fn æä¾›äº†æ›´å®ç”¨çš„æ ·å¼ APIã€‚</p><p>è¦å¼€å§‹ï¼Œè¯·æ·»åŠ  <code>spring-boot-starter-webflux</code> åˆ° POMï¼Œå®ƒå°†æä¾›ç”±åµŒå…¥å¼ Netty æœåŠ¡å™¨æ”¯æŒçš„ Spring WebFluxã€‚</p><h4 id="Reactive-Spring-Data"><a href="#Reactive-Spring-Data" class="headerlink" title="Reactive Spring Data"></a>Reactive Spring Data</h4><p>åœ¨åº•å±‚æŠ€æœ¯æ”¯æŒçš„æƒ…å†µä¸‹ï¼ŒSpring Data è¿˜ä¸ºååº”å¼åº”ç”¨ç¨‹åºæä¾›æ”¯æŒã€‚ç›®å‰ Cassandraï¼ŒMongoDBï¼ŒCouchbase å’Œ Redis éƒ½æœ‰ååº”å¼ API æ”¯æŒã€‚</p><p>Spring Boot åŒ…å«é’ˆå¯¹è¿™äº›æŠ€æœ¯çš„ç‰¹æ®Š starter-POMsï¼Œå¯ä¸ºæ‚¨æä¾›å¯åŠ¨æ‰€éœ€çš„ä¸€åˆ‡ã€‚ä¾‹å¦‚ï¼Œ<code>spring-boot-starter-data-mongodb-reactive</code>åŒ…æ‹¬å¯¹ååº”æ€§ mongo é©±åŠ¨ç¨‹åºå’Œé¡¹ç›®ååº”å †çš„ä¾èµ–æ€§ã€‚</p><h4 id="Reactive-Spring-Security"><a href="#Reactive-Spring-Security" class="headerlink" title="Reactive Spring Security"></a>Reactive Spring Security</h4><p>Spring Boot 2.0 å¯ä»¥å……åˆ†åˆ©ç”¨ Spring Security 5.0 æ¥ä¿æŠ¤æ‚¨çš„ååº”å¼åº”ç”¨ç¨‹åºã€‚å½“ Spring Security ä½äºç±»è·¯å¾„ä¸­æ—¶ï¼Œä¼šä¸º WebFlux åº”ç”¨ç¨‹åºæä¾›è‡ªåŠ¨é…ç½®ã€‚</p><p>ä½¿ç”¨ WebFlux çš„ Spring Security è®¿é—®è§„åˆ™å¯ä»¥é€šè¿‡<code>SecurityWebFilterChain</code>ã€‚å¦‚æœä½ ä¹‹å‰æ•´åˆè¿‡ Spring MVC å’Œ Spring Securityï¼Œåº”è¯¥ä¼šæ„Ÿåˆ°éå¸¸ç†Ÿæ‚‰ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#boot-features-security-webflux" target="_blank" rel="noopener">Spring Boot å‚è€ƒæ–‡æ¡£</a>å’Œ <a href="https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#jc-webflux" target="_blank" rel="noopener">Spring Security æ–‡æ¡£</a>ã€‚</p><h4 id="åµŒå…¥å¼-Netty-æœåŠ¡å™¨"><a href="#åµŒå…¥å¼-Netty-æœåŠ¡å™¨" class="headerlink" title="åµŒå…¥å¼ Netty æœåŠ¡å™¨"></a>åµŒå…¥å¼ Netty æœåŠ¡å™¨</h4><p>ç”±äº WebFlux ä¸ä¾èµ–äº Servlet APIï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥é¦–æ¬¡ä¸º Netty ä½œä¸ºåµŒå…¥å¼æœåŠ¡å™¨æä¾›æ”¯æŒã€‚è¯¥<code>spring-boot-starter-webflux</code>  å¯åŠ¨ POM å°†æ‹‰å– Netty  4.1 å’Œ <a href="https://github.com/reactor/reactor-netty" target="_blank" rel="noopener">Ractor Netty</a> ã€‚</p><p>æ³¨æ„ï¼šæ‚¨åªèƒ½å°† Netty ç”¨ä½œååº”å¼æœåŠ¡å™¨ã€‚ä¸æä¾›é˜»æ­¢ servlet API æ”¯æŒã€‚</p><h3 id="HTTP-2-æ”¯æŒ"><a href="#HTTP-2-æ”¯æŒ" class="headerlink" title="HTTP/2 æ”¯æŒ"></a>HTTP/2 æ”¯æŒ</h3><p>ä¸º Tomcatï¼ŒUndertow å’Œ Jetty æä¾› HTTP / 2 æ”¯æŒã€‚æ”¯æŒå–å†³äºæ‰€é€‰çš„ Web æœåŠ¡å™¨å’Œåº”ç”¨ç¨‹åºç¯å¢ƒï¼ˆå› ä¸º JDK 8 ä¸æ”¯æŒè¯¥åè®®ï¼‰ã€‚</p><p>å¦‚ä½•é…ç½® HTTPï¼2ï¼Œè¯·å‚è€ƒ <a href="https://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#howto-configure-http2" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> ã€‚</p><h3 id="é…ç½®å±æ€§çš„ç»‘å®š"><a href="#é…ç½®å±æ€§çš„ç»‘å®š" class="headerlink" title="é…ç½®å±æ€§çš„ç»‘å®š"></a>é…ç½®å±æ€§çš„ç»‘å®š</h3><p>åœ¨ Spring Boot 2.0 ä¸­ï¼Œç”¨äºç»‘å®š<code>Environment</code>å±æ€§çš„æœºåˆ¶<code>@ConfigurationProperties</code>å·²ç»å®Œå…¨å½»åº•ä¿®æ”¹ã€‚æˆ‘ä»¬å€Ÿæ­¤æœºä¼šæ”¶ç´§äº†æ¾æ•£ç»‘å®šçš„è§„åˆ™ï¼Œå¹¶ä¿®å¤äº† Spring Boot 1.x ä¸­çš„è®¸å¤šä¸ä¸€è‡´ä¹‹å¤„ã€‚</p><p>æ–°çš„<code>Binder</code>API ä¹Ÿå¯ä»¥<code>@ConfigurationProperties</code>ç›´æ¥åœ¨ä½ è‡ªå·±çš„ä»£ç ä¹‹å¤–ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢å°†ç»“åˆåˆ°<code>List</code>çš„<code>PersonName</code>å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;PersonName&gt; people = Binder.get(environment)</span><br><span class="line">    .bind(<span class="string">"my.property"</span>, Bindable.listOf(PersonName.class))</span><br><span class="line">    .orElseThrow(IllegalStateException::<span class="keyword">new</span>);</span><br></pre></td></tr></table></figure><p>é…ç½®æºå¯ä»¥åƒè¿™æ ·åœ¨ YAML ä¸­è¡¨ç¤ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">my:</span></span><br><span class="line"><span class="attr">  property:</span></span><br><span class="line"><span class="attr">  - first-name:</span> <span class="string">zhisheng</span></span><br><span class="line"><span class="attr">    last-name:</span> <span class="string">tian</span></span><br><span class="line"><span class="attr">  - first-name:</span> <span class="string">zhisheng</span></span><br><span class="line"><span class="attr">    last-name:</span> <span class="string">tian</span></span><br></pre></td></tr></table></figure><p>æœ‰å…³æ›´æ–°ç»‘å®šè§„åˆ™çš„æ›´å¤šä¿¡æ¯ï¼Œ<a href="https://github.com/spring-projects/spring-boot/wiki/Relaxed-Binding-2.0" target="_blank" rel="noopener">è¯·å‚é˜…æ­¤Wikié¡µé¢</a>ã€‚</p><h4 id="é…ç½®èµ·æº"><a href="#é…ç½®èµ·æº" class="headerlink" title="é…ç½®èµ·æº"></a>é…ç½®èµ·æº</h4><p>YAML æ–‡ä»¶å’Œè¢« Spring Boot åŠ è½½çš„ Properties æ–‡ä»¶ç°åœ¨åŒ…å«<code>Origin</code>ä¿¡æ¯ï¼Œå¯å¸®åŠ©æ‚¨è·Ÿè¸ªé¡¹ç›®ä»ä½•å¤„åŠ è½½çš„ä¿¡æ¯ã€‚æœ‰äº› Spring Boot ç‰¹æ€§åˆ©ç”¨äº†è¿™ä¸ªä¿¡æ¯å¯ä»¥åœ¨é€‚å½“çš„æ—¶å€™å±•ç¤ºå‡ºæ¥ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>BindException</code>ç»‘å®šå¤±è´¥æ—¶æŠ›å‡ºçš„ç±»æ˜¯ä¸€ä¸ª<code>OriginProvider</code>ã€‚è¿™æ„å‘³ç€åŸå§‹ä¿¡æ¯å¯ä»¥å¾ˆå¥½åœ°ä»æ•…éšœåˆ†æå™¨ä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚</p><p>å¦ä¸€ä¸ªä¾‹å­æ˜¯<code>env</code>æ‰§è¡Œå™¨ç«¯ç‚¹ï¼Œå½“å®ƒæœ‰å¯ç”¨æ—¶åŒ…å«äº†åŸå§‹ä¿¡æ¯ã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ–­æ˜¾ç¤ºè¯¥<code>spring.security.user.name</code>å±æ€§æ¥è‡ª jar åŒ…ä¸­çš„ application.properties æ–‡ä»¶çš„ç¬¬ 1è¡Œï¼Œç¬¬ 27 åˆ—ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"applicationConfig: [classpath:/application.properties]"</span>,</span><br><span class="line">  <span class="attr">"properties"</span>: &#123;</span><br><span class="line">    <span class="attr">"spring.security.user.name"</span>: &#123;</span><br><span class="line">      <span class="attr">"value"</span>: <span class="string">"user"</span>,</span><br><span class="line">      <span class="attr">"origin"</span>: <span class="string">"class path resource [application.properties]:1:27"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è½¬æ¢å™¨æ”¯æŒ"><a href="#è½¬æ¢å™¨æ”¯æŒ" class="headerlink" title="è½¬æ¢å™¨æ”¯æŒ"></a>è½¬æ¢å™¨æ”¯æŒ</h4><p>Binding åˆ©ç”¨äº†ä¸€ä¸ªæ–°çš„ <code>ApplicationConversionService</code> ç±»ï¼Œå®ƒæä¾›äº†ä¸€äº›å¯¹å±æ€§ç»‘å®šç‰¹åˆ«æœ‰ç”¨çš„é¢å¤–è½¬æ¢å™¨ã€‚æœ€å¼•äººæ³¨ç›®çš„æ˜¯è½¬æ¢å™¨çš„<code>Duration</code>ç±»å‹å’Œåˆ†éš”å­—ç¬¦ä¸²ã€‚</p><p>è¯¥<code>Duration</code>è½¬æ¢å™¨å…è®¸åœ¨ä»»ä¸€ ISO-8601 æ ¼å¼ä¸­æŒ‡å®šçš„æŒç»­æ—¶é—´ï¼Œæˆ–ä½œä¸ºä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚<code>10m</code>ï¼Œ10 åˆ†é’Ÿï¼‰ã€‚ç°æœ‰çš„å±æ€§å·²æ›´æ”¹ä¸ºå§‹ç»ˆä½¿ç”¨<code>Duration</code>ã€‚è¯¥<code>@DurationUnit</code>æ³¨é‡Šé€šè¿‡è®¾ç½®å¦‚æœæ²¡æœ‰æŒ‡å®šæ‰€ä½¿ç”¨çš„å•å…ƒç¡®ä¿å‘åå…¼å®¹æ€§ã€‚ä¾‹å¦‚ï¼ŒSpring Boot 1.5 ä¸­éœ€è¦ç§’æ•°çš„å±æ€§ç°åœ¨å¿…é¡»<code>@DurationUnit(ChronoUnit.SECONDS)</code>ç¡®ä¿ä¸€ä¸ªç®€å•çš„å€¼ï¼Œä¾‹å¦‚<code>10</code>å®é™…ä½¿ç”¨çš„å€¼<code>10s</code>ã€‚</p><p>åˆ†éš”å­—ç¬¦ä¸²è½¬æ¢å…è®¸æ‚¨å°†ç®€å•ç»‘å®š<code>String</code>åˆ°<code>Collection</code>æˆ–<code>Array</code>ä¸å¿…åˆ†å‰²é€—å·ã€‚ä¾‹å¦‚ï¼ŒLDAP <code>base-dn</code> å±æ€§ç”¨ <code>@Delimiter(Delimiter.NONE)</code>ï¼Œæ‰€ä»¥ LDAP DNï¼ˆé€šå¸¸åŒ…å«é€—å·ï¼‰ä¸ä¼šè¢«é”™è¯¯è§£é‡Šã€‚</p><h3 id="Gradle-æ’ä»¶"><a href="#Gradle-æ’ä»¶" class="headerlink" title="Gradle æ’ä»¶"></a>Gradle æ’ä»¶</h3><p>Spring Boot çš„ Gradle æ’ä»¶å·²åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šè¿›è¡Œäº†é‡æ–°ç¼–å†™ï¼Œä»¥å®ç°<a href="https://github.com/spring-projects/spring-boot/issues?utf8=%E2%9C%93&amp;q=label%3A%22theme%3A%20gradle-plugin%22%20milestone%3A2.0.0.M1%20" target="_blank" rel="noopener">è®¸å¤šé‡å¤§æ”¹è¿›</a>ã€‚æ‚¨å¯ä»¥åœ¨å…¶<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/gradle-plugin/reference" target="_blank" rel="noopener">å‚è€ƒæ–‡çŒ®</a>å’Œ <a href="https://docs.spring.io/spring-boot/docs/2.0.0.BUILD-SNAPSHOT/gradle-plugin/api" target="_blank" rel="noopener">API</a> æ–‡æ¡£ä¸­é˜…è¯»å…³äºæ’ä»¶åŠŸèƒ½çš„æ›´å¤šä¿¡æ¯ã€‚</p><p>Spring Boot ç°åœ¨éœ€è¦ Gradle 4.x. å¦‚æœæ‚¨è¦å‡çº§ä½¿ç”¨ Gradle çš„é¡¹ç›®ï¼Œè¯·æŸ¥çœ‹<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide" target="_blank" rel="noopener">è¿ç§»æŒ‡å—</a>ã€‚</p><h3 id="Kotlin"><a href="#Kotlin" class="headerlink" title="Kotlin"></a>Kotlin</h3><p>Spring Boot 2.0 ç°åœ¨åŒ…å«å¯¹ Kotlin 1.2.x çš„æ”¯æŒï¼Œå¹¶æä¾›äº†<code>runApplication</code> ï¼Œä¸€ä¸ªä½¿ç”¨ Kotlin è¿è¡Œ Spring Boot åº”ç”¨ç¨‹åºçš„æ–¹æ³•ã€‚æˆ‘ä»¬è¿˜å…¬å¼€å’Œåˆ©ç”¨äº† Kotlin å¯¹å…¶ä»– Spring é¡¹ç›®ï¼ˆå¦‚Spring Frameworkï¼ŒSpring Data å’Œ Reactorï¼‰å·²æ·»åŠ åˆ°å…¶æœ€è¿‘ç‰ˆæœ¬ä¸­çš„æ”¯æŒã€‚</p><p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#boot-features-kotlin" target="_blank" rel="noopener">å‚è€ƒæ–‡æ¡£</a>çš„<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#boot-features-kotlin" target="_blank" rel="noopener">Kotlinæ”¯æŒéƒ¨åˆ†</a>ã€‚</p><h3 id="Actuator-æ”¹è¿›"><a href="#Actuator-æ”¹è¿›" class="headerlink" title="Actuator æ”¹è¿›"></a>Actuator æ”¹è¿›</h3><p>åœ¨ Spring Boot 2.0 ä¸­ Actuator endpoints æœ‰å¾ˆå¤§çš„æ”¹è¿›ã€‚æ‰€æœ‰ HTTP Actuator endpoints ç°åœ¨éƒ½åœ¨è¯¥<code>/actuator</code>è·¯å¾„ä¸‹å…¬å¼€ï¼Œå¹¶ä¸”ç”Ÿæˆçš„ JSON æœ‰æ•ˆè´Ÿè½½å¾—åˆ°äº†æ”¹è¿›ã€‚</p><p>æˆ‘ä»¬ç°åœ¨ä¹Ÿä¸ä¼šåœ¨é»˜è®¤æƒ…å†µä¸‹æš´éœ²å¾ˆå¤šç«¯ç‚¹ã€‚å¦‚æœæ‚¨è¦å‡çº§ç°æœ‰çš„ Spring Boot 1.5 åº”ç”¨ç¨‹åºï¼Œè¯·åŠ¡å¿…æŸ¥çœ‹<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide" target="_blank" rel="noopener">è¿ç§»æŒ‡å—</a>å¹¶ç‰¹åˆ«æ³¨æ„è¯¥<code>management.endpoints.web.exposure.include</code>å±æ€§ã€‚</p><h4 id="Actuator-JSON"><a href="#Actuator-JSON" class="headerlink" title="Actuator JSON"></a>Actuator JSON</h4><p>Spring Boot 2.0 æ”¹è¿›äº†ä»è®¸å¤šç«¯ç‚¹è¿”å›çš„ JSON æœ‰æ•ˆè´Ÿè½½ã€‚</p><p>ç°åœ¨è®¸å¤šç«¯ç‚¹éƒ½å…·æœ‰æ›´ç²¾ç¡®åœ°åæ˜ åº•å±‚æ•°æ®çš„ JSONã€‚ä¾‹å¦‚ï¼Œ<code>/actuator/conditions</code>ç»ˆç«¯ï¼ˆ<code>/autoconfig</code>åœ¨Spring Boot 1.5ä¸­ï¼‰ç°åœ¨æœ‰ä¸€ä¸ªé¡¶çº§<code>contexts</code>å¯†é’¥æ¥å°†ç»“æœåˆ†ç»„<code>ApplicationContext</code>ã€‚</p><p>ç°åœ¨è¿˜ä½¿ç”¨ <a href="https://projects.spring.io/spring-restdocs/" target="_blank" rel="noopener">Spring REST Docs</a> ç”Ÿæˆäº†å¹¿æ³›çš„ <a href="https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/actuator-api/html/" target="_blank" rel="noopener">REST API </a> <a href="https://projects.spring.io/spring-restdocs/" target="_blank" rel="noopener">æ–‡æ¡£ï¼Œ</a>å¹¶éšæ¯ä¸ªç‰ˆæœ¬å‘å¸ƒã€‚</p><h4 id="Jersey-and-WebFlux-æ”¯æŒ"><a href="#Jersey-and-WebFlux-æ”¯æŒ" class="headerlink" title="Jersey and WebFlux æ”¯æŒ"></a>Jersey and WebFlux æ”¯æŒ</h4><p>é™¤äº†æ”¯æŒ Spring MVC å’Œ JMXï¼Œæ‚¨ç°åœ¨å¯ä»¥åœ¨å¼€å‘ Jersey æˆ– WebFlux åº”ç”¨ç¨‹åºæ—¶è®¿é—®æ‰§è¡Œå™¨ç«¯ç‚¹ã€‚Jersey æ”¯æŒé€šè¿‡è‡ªå®šä¹‰ Jersey æä¾›<code>Resource</code>ï¼ŒWebFlux ä½¿ç”¨è‡ªå®šä¹‰<code>HandlerMapping</code>ã€‚</p><h4 id="Hypermedia-links"><a href="#Hypermedia-links" class="headerlink" title="Hypermedia links"></a>Hypermedia links</h4><p>è¯¥<code>/actuator</code>ç«¯ç‚¹ç°åœ¨æä¾›äº†ä¸€ä¸ª HAL æ ¼å¼çš„å“åº”æä¾›é“¾æ¥åˆ°æ‰€æœ‰æ´»åŠ¨ç«¯ç‚¹ï¼ˆå³ä½¿ä½ æ²¡æœ‰ Spring HATEOAS åœ¨classpathï¼‰ã€‚</p><h4 id="Actuator-Endpoints"><a href="#Actuator-Endpoints" class="headerlink" title="Actuator @Endpoints"></a>Actuator @Endpoints</h4><p>ä¸ºäº†æ”¯æŒ Spring MVCï¼ŒJMXï¼ŒWebFlux å’Œ Jerseyï¼Œæˆ‘ä»¬ä¸º Actuator @Endpoints å¼€å‘äº†ä¸€ç§æ–°çš„ç¼–ç¨‹æ¨¡å‹ã€‚è¯¥<code>@Endpoint</code>æ³¨è§£å¯ä»¥ä¸<code>@ReadOperation</code>ï¼Œ<code>@WriteOperation</code> å’Œ <code>@DeleteOperation</code> ç»„åˆä½¿ç”¨å¼€å‘ endpointsã€‚</p><p>æ‚¨è¿˜å¯ä»¥ä½¿ç”¨<code>@EndpointWebExtension</code>æˆ–<code>@EndpointJmxExtension</code>ç¼–å†™æŠ€æœ¯ç‰¹å®šçš„å¢å¼ºåŠŸèƒ½åˆ° endpointsã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#production-ready-endpoints-custom" target="_blank" rel="noopener">æ›´æ–°çš„å‚è€ƒæ–‡æ¡£</a>ã€‚</p><h4 id="Micrometer"><a href="#Micrometer" class="headerlink" title="Micrometer"></a>Micrometer</h4><p>Spring Boot 2.0 ä¸å†æä¾›è‡ªå·±çš„æŒ‡æ ‡ APIã€‚ç›¸åï¼Œæˆ‘ä»¬ä¾é  <a href="https://micrometer.io/" target="_blank" rel="noopener">micrometer.io</a> æ¥æ»¡è¶³æ‰€æœ‰åº”ç”¨ç¨‹åºç›‘è§†éœ€æ±‚ã€‚</p><p>Micrometer åŒ…æ‹¬å°ºå¯¸æŒ‡æ ‡çš„æ”¯æŒï¼Œå½“ä¸å°ºå¯¸ç›‘æµ‹ç³»ç»Ÿé…å¯¹æ—¶ï¼Œå°ºå¯¸æŒ‡æ ‡å¯ä»¥æœ‰æ•ˆè®¿é—®ç‰¹å®šçš„æŒ‡å®šåº¦é‡æ ‡å‡†ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å…¶å°ºå¯¸èŒƒå›´å†…å‘ä¸‹é’»å–ã€‚</p><p>æŒ‡æ ‡å¯ä»¥è¾“å‡ºåˆ°å„ç§ç³»ç»Ÿå’Œå¼€ç®±å³ç”¨çš„ Spring Boot 2.0ï¼Œä¸º Atlasï¼ŒDatadogï¼ŒGangliaï¼ŒGraphiteï¼ŒInfluxï¼ŒJMXï¼ŒNew Relicï¼ŒPrometheusï¼ŒSignalFxï¼ŒStatsD å’Œ Wavefront æä¾›æ”¯æŒã€‚å¦å¤–è¿˜å¯ä»¥ä½¿ç”¨ç®€å•çš„å†…å­˜ä¸­åº¦é‡æ ‡å‡†ã€‚</p><p>é›†æˆéš JVM æŒ‡æ ‡ï¼ˆåŒ…æ‹¬ CPUï¼Œå†…å­˜ï¼Œçº¿ç¨‹å’Œ GCï¼‰ï¼ŒLogbackï¼ŒTomcatï¼ŒSpring MVCï¼†æä¾›<code>RestTemplate</code>ã€‚</p><p>æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…å‚è€ƒæ–‡æ¡£çš„æ›´æ–°<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#production-ready-metrics" target="_blank" rel="noopener">â€œæŒ‡æ ‡â€éƒ¨åˆ†</a>ã€‚</p><h3 id="æ•°æ®æ”¯æŒ"><a href="#æ•°æ®æ”¯æŒ" class="headerlink" title="æ•°æ®æ”¯æŒ"></a>æ•°æ®æ”¯æŒ</h3><p>é™¤äº†ä¸Šé¢æåˆ°çš„ <code>Reactive Spring Data</code> æ”¯æŒå¤–ï¼Œåœ¨æ•°æ®é¢†åŸŸè¿˜è¿›è¡Œäº†å…¶ä»–ä¸€äº›æ›´æ–°å’Œæ”¹è¿›ã€‚</p><h4 id="HikariCP"><a href="#HikariCP" class="headerlink" title="HikariCP"></a>HikariCP</h4><p>Spring Boot 2.0 ä¸­çš„é»˜è®¤æ•°æ®åº“æ± æŠ€æœ¯å·²ä» Tomcat Pool åˆ‡æ¢åˆ° HikariCPã€‚æˆ‘ä»¬å‘ç° Hakari æä¾›äº†å“è¶Šçš„æ€§èƒ½ï¼Œæˆ‘ä»¬çš„è®¸å¤šç”¨æˆ·æ›´å–œæ¬¢ Tomcat Poolã€‚</p><h4 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h4><p>æ•°æ®åº“åˆå§‹åŒ–é€»è¾‘åœ¨ Spring Boot 2.0 ä¸­å·²ç»åˆç†åŒ–ã€‚Spring Batchï¼ŒSpring Integrationï¼ŒSpring Session å’Œ Quartzçš„åˆå§‹åŒ–ç°åœ¨ä»…åœ¨ä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“æ—¶æ‰ä¼šé»˜è®¤å‘ç”Ÿã€‚è¯¥<code>enabled</code>å±æ€§å·²è¢«æ›¿æ¢ä¸ºæ›´å…·è¡¨ç°åŠ›æšä¸¾ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ä¸€ç›´æ‰§è¡Œ Spring Batch çš„åˆå§‹åŒ–ï¼Œæ‚¨å¯ä»¥è®¾ç½®<code>spring.batch.initialize-schema=always</code>ã€‚</p><p>å¦‚æœ Flyway æˆ– Liquibase æ­£åœ¨ç®¡ç†æ‚¨çš„ DataSource çš„æ¨¡å¼ï¼Œå¹¶ä¸”æ‚¨æ­£åœ¨ä½¿ç”¨åµŒå…¥å¼æ•°æ®åº“ï¼ŒSpring Boot ç°åœ¨ä¼šè‡ªåŠ¨å…³é—­ Hibernate çš„è‡ªåŠ¨ DDL åŠŸèƒ½ã€‚</p><h4 id="JOOQ"><a href="#JOOQ" class="headerlink" title="JOOQ"></a>JOOQ</h4><p>Spring Boot 2.0 ç°åœ¨åŸºäº DataSource è‡ªåŠ¨æ£€æµ‹ JOOQ æ–¹è¨€ï¼ˆç±»ä¼¼äºä¸º JPA æ–¹è¨€æ‰€åšçš„ï¼‰ã€‚<code>@JooqTest</code>æ˜¯æ–°å¼•å…¥çš„æ³¨è§£ç”¨æ¥ç®€åŒ–é‚£äº›åªæœ‰ JOOQ å¿…é¡»è¢«ä½¿ç”¨çš„æµ‹è¯•ã€‚</p><h4 id="JdbcTemplate"><a href="#JdbcTemplate" class="headerlink" title="JdbcTemplate"></a>JdbcTemplate</h4><p>Spring Boot è‡ªåŠ¨é…ç½®çš„ <code>JdbcTemplate</code> ç°åœ¨å¯ä»¥é€šè¿‡ <code>spring.jdbc.template</code> å±æ€§è¿›è¡Œè‡ªå®šä¹‰ã€‚æ­¤å¤–ï¼Œ<code>NamedParameterJdbcTemplate</code>è‡ªåŠ¨é…ç½®çš„å†…å®¹ä¼šé‡ç”¨<code>JdbcTemplate</code>ã€‚</p><h4 id="Spring-Data-Web-é…ç½®"><a href="#Spring-Data-Web-é…ç½®" class="headerlink" title="Spring Data Web é…ç½®"></a>Spring Data Web é…ç½®</h4><p>Spring Boot å…¬å¼€äº†ä¸€ä¸ªæ–°çš„<code>spring.data.web</code>é…ç½®åç§°ç©ºé—´ï¼Œå¯ä»¥è½»æ¾é…ç½®åˆ†é¡µå’Œæ’åºã€‚</p><h4 id="InfluxDB"><a href="#InfluxDB" class="headerlink" title="InfluxDB"></a>InfluxDB</h4><p>Spring Boot ç°åœ¨è‡ªåŠ¨é…ç½®å¼€æºæ—¶é—´åºåˆ—æ•°æ®åº“ InfluxDBã€‚è¦å¯ç”¨ InfluxDB æ”¯æŒï¼Œæ‚¨éœ€è¦è®¾ç½®ä¸€ä¸ª<code>spring.influx.url</code>å±æ€§ï¼Œå¹¶å°†å…¶åŒ…å«<code>influxdb-java</code>åœ¨æ‚¨çš„ç±»è·¯å¾„ä¸­ã€‚</p><h4 id="Flyway-Liquibase-çµæ´»é…ç½®"><a href="#Flyway-Liquibase-çµæ´»é…ç½®" class="headerlink" title="Flyway/Liquibase çµæ´»é…ç½®"></a>Flyway/Liquibase çµæ´»é…ç½®</h4><p>å¦‚æœä»…æä¾›è‡ªå®šä¹‰<code>url</code>æˆ–<code>user</code>å±æ€§ï¼Œåˆ™ Flyway å’Œ Liquibase çš„è‡ªåŠ¨é…ç½®ç°åœ¨å°†é‡ç”¨æ ‡å‡†æ•°æ®æºå±æ€§ï¼Œè€Œä¸æ˜¯å¿½ç•¥å®ƒä»¬ã€‚è¿™ä½¿æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ•°æ®æºï¼Œä»…ç”¨äºæ‰€éœ€ä¿¡æ¯çš„è¿ç§»ã€‚</p><h4 id="Hibernate"><a href="#Hibernate" class="headerlink" title="Hibernate"></a>Hibernate</h4><p>ç°åœ¨æ”¯æŒè‡ªå®šä¹‰ Hibernate å‘½åç­–ç•¥ã€‚å¯¹äºé«˜çº§åœºæ™¯ï¼Œç°åœ¨å¯ä»¥åœ¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰<code>ImplicitNamingStrategy</code>æˆ–<code>PhysicalNamingStrategy</code>ä½¿ç”¨å¸¸è§„ beanã€‚</p><p>ç°åœ¨ä¹Ÿå¯ä»¥é€šè¿‡å…¬å¼€<code>HibernatePropertiesCustomizer</code>bean æ¥æ›´åŠ ç»†è‡´åœ°å®šåˆ¶ Hibernate ä½¿ç”¨çš„å±æ€§ã€‚</p><h4 id="MongoDB-å®¢æˆ·ç«¯è‡ªå®šä¹‰"><a href="#MongoDB-å®¢æˆ·ç«¯è‡ªå®šä¹‰" class="headerlink" title="MongoDB å®¢æˆ·ç«¯è‡ªå®šä¹‰"></a>MongoDB å®¢æˆ·ç«¯è‡ªå®šä¹‰</h4><p>ç°åœ¨å¯ä»¥é€šè¿‡å®šä¹‰ä¸€ä¸ªç±»å‹çš„ bean æ¥ä¸º Spring Boot è‡ªåŠ¨é…ç½®çš„ Mongo å®¢æˆ·ç«¯åº”ç”¨é«˜çº§å®šåˆ¶<code>MongoClientSettingsBuilderCustomizer</code>ã€‚</p><h4 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h4><p>ç°åœ¨å¯ä»¥ä½¿ç”¨<code>spring.cache.redis.*</code>å±æ€§é…ç½® Redis çš„ç¼“å­˜é»˜è®¤å€¼ã€‚</p><h3 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h3><p>é™¤äº†ä¸Šé¢æåˆ°çš„ WebFlux å’Œ WebFlux.fn æ”¯æŒä¹‹å¤–ï¼Œè¿˜åœ¨å¼€å‘ Web åº”ç”¨ç¨‹åºæ—¶è¿›è¡Œäº†ä»¥ä¸‹æ”¹è¿›ã€‚</p><h4 id="ä¸Šä¸‹æ–‡è·¯å¾„è®°å½•"><a href="#ä¸Šä¸‹æ–‡è·¯å¾„è®°å½•" class="headerlink" title="ä¸Šä¸‹æ–‡è·¯å¾„è®°å½•"></a>ä¸Šä¸‹æ–‡è·¯å¾„è®°å½•</h4><p>å½“ä½¿ç”¨åµŒå…¥å¼å®¹å™¨æ—¶ï¼Œå½“æ‚¨çš„åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¸Šä¸‹æ–‡è·¯å¾„å°†ä¸ HTTP ç«¯å£ä¸€èµ·è®°å½•ã€‚ä¾‹å¦‚ï¼ŒåµŒå…¥å¼ Tomcat ç°åœ¨çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tomcat åœ¨ç«¯å£ä¸Šå¯åŠ¨ï¼š8080ï¼ˆhttpï¼‰ï¼Œå…¶ä¸Šä¸‹æ–‡è·¯å¾„ä¸º &apos;/foo&apos;</span><br></pre></td></tr></table></figure><h4 id="Webè¿‡æ»¤å™¨åˆå§‹åŒ–"><a href="#Webè¿‡æ»¤å™¨åˆå§‹åŒ–" class="headerlink" title="Webè¿‡æ»¤å™¨åˆå§‹åŒ–"></a>Webè¿‡æ»¤å™¨åˆå§‹åŒ–</h4><p>Web è¿‡æ»¤å™¨ç°åœ¨åœ¨æ‰€æœ‰æ”¯æŒçš„å®¹å™¨ä¸Šæ€¥åˆ‡åœ°åˆå§‹åŒ–ã€‚</p><h4 id="Thymeleaf"><a href="#Thymeleaf" class="headerlink" title="Thymeleaf"></a>Thymeleaf</h4><p>Thymeleaf åˆå§‹åŒ–ç°åœ¨åŒ…æ‹¬<code>thymeleaf-extras-java8time</code>ï¼Œæä¾›<code>javax.time</code>ç±»å‹æ”¯æŒã€‚</p><h4 id="JSON-æ”¯æŒ"><a href="#JSON-æ”¯æŒ" class="headerlink" title="JSON æ”¯æŒ"></a>JSON æ”¯æŒ</h4><p>æ–°çš„<code>spring-boot-starter-json</code>èµ·å§‹è€…æ”¶é›†å¿…è¦çš„ä½ä»¥è¯»å–å’Œå†™å…¥ JSONã€‚å®ƒä¸ä»…æä¾›äº†<code>jackson-databind</code>ä¸Java8 å·¥ä½œæ—¶ï¼Œä¹Ÿæ˜¯æœ‰ç”¨çš„æ¨¡å—ï¼š<code>jackson-datatype-jdk8</code>ï¼Œ<code>jackson-datatype-jsr310</code>å’Œ<code>jackson-module-parameter-names</code>ã€‚è¿™ä¸ªæ–°çš„èµ·åŠ¨å™¨ç°åœ¨è¢«ç”¨äº<code>jackson-databind</code>ä¹‹å‰å®šä¹‰çš„åœ°æ–¹ã€‚</p><p>å¦‚æœæ‚¨æ›´å–œæ¬¢ Jackson ä¹‹å¤–çš„å…¶ä»–äº§å“ï¼Œæˆ‘ä»¬å¯¹ GSON çš„æ”¯æŒåœ¨ Spring Boot 2.0  å·²ç»å¤§å¤§æé«˜ã€‚æˆ‘ä»¬è¿˜å¼•å…¥äº†å¯¹ JSON-B çš„æ”¯æŒï¼ˆåŒ…æ‹¬ JSON-B æµ‹è¯•æ”¯æŒï¼‰ã€‚</p><h3 id="Quartz"><a href="#Quartz" class="headerlink" title="Quartz"></a>Quartz</h3><p>è‡ªåŠ¨é…ç½®æ”¯æŒç›®å‰åŒ…å«äº†  <a href="http://www.quartz-scheduler.org/" target="_blank" rel="noopener">Quartz Scheduler</a>ã€‚æˆ‘ä»¬è¿˜æ·»åŠ äº†æ–°çš„<code>spring-boot-starter-quartz</code> åˆå§‹åŒ– POMã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨å†…å­˜<code>JobStores</code>ä¸­æˆ–å®Œæ•´çš„åŸºäº JDBC çš„å­˜å‚¨ã€‚æ‰€æœ‰<code>JobDetail</code>ï¼Œ<code>Calendar</code>å¹¶<code>Trigger</code>ä»ä½ çš„ Springåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡è±†å°†è‡ªåŠ¨æ³¨å†Œ<code>Scheduler</code>ã€‚</p><p>æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·é˜…è¯»å‚è€ƒæ–‡æ¡£çš„æ–°<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#boot-features-quartz" target="_blank" rel="noopener">â€œQuartz Schedulerâ€éƒ¨åˆ†</a>ã€‚</p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>å¯¹ Spring Boot 2.0 ä¸­æä¾›çš„æµ‹è¯•æ”¯æŒè¿›è¡Œäº†ä¸€äº›è¡¥å……å’Œè°ƒæ•´ï¼š</p><ul><li><code>@WebFluxTest</code>å·²æ·»åŠ æ–°æ³¨é‡Šä»¥æ”¯æŒ WebFlux åº”ç”¨ç¨‹åºçš„â€œåˆ‡ç‰‡â€æµ‹è¯•ã€‚</li><li><code>Converter</code>å’Œ<code>GenericConverter</code>è±†ç±»ç°åœ¨è‡ªåŠ¨æ‰«æ<code>@WebMvcTest</code>å’Œ<code>@WebFluxTest</code>ã€‚</li><li><code>@AutoConfigureWebTestClient</code>å·²ç»æ·»åŠ äº†ä¸€ä¸ªæ³¨é‡Šæ¥æä¾›ä¸€ä¸ª<code>WebTestClient</code>bean ä¾›æµ‹è¯•ä½¿ç”¨ã€‚æ³¨é‡Šä¼šè‡ªåŠ¨åº”ç”¨äº<code>@WebFluxTest</code>æµ‹è¯•ã€‚</li><li>å¢åŠ äº†ä¸€ä¸ªæ–°çš„<code>ApplicationContextRunner</code>æµ‹è¯•å®ç”¨ç¨‹åºï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°æµ‹è¯•æ‚¨çš„è‡ªåŠ¨é…ç½®ã€‚æˆ‘ä»¬å·²å°†å¤§éƒ¨åˆ†å†…éƒ¨æµ‹è¯•å¥—ä»¶ç§»è‡³æ­¤æ–°æ¨¡å‹ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…<a href="http://docs.spring.io/spring-boot/docs/2.0.x-SNAPSHOT/reference/htmlsingle/#boot-features-test-autoconfig" target="_blank" rel="noopener">æ›´æ–°çš„æ–‡æ¡£</a>ã€‚</li></ul><h3 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h3><p>é™¤äº†ä¸Šé¢åˆ—å‡ºçš„å˜åŒ–å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå°çš„è°ƒæ•´å’Œæ”¹è¿›ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><code>@ConditionalOnBean</code>ç°åœ¨åœ¨ç¡®å®šæ˜¯å¦æ»¡è¶³æ¡ä»¶æ—¶ä½¿ç”¨é€»è¾‘<code>AND</code>è€Œä¸æ˜¯é€»è¾‘<code>OR</code>ã€‚</li><li>æ— æ¡ä»¶ç±»ç°åœ¨åŒ…å«åœ¨è‡ªåŠ¨é…ç½®æŠ¥å‘Šä¸­ã€‚</li><li>è¯¥<code>spring</code>CLI åº”ç”¨ç¨‹åºç°åœ¨åŒ…æ‹¬<code>encodepassword</code>å¯ç”¨äºåˆ›å»º Spring Security çš„å…¼å®¹æ•£åˆ—å¯†ç å‘½ä»¤ã€‚</li><li>è®¡åˆ’ä»»åŠ¡ï¼ˆå³ <code>@EnableScheduling</code>ï¼‰å¯ä»¥ä½¿ç”¨<code>scheduledtasks</code>æ‰§è¡Œå™¨ç«¯ç‚¹è¿›è¡Œå®¡æŸ¥ã€‚</li><li>è¯¥<code>loggers</code>é©±åŠ¨å™¨ç»ˆç«¯ç°åœ¨å…è®¸ä½ é‡æ–°è®¾ç½®ä¸€ä¸ªè®°å½•å™¨çº§åˆ«ä¸ºå®ƒçš„é»˜è®¤ã€‚</li><li>Spring Session ç”¨æˆ·ç°åœ¨å¯ä»¥é€šè¿‡<code>sessions</code>æ‰§è¡Œå™¨ç«¯ç‚¹æŸ¥æ‰¾å’Œåˆ é™¤ä¼šè¯ã€‚</li><li>ä½¿ç”¨<code>spring-boot-starter-parent</code>ç°åœ¨åŸºäº Maven çš„åº”ç”¨ç¨‹åº<code>-parameters</code>é»˜è®¤ä½¿ç”¨æ ‡å¿—ã€‚</li><li>æˆ‘ä»¬çš„æ„å»ºç°åœ¨ä½¿ç”¨ <a href="http://concourse.ci/" target="_blank" rel="noopener">concourse</a> çš„ CI å’Œæˆ‘ä»¬çš„é¡¹ç›® POM æ–‡ä»¶å·²è¢«é‡æ„ï¼Œä½¿å®ƒä»¬æ›´ç®€å•çš„ã€‚</li></ul><h3 id="åŠ¨ç”»-ASCII-è‰ºæœ¯"><a href="#åŠ¨ç”»-ASCII-è‰ºæœ¯" class="headerlink" title="åŠ¨ç”» ASCII è‰ºæœ¯"></a>åŠ¨ç”» ASCII è‰ºæœ¯</h3><p>æœ€åï¼Œä¸ºäº†å¥½ç©ï¼ŒSpring Boot 2.0 ç°åœ¨æ”¯æŒåŠ¨ç”» GIF æ¨ªå¹…ã€‚</p><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fp34jnoouij30dc093dfp.jpg" alt="animated-ascii-art"></p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-Migration-Guide/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸€)ï¼šSpring Boot 2.0 è¿ç§»æŒ‡å—</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/03/06/SpringBoot2-new-features/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (äºŒ)ï¼šSpring Boot 2.0 æ–°ç‰¹æ€§è¯¦è§£</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/04/13/Spring_Boot_2.0_Configuration_Changelog/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (ä¸‰)ï¼šSpring Boot 2.0 é…ç½®æ”¹å˜</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/04/15/springboot2_code/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 æºç é˜…è¯»ç¯å¢ƒæ­å»º</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/04/18/spring_boot2_project/" target="_blank" rel="noopener">Spring Boot 2.0ç³»åˆ—æ–‡ç« (å››)ï¼šSpring Boot 2.0 é¡¹ç›®æºç ç»“æ„é¢„è§ˆ</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws2.sinaimg.cn/large/006tKfTcgy1fp34jn0xb3j31hc140aji.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;åœ¨ 3 æœˆ 1 å·ï¼ŒSpring Boot&lt;code&gt;2.0.0.RELEASE&lt;/code&gt;æ­£å¼å‘å¸ƒï¼Œè¿™æ˜¯ Spring Boot1.0 å‘å¸ƒ 4 å¹´ä¹‹åç¬¬ä¸€æ¬¡é‡å¤§ä¿®è®¢ï¼Œå› æ­¤æœ‰å¤šçš„æ–°åŠŸèƒ½å’Œç‰¹æ€§å€¼å¾—å¤§å®¶æœŸå¾…ï¼ä¸‹é¢å¸¦å¤§å®¶äº†è§£ä¸‹ Spring Boot 2.0 ä¸­çš„æ–°ç‰¹æ€§ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>å°é©¬å“¥ ã€ŠJava å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ã€‹å¼ºçƒˆæ¨è</title>
    <link href="http://yoursite.com/2018/03/04/springboot-vedio/"/>
    <id>http://yoursite.com/2018/03/04/springboot-vedio/</id>
    <published>2018-03-03T16:00:00.000Z</published>
    <updated>2018-03-06T16:20:40.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp0ts4i1hfj30id08t3yn.jpg" alt="timg"></p><h3 id="è§†é¢‘å†…å®¹"><a href="#è§†é¢‘å†…å®¹" class="headerlink" title="è§†é¢‘å†…å®¹"></a>è§†é¢‘å†…å®¹</h3><p>Java å¾®æœåŠ¡å®è·µ - Spring Boot ä¸ºç³»åˆ—è®²åº§ï¼ŒäºŒåèŠ‚ä¸“é¢˜ç›´æ’­ï¼Œæ—¶é•¿é«˜è¾¾50ä¸ªå°æ—¶ï¼ŒåŒ…æ‹¬ç›®å‰æœ€æµè¡ŒæŠ€æœ¯ï¼Œæ·±å…¥æºç åˆ†æï¼Œæˆäººä»¥æ¸”çš„æ–¹å¼ï¼Œå¸®åŠ©åˆå­¦è€…æ·±å…¥æµ…å‡ºåœ°æŒæ¡ï¼Œä¸ºé«˜é˜¶ä»ä¸šäººå‘˜æŠ›ç –å¼•ç‰ã€‚</p><a id="more"></a><h3 id="è®²å¸ˆä»‹ç»"><a href="#è®²å¸ˆä»‹ç»" class="headerlink" title="è®²å¸ˆä»‹ç»"></a>è®²å¸ˆä»‹ç»</h3><blockquote><p><strong>å°é©¬å“¥</strong>ï¼Œä¸€çº¿äº’è”ç½‘å…¬å¸æŠ€æœ¯ä¸“å®¶ï¼Œåä½™å¹´ Java EE ä»ä¸šç»éªŒï¼Œæ¶æ„å¸ˆã€å¾®æœåŠ¡å¸ƒé“å¸ˆã€‚ç›®å‰ä¸»è¦è´Ÿè´£å¾®æœåŠ¡æŠ€æœ¯å®æ–½ã€æ¶æ„è¡è¿›ã€åŸºç¡€è®¾æ–½æ„å»ºç­‰ã€‚é‡ç‚¹å…³æ³¨äº‘è®¡ç®—ã€å¾®æœåŠ¡ä»¥åŠè½¯ä»¶æ¶æ„ç­‰é¢†åŸŸã€‚é€šè¿‡ SUN Javaï¼ˆSCJPã€SCWCDã€SCBCDï¼‰ä»¥åŠ Oracle OCA ç­‰çš„è®¤è¯ã€‚</p></blockquote><h3 id="è§†é¢‘åˆ—è¡¨"><a href="#è§†é¢‘åˆ—è¡¨" class="headerlink" title="è§†é¢‘åˆ—è¡¨"></a>è§†é¢‘åˆ—è¡¨</h3><p>1ã€<a href="https://segmentfault.com/l/1500000009515571" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆä¸€ï¼‰åˆä½“éªŒ</a></p><p>2ã€<a href="https://segmentfault.com/l/1500000009659111" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆäºŒï¼‰ Webç¯‡ï¼ˆä¸Šï¼‰</a></p><p>3ã€<a href="https://segmentfault.com/l/1500000009767025" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆä¸‰ï¼‰Webç¯‡ï¼ˆä¸­ï¼‰</a></p><p>4ã€<a href="https://segmentfault.com/l/1500000009830944" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆå››ï¼‰Webç¯‡ï¼ˆä¸‹ï¼‰</a></p><p>5ã€<a href="https://segmentfault.com/l/1500000009844304" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆäº”ï¼‰åµŒå…¥å¼Webå®¹å™¨</a></p><p>6ã€<a href="https://segmentfault.com/l/1500000009904190" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆå…­ï¼‰æ•°æ®åº“ JDBC</a></p><p>7ã€<a href="https://segmentfault.com/l/1500000009952220" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆä¸ƒï¼‰MyBatis</a></p><p>8ã€<a href="https://segmentfault.com/l/1500000009952527" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆå…«ï¼‰JPA</a></p><p>9ã€<a href="https://segmentfault.com/l/1500000009957330" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆä¹ï¼‰NoSQL</a></p><p>10ã€<a href="https://segmentfault.com/l/1500000009970812" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåï¼‰ç¼“å­˜</a></p><p>11ã€<a href="https://segmentfault.com/l/1500000009971600" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåä¸€ï¼‰æ¶ˆæ¯</a></p><p>12ã€<a href="https://segmentfault.com/l/1500000009971716" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåäºŒï¼‰éªŒè¯</a></p><p>13ã€<a href="https://segmentfault.com/l/1500000009971764" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåä¸‰ï¼‰WebSocket</a></p><p>14ã€<a href="https://segmentfault.com/l/1500000009978309" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ- Spring Boot ç³»åˆ—ï¼ˆåå››ï¼‰WebService</a></p><p>15ã€<a href="https://segmentfault.com/l/1500000009978481" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåäº”ï¼‰å®‰å…¨</a></p><p>16ã€<a href="https://segmentfault.com/l/1500000009978585" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåå…­ï¼‰æ—¥å¿—</a></p><p>17ã€<a href="https://segmentfault.com/l/1500000009978661" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåä¸ƒï¼‰ç›‘ç®¡</a></p><p>18ã€<a href="https://segmentfault.com/l/1500000009978729" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåå…«ï¼‰é…ç½®</a></p><p>19ã€<a href="https://segmentfault.com/l/1500000009978826" target="_blank" rel="noopener"> Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆåä¹ï¼‰æµ‹è¯•</a></p><p>20ã€<a href="https://segmentfault.com/l/1500000009978904" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—ï¼ˆäºŒåï¼‰è‡ªå®šä¹‰å¯åŠ¨å™¨</a></p><h3 id="è´­ä¹°é“¾æ¥"><a href="#è´­ä¹°é“¾æ¥" class="headerlink" title="è´­ä¹°é“¾æ¥"></a>è´­ä¹°é“¾æ¥</h3><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢é“¾æ¥è´­ä¹°ï¼ˆæœ‰ä¼˜æƒ çš„å“¦ï¼‰</p><p><strong><a href="https://segmentfault.com/ls/1650000011063780?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011063780?r=bPrFW3</a></strong></p><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥æ‰«æä¸‹é¢çš„äºŒç»´ç è´­ä¹°ï¼ˆåŒæ ·ä¹Ÿæœ‰ä¼˜æƒ çš„å“¦ï¼‰</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t6idjt0j308c0augml.jpg" alt="sbè§†é¢‘"></p><h3 id="è¯¾ç¨‹è¯„ä»·"><a href="#è¯¾ç¨‹è¯„ä»·" class="headerlink" title="è¯¾ç¨‹è¯„ä»·"></a>è¯¾ç¨‹è¯„ä»·</h3><blockquote><p>1ã€å°é©¬å“¥è®²çš„å¥½è¯¦ç»†ï¼Œä»¥å‰ä¼¼æ˜¯è€Œéçš„ä¸œä¸œï¼Œç°åœ¨éƒ½æ‡‚äº†<br>2ã€å­¦åˆ°äº†æ€ä¹ˆä½¿ç”¨ï¼Œä¹Ÿå­¦åˆ°äº†æ€ä¹ˆè‡ªå®šä¹‰æ ¡éªŒï¼ŒçŸ¥å…¶ç„¶ä¹ŸçŸ¥å…¶æ‰€ä»¥ç„¶<br>3ã€6666 èµ·é£äº† websocket ä¹‹å‰çœ‹äº†å†™ è¿™æ¬¡æ›´åŠ æ·±å…¥å’Œæ ‡å‡†åŒ– æ„Ÿè°¢å°é©¬å“¥å¸¦æ¥çš„å¹²è´§<br>4ã€æ·±å…¥æµ…å‡ºï¼Œæ€è·¯æ¸…æ™°ã€‚<br>5ã€æ·±å…¥æµ…å‡ºå•Šã€‚éå¸¸å¥½ï¼Œè€Œä¸”å¦‚æœæœ‰é—®é¢˜ï¼Œä¸ç®¡ç®€å•è¿˜æ˜¯éš¾çš„ï¼Œéƒ½ä»ä¸åŒçš„è§’åº¦å’Œå±‚æ¬¡æ¥è§£ç­”äº†ã€‚å­¦åˆ°çš„ä¸œè¥¿éå¸¸å¤šã€‚è°¢è°¢ã€‚</p></blockquote><p>ä»¥ä¸Šè¯„ä»·æ‘˜è‡ª segmentfault</p><h3 id="ç›¸å…³è¯¾ç¨‹"><a href="#ç›¸å…³è¯¾ç¨‹" class="headerlink" title="ç›¸å…³è¯¾ç¨‹"></a>ç›¸å…³è¯¾ç¨‹</h3><p><strong>Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—</strong></p><p>ä¼˜æƒ åœ°å€ï¼š<strong><a href="https://segmentfault.com/ls/1650000011386794?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011386794?r=bPrFW3</a></strong></p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0tc1p3e1j308c0aujsd.jpg" alt="scè§†é¢‘"></p><p>å¦å¤–ï¼šè¿˜æœ‰è¿™ä¸ª <strong>Java å¾®æœåŠ¡å®è·µ - Spring Boot / Spring Cloud</strong>ï¼Œç®—æ˜¯ä¸¤ä¸ªçš„åˆé›†äº†ï¼Œåˆä¹°çš„è¯ä¼˜æƒ æ›´å¤§ã€‚</p><p>ä¼˜æƒ åœ°å€ï¼š<strong><a href="https://segmentfault.com/ls/1650000011387052?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011387052?r=bPrFW3</a></strong></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp0tc1df8vj308c0au75b.jpg" alt="sb-scåˆé›†"></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t1k9vd8j3076076mxo.jpg" alt="C6LG3mGa12"></p><p>å»ºäº†ä¸ªä¸é”™çš„å¾®ä¿¡ç¾¤ï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„å¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼Œç„¶åæ‹‰ä½ è¿›ç¾¤äº¤æµã€‚</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t1jn6s4j30qi0z10x1.jpg" alt="1520091522031"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws3.sinaimg.cn/large/006tNc79gy1fp0ts4i1hfj30id08t3yn.jpg&quot; alt=&quot;timg&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;è§†é¢‘å†…å®¹&quot;&gt;&lt;a href=&quot;#è§†é¢‘å†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;è§†é¢‘å†…å®¹&quot;&gt;&lt;/a&gt;è§†é¢‘å†…å®¹&lt;/h3&gt;&lt;p&gt;Java å¾®æœåŠ¡å®è·µ - Spring Boot ä¸ºç³»åˆ—è®²åº§ï¼ŒäºŒåèŠ‚ä¸“é¢˜ç›´æ’­ï¼Œæ—¶é•¿é«˜è¾¾50ä¸ªå°æ—¶ï¼ŒåŒ…æ‹¬ç›®å‰æœ€æµè¡ŒæŠ€æœ¯ï¼Œæ·±å…¥æºç åˆ†æï¼Œæˆäººä»¥æ¸”çš„æ–¹å¼ï¼Œå¸®åŠ©åˆå­¦è€…æ·±å…¥æµ…å‡ºåœ°æŒæ¡ï¼Œä¸ºé«˜é˜¶ä»ä¸šäººå‘˜æŠ›ç –å¼•ç‰ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
      <category term="å¾®æœåŠ¡" scheme="http://yoursite.com/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>å°é©¬å“¥ ã€ŠJava å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ã€‹å¼ºçƒˆæ¨è</title>
    <link href="http://yoursite.com/2018/03/04/springcloud-vedio/"/>
    <id>http://yoursite.com/2018/03/04/springcloud-vedio/</id>
    <published>2018-03-03T16:00:00.000Z</published>
    <updated>2018-03-06T16:22:50.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fp0tsq2q8vj30dc07idg8.jpg" alt="u=1933229855,2353978820&amp;fm=27&amp;gp=0"></p><h3 id="è§†é¢‘å†…å®¹"><a href="#è§†é¢‘å†…å®¹" class="headerlink" title="è§†é¢‘å†…å®¹"></a>è§†é¢‘å†…å®¹</h3><p>Spring Cloud ç³»åˆ—è¯¾ç¨‹è‡´åŠ›äºä»¥å®æˆ˜çš„æ–¹å¼è¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‰¹æ€§ï¼Œç»“åˆå°é©¬å“¥åä½™å¹´çš„å­¦ä¹ æ–¹æ³•å’Œå·¥ä½œç»éªŒï¼Œä½“ä¼šä½œè€…è®¾è®¡æ„å›¾ã€‚ç»“åˆæºç åŠ æ·±ç†è§£ï¼Œæœ€ç»ˆè¾¾åˆ°å½¢æˆç³»ç»Ÿæ€§çš„çŸ¥è¯†å’ŒæŠ€æœ¯ä½“ç³»çš„ç›®çš„ã€‚</p><a id="more"></a><h3 id="è®²å¸ˆä»‹ç»"><a href="#è®²å¸ˆä»‹ç»" class="headerlink" title="è®²å¸ˆä»‹ç»"></a>è®²å¸ˆä»‹ç»</h3><blockquote><p><strong>å°é©¬å“¥</strong>ï¼Œä¸€çº¿äº’è”ç½‘å…¬å¸æŠ€æœ¯ä¸“å®¶ï¼Œåä½™å¹´ Java EE ä»ä¸šç»éªŒï¼Œæ¶æ„å¸ˆã€å¾®æœåŠ¡å¸ƒé“å¸ˆã€‚ç›®å‰ä¸»è¦è´Ÿè´£å¾®æœåŠ¡æŠ€æœ¯å®æ–½ã€æ¶æ„è¡è¿›ã€åŸºç¡€è®¾æ–½æ„å»ºç­‰ã€‚é‡ç‚¹å…³æ³¨äº‘è®¡ç®—ã€å¾®æœåŠ¡ä»¥åŠè½¯ä»¶æ¶æ„ç­‰é¢†åŸŸã€‚é€šè¿‡ SUN Javaï¼ˆSCJPã€SCWCDã€SCBCDï¼‰ä»¥åŠ Oracle OCA ç­‰çš„è®¤è¯ã€‚</p></blockquote><h3 id="è§†é¢‘åˆ—è¡¨"><a href="#è§†é¢‘åˆ—è¡¨" class="headerlink" title="è§†é¢‘åˆ—è¡¨"></a>è§†é¢‘åˆ—è¡¨</h3><p>1ã€<a href="https://segmentfault.com/l/1500000011384570" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆä¸€ï¼‰äº‘åŸç”Ÿåº”ç”¨</a></p><p>2ã€<a href="https://segmentfault.com/l/1500000011385195" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆäºŒï¼‰é…ç½®å®¢æˆ·ç«¯</a></p><p>3ã€<a href="https://segmentfault.com/l/1500000011385904" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆä¸‰ï¼‰é…ç½®æœåŠ¡å™¨</a></p><p>4ã€<a href="https://segmentfault.com/l/1500000011386051" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆå››ï¼‰æœåŠ¡å‘ç°/æ³¨å†Œ</a></p><p>5ã€<a href="https://segmentfault.com/l/1500000011386082" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆäº”ï¼‰é«˜å¯ç”¨æœåŠ¡æ²»ç†</a></p><p>6ã€<a href="https://segmentfault.com/l/1500000011386110" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆå…­ï¼‰è´Ÿè½½å‡è¡¡</a></p><p>7ã€<a href="https://segmentfault.com/l/1500000011386180" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆä¸ƒï¼‰Ribbon æºç </a></p><p>8ã€<a href="https://segmentfault.com/l/1500000011386237" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆå…«ï¼‰æœåŠ¡çŸ­è·¯</a></p><p>9ã€<a href="https://segmentfault.com/l/1500000011386273" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆä¹ï¼‰Hystrixæºç </a></p><p>10ã€<a href="https://segmentfault.com/l/1500000011386274" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåï¼‰æœåŠ¡è°ƒç”¨</a></p><p>11ã€<a href="https://segmentfault.com/l/1500000011386451" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåä¸€ï¼‰æœåŠ¡ç½‘å…³</a></p><p>12ã€<a href="https://segmentfault.com/l/1500000011386642" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåäºŒï¼‰æ¶ˆæ¯é©±åŠ¨æ•´åˆ</a></p><p>13ã€<a href="https://segmentfault.com/l/1500000011386655" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåä¸‰ï¼‰Binderå®ç°</a></p><p>14ã€<a href="https://segmentfault.com/l/1500000011386685" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåå››ï¼‰æ¶ˆæ¯æ€»çº¿</a></p><p>15ã€<a href="https://segmentfault.com/l/1500000011386721" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåäº”ï¼‰åˆ†å¸ƒå¼åº”ç”¨è·Ÿè¸ª</a></p><p>16ã€<a href="https://segmentfault.com/l/1500000011386751" target="_blank" rel="noopener">Java å¾®æœåŠ¡å®è·µ - Spring Cloud ç³»åˆ—ï¼ˆåå…­ï¼‰ç³»åˆ—å›é¡¾</a></p><h3 id="è´­ä¹°é“¾æ¥"><a href="#è´­ä¹°é“¾æ¥" class="headerlink" title="è´­ä¹°é“¾æ¥"></a>è´­ä¹°é“¾æ¥</h3><p>ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢é“¾æ¥è´­ä¹°ï¼ˆæœ‰ä¼˜æƒ çš„å“¦ï¼‰</p><p><strong><a href="https://segmentfault.com/ls/1650000011386794?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011386794?r=bPrFW3</a></strong></p><p>æˆ–è€…ä½ ä¹Ÿå¯ä»¥æ‰«æä¸‹é¢çš„äºŒç»´ç è´­ä¹°ï¼ˆåŒæ ·ä¹Ÿæœ‰ä¼˜æƒ çš„å“¦ï¼‰</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fp0td2936xj308c0aujsd.jpg" alt="scè§†é¢‘"></p><h3 id="è¯¾ç¨‹è¯„ä»·"><a href="#è¯¾ç¨‹è¯„ä»·" class="headerlink" title="è¯¾ç¨‹è¯„ä»·"></a>è¯¾ç¨‹è¯„ä»·</h3><blockquote><p>1ã€å°é©¬å“¥è®²çš„å¾ˆå¥½ï¼Œå®è·µå’ŒåŸç†ä¸€èµ·ç»“åˆè®²ï¼Œç†è§£çš„å¾ˆæ·±åˆ»ã€‚<br>æœŸå¾…å°é©¬å“¥çš„ä¸‹ä¸€ä¸ªé«˜å¹¶å‘çš„ç³»åˆ—è®²åº§ï¼Œè¿˜æœ‰é‚£æœ¬ä¸‡ä¼—ç©ç›®çš„æ–°ä¹¦<br>2ã€<br>è¿™äº›ç³»åˆ—è¯¾ç¨‹æ€ä¹ˆè¯´å‘¢ï¼Œå°±æˆ‘æ¥è¯´å…¶å®å­¦çš„ä¸æ˜¯çŸ¥è¯†ï¼Œæ˜¯å­¦ä¹ æ–¹æ³•ã€‚å°é©¬å“¥å‰å®³çš„ï¼Œç»™ä¸ªèµã€‚<br>3ã€æ»¡æ»¡çš„èµï¼Œç¤¾ä¼šå¥—è·¯å¤ªå¤šï¼Œé¡»åŠ å¼ºå­¦ä¹ ï¼ŒæœŸå¾…ä¸‹æœŸä¸å°é©¬å“¥ç›¸é€¢<br>4ã€åŸºæœ¬æ˜¯éƒ½æ˜¯å®ˆè€…ç›´æ’­æ—¶é—´ï¼Œè·Ÿç€ Spring Boot ç³»åˆ—å’Œ Spring Cloud ç³»åˆ—çš„è¯¾ç¨‹ï¼Œå°é©¬å“¥è®²å¾—å¾ˆæœ‰å¯å‘æ€§ã€‚è®²ä¸€ç§æŠ€æœ¯çš„ä»å“ªé‡Œæ¥ï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠä¼˜ç¼ºç‚¹ã€‚è®²æºç åˆä¸ä»…é™åˆ¶äºæºç ã€‚æ€»çš„æ¥è¯´å€¼å¾—èŠ±æ—¶é—´æ¥å­¦ä¹ å’Œè®¨è®ºçš„ã€‚å€¼å¾—æ¨èï¼Œäº”æ˜Ÿå¥½è¯„ã€‚<br>5ã€å¯ä»¥çš„ï¼Œè§£ç­”é—®é¢˜å¾ˆè€å¿ƒã€‚ä»ä½ è¿™å­¦åˆ°äº†æµè§ˆJSRç­‰ä¹‹ç±»çš„è§„èŒƒï¼Œåœ¨ç”¨ä¸€äº›æ¡†æ¶çš„æ—¶å€™å‘ç°å›½å¤–çš„ï¼Œå¾ˆå¤šéƒ½å®ç°äº†JSRï¼Œæ¯”å¦‚spring batchï¼Œè€Œå›½å†…çš„è¯ï¼Œä¸ªäººè§‰å¾—è¿™æ–¹é¢ç¨å¾®å·®äº†ç‚¹ï¼Œè¿™æ–¹é¢æˆ‘ä»¬è¿˜è¦åŠªåŠ›ï¼ŒåŠ æ²¹ï¼</p></blockquote><p>ä»¥ä¸Šè¯„ä»·æ‘˜è‡ª segmentfault</p><h3 id="ç›¸å…³è¯¾ç¨‹"><a href="#ç›¸å…³è¯¾ç¨‹" class="headerlink" title="ç›¸å…³è¯¾ç¨‹"></a>ç›¸å…³è¯¾ç¨‹</h3><p><strong>Java å¾®æœåŠ¡å®è·µ - Spring Boot ç³»åˆ—</strong></p><p>ä¼˜æƒ åœ°å€ï¼š<strong><a href="https://segmentfault.com/ls/1650000011063780?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011063780?r=bPrFW3</a></strong></p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0td375okj308c0augml.jpg" alt="sbè§†é¢‘"></p><p>å¦å¤–ï¼šè¿˜æœ‰è¿™ä¸ª <strong>Java å¾®æœåŠ¡å®è·µ - Spring Boot / Spring Cloud</strong>ï¼Œç®—æ˜¯ä¸¤ä¸ªçš„åˆé›†äº†ï¼Œåˆä¹°çš„è¯ä¼˜æƒ æ›´å¤§ã€‚</p><p>ä¼˜æƒ åœ°å€ï¼š<strong><a href="https://segmentfault.com/ls/1650000011387052?r=bPrFW3" target="_blank" rel="noopener">https://segmentfault.com/ls/1650000011387052?r=bPrFW3</a></strong></p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fp0td1fomnj308c0au75b.jpg" alt="sb-scåˆé›†"></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t1k9vd8j3076076mxo.jpg" alt="C6LG3mGa12"></p><p>å»ºäº†ä¸ªä¸é”™çš„å¾®ä¿¡ç¾¤ï¼Œå¦‚æœæœ‰æ„Ÿå…´è¶£çš„å¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼Œç„¶åæ‹‰ä½ è¿›ç¾¤äº¤æµã€‚</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fp0t1jn6s4j30qi0z10x1.jpg" alt="1520091522031"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws4.sinaimg.cn/large/006tNc79gy1fp0tsq2q8vj30dc07idg8.jpg&quot; alt=&quot;u=1933229855,2353978820&amp;amp;fm=27&amp;amp;gp=0&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;è§†é¢‘å†…å®¹&quot;&gt;&lt;a href=&quot;#è§†é¢‘å†…å®¹&quot; class=&quot;headerlink&quot; title=&quot;è§†é¢‘å†…å®¹&quot;&gt;&lt;/a&gt;è§†é¢‘å†…å®¹&lt;/h3&gt;&lt;p&gt;Spring Cloud ç³»åˆ—è¯¾ç¨‹è‡´åŠ›äºä»¥å®æˆ˜çš„æ–¹å¼è¦†ç›–æ‰€æœ‰åŠŸèƒ½ç‰¹æ€§ï¼Œç»“åˆå°é©¬å“¥åä½™å¹´çš„å­¦ä¹ æ–¹æ³•å’Œå·¥ä½œç»éªŒï¼Œä½“ä¼šä½œè€…è®¾è®¡æ„å›¾ã€‚ç»“åˆæºç åŠ æ·±ç†è§£ï¼Œæœ€ç»ˆè¾¾åˆ°å½¢æˆç³»ç»Ÿæ€§çš„çŸ¥è¯†å’ŒæŠ€æœ¯ä½“ç³»çš„ç›®çš„ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="å¾®æœåŠ¡" scheme="http://yoursite.com/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="SpringCloud" scheme="http://yoursite.com/tags/SpringCloud/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šæ·±å…¥ç†è§£ Java å†…å­˜æ¨¡å‹ã€‹è¯»ä¹¦ç¬”è®°</title>
    <link href="http://yoursite.com/2018/02/28/Java-Memory-Model/"/>
    <id>http://yoursite.com/2018/02/28/Java-Memory-Model/</id>
    <published>2018-02-27T16:00:00.000Z</published>
    <updated>2018-03-06T16:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7l5mj64j31hc0zbh9n.jpg" alt="fairyland-canyon-1632749_1920"></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>ã€Šæ·±å…¥ç†è§£ Java å†…å­˜æ¨¡å‹ã€‹ç¨‹æ™“æ˜è‘—ï¼Œè¯¥ä¹¦åœ¨ä»¥å‰çœ‹è¿‡ä¸€éï¼Œç°åœ¨å­¦çš„ä¸œè¥¿è¶Šå¤šï¼Œæ„Ÿè§‰é‚£å—è¶Šé‡è¦ï¼Œäºæ˜¯åˆå†ç»†çœ‹ä¸€éï¼Œäºæ˜¯ä¾¿æœ‰äº†ä¸‹é¢çš„è¯»ä¹¦ç¬”è®°æ€»ç»“ã€‚å…¨ä¹¦é¡µæ•°è™½ä¸å¤šï¼Œå†…å®¹è®²å¾—æŒºæ·±çš„ã€‚ç»†çœ‹çš„è¯ï¼Œä¹Ÿæ˜¯æŒºèŠ±æ—¶é—´çš„ï¼Œçœ‹å®Œæ”¶è·ç»å¯¹æŒºå¤§çš„ã€‚ä¹Ÿå»ºè®® Java å¼€å‘è€…éƒ½å»çœ‹çœ‹ã€‚é‡Œé¢ä¸»è¦æœ‰ Java å†…å­˜æ¨¡å‹çš„åŸºç¡€ã€é‡æ’åºã€é¡ºåºä¸€è‡´æ€§ã€Volatile å…³é”®å­—ã€é”ã€finalã€‚æœ¬æ–‡å‚è€ƒä¹¦ä¸­å†…å®¹ã€‚</p><a id="more"></a><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p>å¦‚æœä½ æƒ³æŸ¥çœ‹è¿™æœ¬ä¹¦å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·: <strong>zhisheng</strong> ï¼Œç„¶åé‡Œé¢å›å¤å…³é”®å­— <strong>JMM</strong> å¯ä»¥æŸ¥çœ‹æˆ‘åˆ†äº«çš„ç™¾åº¦äº‘é“¾æ¥ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/02/28/Java-Memory-Model/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/28/Java-Memory-Model/</a></p><h3 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h3><h4 id="å¹¶å‘ç¼–ç¨‹çš„æ¨¡å‹åˆ†ç±»"><a href="#å¹¶å‘ç¼–ç¨‹çš„æ¨¡å‹åˆ†ç±»" class="headerlink" title="å¹¶å‘ç¼–ç¨‹çš„æ¨¡å‹åˆ†ç±»"></a>å¹¶å‘ç¼–ç¨‹çš„æ¨¡å‹åˆ†ç±»</h4><p>åœ¨å¹¶å‘ç¼–ç¨‹éœ€è¦å¤„ç†çš„ä¸¤ä¸ªå…³é”®é—®é¢˜æ˜¯ï¼š<strong>çº¿ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡</strong> å’Œ <strong>çº¿ç¨‹ä¹‹é—´å¦‚ä½•åŒæ­¥</strong>ã€‚</p><h5 id="é€šä¿¡"><a href="#é€šä¿¡" class="headerlink" title="é€šä¿¡"></a>é€šä¿¡</h5><p><strong>é€šä¿¡</strong> æ˜¯æŒ‡çº¿ç¨‹ä¹‹é—´ä»¥ä½•ç§æœºåˆ¶æ¥äº¤æ¢ä¿¡æ¯ã€‚åœ¨å‘½ä»¤å¼ç¼–ç¨‹ä¸­ï¼Œçº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æœºåˆ¶æœ‰ä¸¤ç§ï¼š<strong>å…±äº«å†…å­˜</strong> å’Œ <strong>æ¶ˆæ¯ä¼ é€’</strong>ã€‚</p><p>åœ¨<strong>å…±äº«å†…å­˜</strong>çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´é€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„<strong>å…¬å…±çŠ¶æ€</strong>æ¥<strong>éšå¼</strong>è¿›è¡Œé€šä¿¡ã€‚</p><p>åœ¨<strong>æ¶ˆæ¯ä¼ é€’</strong>çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œçº¿ç¨‹ä¹‹é—´æ²¡æœ‰å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡æ˜ç¡®çš„<strong>å‘é€æ¶ˆæ¯</strong>æ¥<strong>æ˜¾å¼</strong>è¿›è¡Œé€šä¿¡ã€‚</p><h5 id="åŒæ­¥"><a href="#åŒæ­¥" class="headerlink" title="åŒæ­¥"></a>åŒæ­¥</h5><p><strong>åŒæ­¥</strong> æ˜¯æŒ‡ç¨‹åºç”¨äºæ§åˆ¶ä¸åŒçº¿ç¨‹ä¹‹é—´æ“ä½œå‘ç”Ÿç›¸å¯¹é¡ºåºçš„æœºåˆ¶ã€‚</p><p>åœ¨<strong>å…±äº«å†…å­˜</strong>çš„å¹¶å‘æ¨¡å‹é‡Œï¼ŒåŒæ­¥æ˜¯<strong>æ˜¾å¼</strong>è¿›è¡Œçš„ã€‚ç¨‹åºå‘˜å¿…é¡»æ˜¾å¼æŒ‡å®šæŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç éœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´<strong>äº’æ–¥æ‰§è¡Œ</strong>ã€‚</p><p>åœ¨<strong>æ¶ˆæ¯ä¼ é€’</strong>çš„å¹¶å‘æ¨¡å‹é‡Œï¼Œç”±äºæ¶ˆæ¯çš„å‘é€å¿…é¡»åœ¨æ¶ˆæ¯çš„æ¥æ”¶ä¹‹å‰ï¼Œå› æ­¤åŒæ­¥æ˜¯<strong>éšå¼</strong>è¿›è¡Œçš„ã€‚</p><p>Java çš„å¹¶å‘é‡‡ç”¨çš„æ˜¯å…±äº«å†…å­˜æ¨¡å‹ï¼ŒJava çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æ€»æ˜¯éšå¼è¿›è¡Œï¼Œæ•´ä¸ªé€šä¿¡è¿‡ç¨‹å¯¹ç¨‹åºå‘˜å®Œå…¨é€æ˜ã€‚</p><h4 id="Java-å†…å­˜æ¨¡å‹çš„æŠ½è±¡"><a href="#Java-å†…å­˜æ¨¡å‹çš„æŠ½è±¡" class="headerlink" title="Java å†…å­˜æ¨¡å‹çš„æŠ½è±¡"></a>Java å†…å­˜æ¨¡å‹çš„æŠ½è±¡</h4><p>åœ¨ Java ä¸­ï¼Œæ‰€æœ‰å®ä¾‹åŸŸã€é™æ€åŸŸ å’Œ æ•°ç»„å…ƒç´ å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå †å†…å­˜åœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ã€‚å±€éƒ¨å˜é‡ã€æ–¹æ³•å®šä¹‰å‚æ•° å’Œ å¼‚å¸¸å¤„ç†å™¨å‚æ•° ä¸ä¼šåœ¨çº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œå®ƒä»¬ä¸ä¼šæœ‰å†…å­˜å¯è§æ€§é—®é¢˜ï¼Œä¹Ÿä¸å—å†…å­˜æ¨¡å‹çš„å½±å“ã€‚</p><p>Java çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ç”± Java å†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰æ§åˆ¶ã€‚JMM å†³å®šäº†ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„å†™å…¥ä½•æ—¶å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§ã€‚ä»æŠ½è±¡çš„è§’åº¦æ¥çœ‹ï¼ŒJMM å®šä¹‰äº†çº¿ç¨‹ä¸ä¸»å†…å­˜ä¹‹é—´çš„æŠ½è±¡å…³ç³»ï¼šçº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±ç§æœ‰çš„æœ¬åœ°å†…å­˜ï¼Œæœ¬åœ°å†…å­˜ä¸­å­˜å‚¨äº†è¯¥å˜é‡ä»¥è¯»ï¼å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚æœ¬åœ°å†…å­˜æ˜¯ JMM çš„ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ã€‚</p><p>JMM æŠ½è±¡ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7l9q3hsj30zi0rq41t.jpg" alt="jmm"></p><p>ä»ä¸Šå›¾æ¥çœ‹ï¼Œå¦‚æœçº¿ç¨‹ A å’Œçº¿ç¨‹ B è¦é€šä¿¡çš„è¯ï¼Œè¦å¦‚ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p><p>1ã€çº¿ç¨‹ A éœ€è¦å°†æœ¬åœ°å†…å­˜ A ä¸­çš„å…±äº«å˜é‡å‰¯æœ¬åˆ·æ–°åˆ°ä¸»å†…å­˜å»</p><p>2ã€çº¿ç¨‹ B å»ä¸»å†…å­˜è¯»å–çº¿ç¨‹ A ä¹‹å‰å·²æ›´æ–°è¿‡çš„å…±äº«å˜é‡</p><p>æ­¥éª¤ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7lh7qm2j30wo0ocq58.jpg" alt="tongxin"></p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>æœ¬åœ°å†…å­˜ A å’Œ B æœ‰ä¸»å†…å­˜å…±äº«å˜é‡ X çš„å‰¯æœ¬ã€‚å‡è®¾ä¸€å¼€å§‹æ—¶ï¼Œè¿™ä¸‰ä¸ªå†…å­˜ä¸­ X çš„å€¼éƒ½æ˜¯ 0ã€‚çº¿ç¨‹ A æ­£æ‰§è¡Œæ—¶ï¼ŒæŠŠæ›´æ–°åçš„ X å€¼ï¼ˆå‡è®¾ä¸º 1ï¼‰ä¸´æ—¶å­˜æ”¾åœ¨è‡ªå·±çš„æœ¬åœ°å†…å­˜ A ä¸­ã€‚å½“çº¿ç¨‹ A å’Œ B éœ€è¦é€šä¿¡æ—¶ï¼Œçº¿ç¨‹ A é¦–å…ˆä¼šæŠŠè‡ªå·±æœ¬åœ°å†…å­˜ A ä¸­ä¿®æ”¹åçš„ X å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜å»ï¼Œæ­¤æ—¶ä¸»å†…å­˜ä¸­çš„ X å€¼å˜ä¸ºäº† 1ã€‚éšåï¼Œçº¿ç¨‹ B åˆ°ä¸»å†…å­˜ä¸­è¯»å–çº¿ç¨‹ A æ›´æ–°åçš„å…±äº«å˜é‡ X çš„å€¼ï¼Œæ­¤æ—¶çº¿ç¨‹ B çš„æœ¬åœ°å†…å­˜çš„ X å€¼ä¹Ÿå˜æˆäº† 1ã€‚</p><p>æ•´ä½“æ¥çœ‹ï¼Œè¿™ä¸¤ä¸ªæ­¥éª¤å®è´¨ä¸Šæ˜¯çº¿ç¨‹ A å†å‘çº¿ç¨‹ B å‘é€æ¶ˆæ¯ï¼Œè€Œè¿™ä¸ªé€šä¿¡è¿‡ç¨‹å¿…é¡»ç»è¿‡ä¸»å†…å­˜ã€‚JMM é€šè¿‡æ§åˆ¶ä¸»å†…å­˜ä¸æ¯ä¸ªçº¿ç¨‹çš„æœ¬åœ°å†…å­˜ä¹‹é—´çš„äº¤äº’ï¼Œæ¥ä¸º Java ç¨‹åºå‘˜æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚</p><h3 id="é‡æ’åº"><a href="#é‡æ’åº" class="headerlink" title="é‡æ’åº"></a>é‡æ’åº</h3><p>åœ¨æ‰§è¡Œç¨‹åºæ—¶ä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚é‡æ’åºåˆ†ä¸‰ç±»ï¼š</p><p>1ã€<strong>ç¼–è¯‘å™¨ä¼˜åŒ–çš„é‡æ’åº</strong>ã€‚ç¼–è¯‘å™¨åœ¨ä¸æ”¹å˜å•çº¿ç¨‹ç¨‹åºè¯­ä¹‰çš„å‰æä¸‹ï¼Œå¯ä»¥é‡æ–°å®‰æ’è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚</p><p>2ã€<strong>æŒ‡ä»¤çº§å¹¶è¡Œçš„é‡æ’åº</strong>ã€‚ç°ä»£å¤„ç†å™¨é‡‡ç”¨äº†æŒ‡ä»¤çº§å¹¶è¡ŒæŠ€æœ¯æ¥å°†å¤šæ¡æŒ‡ä»¤é‡å æ‰§è¡Œã€‚å¦‚æœä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§ï¼Œå¤„ç†å™¨å¯ä»¥æ”¹å˜è¯­å¥å¯¹åº”æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚</p><p>3ã€<strong>å†…å­˜ç³»ç»Ÿçš„é‡æ’åº</strong>ã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»ï¼å†™ç¼“å†²åŒºï¼Œè¿™ä½¿å¾—åŠ è½½å’Œå­˜å‚¨æ“ä½œçœ‹ä¸Šå»å¯èƒ½æ˜¯åœ¨ä¹±åºæ‰§è¡Œã€‚</p><p>ä» Java æºä»£ç åˆ°æœ€ç»ˆå®é™…æ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—ï¼Œä¼šåˆ†åˆ«ç»å†ä¸‹é¢ä¸‰ç§é‡æ’åºï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7l4iv44j313e07wmyw.jpg" alt="sort-again"></p><p>ä¸Šé¢çš„è¿™äº›é‡æ’åºéƒ½å¯èƒ½å¯¼è‡´å¤šçº¿ç¨‹ç¨‹åºå‡ºç°å†…å­˜å¯è§æ€§é—®é¢˜ã€‚å¯¹äºç¼–è¯‘å™¨ï¼ŒJMM çš„ç¼–è¯‘å™¨é‡æ’åºè§„åˆ™ä¼šç¦æ­¢ç‰¹å®šç±»å‹çš„ç¼–è¯‘å™¨é‡æ’åºï¼ˆä¸æ˜¯æ‰€æœ‰çš„ç¼–è¯‘å™¨é‡æ’åºéƒ½è¦ç¦æ­¢ï¼‰ã€‚å¯¹äºå¤„ç†å™¨é‡æ’åºï¼ŒJMM çš„å¤„ç†å™¨é‡æ’åºè§„åˆ™ä¼šè¦æ±‚ Java ç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—æ—¶ï¼Œæ’å…¥ç‰¹å®šç±»å‹çš„å†…å­˜å±éšœæŒ‡ä»¤ï¼Œé€šè¿‡å†…å­˜å±éšœæŒ‡ä»¤æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºï¼ˆä¸æ˜¯æ‰€æœ‰çš„å¤„ç†å™¨é‡æ’åºéƒ½è¦ç¦æ­¢ï¼‰ã€‚</p><p>JMM å±äºè¯­è¨€çº§çš„å†…å­˜æ¨¡å‹ï¼Œå®ƒç¡®ä¿åœ¨ä¸åŒçš„ç¼–è¯‘å™¨å’Œä¸åŒçš„å¤„ç†å™¨å¹³å°ä¹‹ä¸Šï¼Œé€šè¿‡ç¦æ­¢ç‰¹å®šç±»å‹çš„ç¼–è¯‘å™¨é‡æ’åºå’Œå¤„ç†å™¨é‡æ’åºï¼Œä¸ºç¨‹åºå‘˜æä¾›ä¸€è‡´çš„å†…å­˜å¯è§æ€§ä¿è¯ã€‚</p><h4 id="å¤„ç†å™¨é‡æ’åº"><a href="#å¤„ç†å™¨é‡æ’åº" class="headerlink" title="å¤„ç†å™¨é‡æ’åº"></a>å¤„ç†å™¨é‡æ’åº</h4><p>ç°ä»£çš„å¤„ç†å™¨ä½¿ç”¨<strong>å†™ç¼“å†²åŒº</strong>æ¥ä¸´æ—¶ä¿å­˜å‘å†…å­˜å†™å…¥çš„æ•°æ®ã€‚å†™ç¼“å†²åŒºå¯ä»¥ä¿è¯æŒ‡ä»¤æµæ°´çº¿æŒç»­è¿è¡Œï¼Œå®ƒå¯ä»¥é¿å…ç”±äºå¤„ç†å™¨åœé¡¿ä¸‹æ¥ç­‰å¾…å‘å†…å­˜å†™å…¥æ•°æ®è€Œäº§ç”Ÿçš„å»¶è¿Ÿã€‚åŒæ—¶ï¼Œé€šè¿‡ä»¥æ‰¹å¤„ç†çš„æ–¹å¼åˆ·æ–°å†™ç¼“å†²åŒºï¼Œä»¥åŠåˆå¹¶å†™ç¼“å†²åŒºä¸­å¯¹åŒä¸€å†…å­˜åœ°å€çš„å¤šæ¬¡å†™ï¼Œå¯ä»¥å‡å°‘å¯¹å†…å­˜æ€»çº¿çš„å ç”¨ã€‚è™½ç„¶å†™ç¼“å†²åŒºæœ‰è¿™ä¹ˆå¤šå¥½å¤„ï¼Œä½†æ¯ä¸ªå¤„ç†å™¨ä¸Šçš„å†™ç¼“å†²åŒºï¼Œä»…ä»…å¯¹å®ƒæ‰€åœ¨çš„å¤„ç†å™¨å¯è§ã€‚è¿™ä¸ªç‰¹æ€§ä¼šå¯¹å†…å­˜æ“ä½œçš„æ‰§è¡Œé¡ºåºäº§ç”Ÿé‡è¦çš„å½±å“ï¼šå¤„ç†å™¨å¯¹å†…å­˜çš„è¯»/å†™æ“ä½œçš„æ‰§è¡Œé¡ºåºï¼Œä¸ä¸€å®šä¸å†…å­˜å®é™…å‘ç”Ÿçš„è¯»/å†™æ“ä½œé¡ºåºä¸€è‡´ï¼</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7l6udu0j30uc0c8zls.jpg" alt="example1"></p><p>å‡è®¾å¤„ç†å™¨Aå’Œå¤„ç†å™¨BæŒ‰ç¨‹åºçš„é¡ºåºå¹¶è¡Œæ‰§è¡Œå†…å­˜è®¿é—®ï¼Œæœ€ç»ˆå´å¯èƒ½å¾—åˆ° x = y = 0ã€‚å…·ä½“çš„åŸå› å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7lftsaxj30wg0mcwgz.jpg" alt="exam1-ans"></p><p>å¤„ç†å™¨ A å’Œ B åŒæ—¶æŠŠå…±äº«å˜é‡å†™å…¥åœ¨å†™ç¼“å†²åŒºä¸­ï¼ˆA1ã€B1ï¼‰ï¼Œç„¶åå†ä»å†…å­˜ä¸­è¯»å–å¦ä¸€ä¸ªå…±äº«å˜é‡ï¼ˆA2ã€B2ï¼‰ï¼Œæœ€åæ‰æŠŠè‡ªå·±å†™ç¼“å†²åŒºä¸­ä¿å­˜çš„è„æ•°æ®åˆ·æ–°åˆ°å†…å­˜ä¸­ï¼ˆA3ã€B3ï¼‰ã€‚å½“ä»¥è¿™ç§æ—¶åºæ‰§è¡Œæ—¶ï¼Œç¨‹åºå°±å¯ä»¥å¾—åˆ° x = y = 0 çš„ç»“æœã€‚</p><p>ä»å†…å­˜æ“ä½œå®é™…å‘ç”Ÿçš„é¡ºåºæ¥çœ‹ï¼Œç›´åˆ°å¤„ç†å™¨ A æ‰§è¡Œ A3 æ¥åˆ·æ–°è‡ªå·±çš„å†™ç¼“å­˜åŒºï¼Œå†™æ“ä½œ A1 æ‰ç®—çœŸæ­£æ‰§è¡Œäº†ã€‚è™½ç„¶å¤„ç†å™¨ A æ‰§è¡Œå†…å­˜æ“ä½œçš„é¡ºåºä¸ºï¼šA1 -&gt; A2ï¼Œä½†å†…å­˜æ“ä½œå®é™…å‘ç”Ÿçš„é¡ºåºå´æ˜¯ï¼šA2 -&gt; A1ã€‚æ­¤æ—¶ï¼Œå¤„ç†å™¨ A çš„å†…å­˜æ“ä½œé¡ºåºè¢«é‡æ’åºäº†ã€‚</p><p>è¿™é‡Œçš„å…³é”®æ˜¯ï¼Œç”±äº<strong>å†™ç¼“å†²åŒºä»…å¯¹è‡ªå·±çš„å¤„ç†å™¨å¯è§ï¼Œå®ƒä¼šå¯¼è‡´å¤„ç†å™¨æ‰§è¡Œå†…å­˜æ“ä½œçš„é¡ºåºå¯èƒ½ä¼šä¸å†…å­˜å®é™…çš„æ“ä½œæ‰§è¡Œé¡ºåºä¸ä¸€è‡´</strong>ã€‚ç”±äºç°ä»£çš„å¤„ç†å™¨éƒ½ä¼šä½¿ç”¨å†™ç¼“å†²åŒºï¼Œå› æ­¤ç°ä»£çš„å¤„ç†å™¨éƒ½ä¼šå…è®¸å¯¹å†™-è¯»æ“ä½œé‡æ’åºã€‚</p><h4 id="å†…å­˜å±éšœæŒ‡ä»¤"><a href="#å†…å­˜å±éšœæŒ‡ä»¤" class="headerlink" title="å†…å­˜å±éšœæŒ‡ä»¤"></a>å†…å­˜å±éšœæŒ‡ä»¤</h4><p>ä¸ºäº†ä¿è¯å†…å­˜å¯è§æ€§ï¼ŒJava ç¼–è¯‘å™¨åœ¨ç”ŸæˆæŒ‡ä»¤åºåˆ—çš„é€‚å½“ä½ç½®ä¼šæ’å…¥<strong>å†…å­˜å±éšœæŒ‡ä»¤</strong>æ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚JMM æŠŠå†…å­˜å±éšœæŒ‡ä»¤åˆ†ä¸ºä¸‹åˆ—å››ç±»ï¼š</p><table><thead><tr><th>å±éšœç±»å‹</th><th style="text-align:center">æŒ‡ä»¤ç¤ºä¾‹</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td>LoadLoad Barriers</td><td style="text-align:center">Load1; LoadLoad; Load2</td><td style="text-align:center">ç¡®ä¿ Load1 æ•°æ®çš„è£…è½½ï¼Œä¹‹å‰äº Load2 åŠæ‰€æœ‰åç»­è£…è½½æŒ‡ä»¤çš„è£…è½½ã€‚</td></tr><tr><td>StoreStore Barriers</td><td style="text-align:center">Store1; StoreStore; Store2</td><td style="text-align:center">ç¡®ä¿ Store1 æ•°æ®å¯¹å…¶ä»–å¤„ç†å™¨å¯è§ï¼ˆåˆ·æ–°åˆ°å†…å­˜ï¼‰ï¼Œä¹‹å‰äº Store2 åŠæ‰€æœ‰åç»­å­˜å‚¨æŒ‡ä»¤çš„å­˜å‚¨ã€‚</td></tr><tr><td>LoadStore Barriers</td><td style="text-align:center">Load1; LoadStore; Store2</td><td style="text-align:center">ç¡®ä¿ Load1 æ•°æ®è£…è½½ï¼Œä¹‹å‰äº Store2 åŠæ‰€æœ‰åç»­çš„å­˜å‚¨æŒ‡ä»¤åˆ·æ–°åˆ°å†…å­˜ã€‚</td></tr><tr><td>StoreLoad Barriers</td><td style="text-align:center">Store1; StoreLoad; Load2</td><td style="text-align:center">ç¡®ä¿ Store1 æ•°æ®å¯¹å…¶ä»–å¤„ç†å™¨å˜å¾—å¯è§ï¼ˆæŒ‡åˆ·æ–°åˆ°å†…å­˜ï¼‰ï¼Œä¹‹å‰äº Load2 åŠæ‰€æœ‰åç»­è£…è½½æŒ‡ä»¤çš„è£…è½½ã€‚<strong>StoreLoadBarriers ä¼šä½¿è¯¥å±éšœä¹‹å‰çš„æ‰€æœ‰å†…å­˜è®¿é—®æŒ‡ä»¤ï¼ˆå­˜å‚¨å’Œè£…è½½æŒ‡ä»¤ï¼‰å®Œæˆä¹‹åï¼Œæ‰æ‰§è¡Œè¯¥å±éšœä¹‹åçš„å†…å­˜è®¿é—®æŒ‡ä»¤</strong>ã€‚</td></tr></tbody></table><h4 id="happens-before"><a href="#happens-before" class="headerlink" title="happens-before"></a>happens-before</h4><p>JSR-133 å†…å­˜æ¨¡å‹ä½¿ç”¨ happens-before çš„æ¦‚å¿µæ¥é˜è¿°æ“ä½œä¹‹é—´çš„å†…å­˜å¯è§æ€§ã€‚åœ¨ JMM ä¸­ï¼Œå¦‚æœ<strong>ä¸€ä¸ªæ“ä½œæ‰§è¡Œçš„ç»“æœéœ€è¦å¯¹å¦ä¸€ä¸ªæ“ä½œå¯è§</strong>ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´å¿…é¡»è¦å­˜åœ¨ happens-before å…³ç³»ã€‚è¿™é‡Œæåˆ°çš„ä¸¤ä¸ªæ“ä½œæ—¢å¯ä»¥æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¹‹å†…ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨ä¸åŒçº¿ç¨‹ä¹‹é—´ã€‚</p><p>ä¸ç¨‹åºå‘˜å¯†åˆ‡ç›¸å…³çš„ happens-before è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li>ç¨‹åºé¡ºåºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ¯ä¸ªæ“ä½œï¼Œhappens-before äºè¯¥çº¿ç¨‹ä¸­çš„ä»»æ„åç»­æ“ä½œã€‚</li><li>ç›‘è§†å™¨é”è§„åˆ™ï¼šå¯¹ä¸€ä¸ªç›‘è§†å™¨çš„è§£é”ï¼Œhappens-before äºéšåå¯¹è¿™ä¸ªç›‘è§†å™¨çš„åŠ é”ã€‚</li><li>volatile å˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ª volatile åŸŸçš„å†™ï¼Œhappens-before äºä»»æ„åç»­å¯¹è¿™ä¸ª volatile åŸŸçš„è¯»ã€‚</li><li>ä¼ é€’æ€§ï¼šå¦‚æœ  A happens-before Bï¼Œä¸” B happens-before Cï¼Œé‚£ä¹ˆ A happens-before Cã€‚</li></ul><p>æ³¨æ„ï¼Œä¸¤ä¸ªæ“ä½œä¹‹é—´å…·æœ‰ happens-before å…³ç³»ï¼Œå¹¶ä¸æ„å‘³ç€å‰ä¸€ä¸ªæ“ä½œå¿…é¡»è¦åœ¨åä¸€ä¸ªæ“ä½œä¹‹å‰æ‰§è¡Œï¼happens-before ä»…ä»…è¦æ±‚å‰ä¸€ä¸ªæ“ä½œï¼ˆæ‰§è¡Œçš„ç»“æœï¼‰å¯¹åä¸€ä¸ªæ“ä½œå¯è§ï¼Œä¸”å‰ä¸€ä¸ªæ“ä½œæŒ‰é¡ºåºæ’åœ¨ç¬¬äºŒä¸ªæ“ä½œä¹‹å‰ï¼ˆthe first is visible to and ordered before the secondï¼‰ã€‚</p><p>happens-before ä¸ JMM çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7l7e9zij312s0titdo.jpg" alt="happens-before-jmm"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ª happens-before è§„åˆ™å¯¹åº”äºä¸€ä¸ªæˆ–å¤šä¸ªç¼–è¯‘å™¨å’Œå¤„ç†å™¨é‡æ’åºè§„åˆ™ã€‚</p><h4 id="æ•°æ®ä¾èµ–æ€§"><a href="#æ•°æ®ä¾èµ–æ€§" class="headerlink" title="æ•°æ®ä¾èµ–æ€§"></a>æ•°æ®ä¾èµ–æ€§</h4><p>å¦‚æœä¸¤ä¸ªæ“ä½œè®¿é—®åŒä¸€ä¸ªå˜é‡ï¼Œä¸”è¿™ä¸¤ä¸ªæ“ä½œä¸­æœ‰ä¸€ä¸ªä¸ºå†™æ“ä½œï¼Œæ­¤æ—¶è¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´å°±å­˜åœ¨æ•°æ®ä¾èµ–æ€§ã€‚æ•°æ®ä¾èµ–åˆ†ä¸‹åˆ—ä¸‰ç§ç±»å‹ï¼š</p><table><thead><tr><th style="text-align:center">åç§°</th><th style="text-align:center">ä»£ç ç¤ºä¾‹</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">å†™åè¯»</td><td style="text-align:center">a = 1;   b = a;</td><td style="text-align:center">å†™ä¸€ä¸ªå˜é‡ä¹‹åï¼Œå†è¯»è¿™ä¸ªä½ç½®ã€‚</td></tr><tr><td style="text-align:center">å†™åå†™</td><td style="text-align:center">a = 1;  a = 2;</td><td style="text-align:center">å†™ä¸€ä¸ªå˜é‡ä¹‹åï¼Œå†å†™è¿™ä¸ªå˜é‡ã€‚</td></tr><tr><td style="text-align:center">è¯»åå†™</td><td style="text-align:center">a = b;  b = 1;</td><td style="text-align:center">è¯»ä¸€ä¸ªå˜é‡ä¹‹åï¼Œå†å†™è¿™ä¸ªå˜é‡ã€‚</td></tr></tbody></table><p>ä¸Šé¢ä¸‰ç§æƒ…å†µï¼Œåªè¦é‡æ’åºä¸¤ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºï¼Œç¨‹åºçš„æ‰§è¡Œç»“æœå°†ä¼šè¢«æ”¹å˜ã€‚</p><p>å‰é¢æåˆ°è¿‡ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹æ“ä½œåšé‡æ’åºã€‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨åœ¨é‡æ’åºæ—¶ï¼Œä¼šéµå®ˆæ•°æ®ä¾èµ–æ€§ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ä¼šæ”¹å˜å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»çš„ä¸¤ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œæ‰€è¯´çš„æ•°æ®ä¾èµ–æ€§ä»…é’ˆå¯¹å•ä¸ªå¤„ç†å™¨ä¸­æ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—å’Œå•ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œçš„æ“ä½œï¼Œä¸åŒå¤„ç†å™¨ä¹‹é—´å’Œä¸åŒçº¿ç¨‹ä¹‹é—´çš„æ•°æ®ä¾èµ–æ€§ä¸è¢«ç¼–è¯‘å™¨å’Œå¤„ç†å™¨è€ƒè™‘ã€‚</p><h4 id="as-if-serial-è¯­ä¹‰"><a href="#as-if-serial-è¯­ä¹‰" class="headerlink" title="as-if-serial è¯­ä¹‰"></a>as-if-serial è¯­ä¹‰</h4><p>as-if-serial è¯­ä¹‰çš„æ„æ€æŒ‡ï¼š<strong>ä¸ç®¡æ€ä¹ˆé‡æ’åº</strong>ï¼ˆç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ºäº†æé«˜å¹¶è¡Œåº¦ï¼‰ï¼Œï¼ˆå•çº¿ç¨‹ï¼‰<strong>ç¨‹åºçš„æ‰§è¡Œç»“æœä¸èƒ½è¢«æ”¹å˜</strong>ã€‚ç¼–è¯‘å™¨ï¼Œruntime å’Œå¤„ç†å™¨éƒ½å¿…é¡»éµå®ˆ as-if-serial è¯­ä¹‰ã€‚</p><p>ä¸ºäº†éµå®ˆ as-if-serial ç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ä¼šå¯¹å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»çš„æ“ä½œåšé‡æ’åºï¼Œå› ä¸ºè¿™ç§é‡æ’åºä¼šæ”¹å˜æ‰§è¡Œç»“æœã€‚ä½†æ˜¯å¦‚æœæ“ä½œä¹‹é—´æ²¡æœ‰æ•°æ®ä¾èµ–å…³ç³»ï¼Œè¿™äº›æ“ä½œå°±å¯èƒ½è¢«ç¼–è¯‘å™¨å’Œå¤„ç†å™¨é‡æ’åºã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">double pi = 3.14;     //A</span><br><span class="line">double r  = 1.0;       //B</span><br><span class="line">double area = pi * r * r;     //C</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸‰ä¸ªæ“ä½œçš„æ•°æ®ä¾èµ–å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7l7q6paj30fa0aoq33.jpg" alt="abc"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒA å’Œ C ä¹‹é—´å­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»ï¼ŒåŒæ—¶ B å’Œ C ä¹‹é—´ä¹Ÿå­˜åœ¨æ•°æ®ä¾èµ–å…³ç³»ã€‚å› æ­¤åœ¨æœ€ç»ˆæ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—ä¸­ï¼ŒC ä¸èƒ½è¢«é‡æ’åºåˆ° A å’Œ B çš„å‰é¢ï¼ˆC æ’åˆ° A å’Œ B çš„å‰é¢ï¼Œç¨‹åºçš„ç»“æœå°†ä¼šè¢«æ”¹å˜ï¼‰ã€‚ä½† A å’Œ B ä¹‹é—´æ²¡æœ‰æ•°æ®ä¾èµ–å…³ç³»ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯ä»¥é‡æ’åº A å’Œ B ä¹‹é—´çš„æ‰§è¡Œé¡ºåºã€‚ä¸‹å›¾æ˜¯è¯¥ç¨‹åºçš„ä¸¤ç§æ‰§è¡Œé¡ºåºï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7l97fx2j30zu0cwdh1.jpg" alt="2018-02-27_16-52-44"></p><p>åœ¨è®¡ç®—æœºä¸­ï¼Œè½¯ä»¶æŠ€æœ¯å’Œç¡¬ä»¶æŠ€æœ¯æœ‰ä¸€ä¸ªå…±åŒçš„ç›®æ ‡ï¼šåœ¨ä¸æ”¹å˜ç¨‹åºæ‰§è¡Œç»“æœçš„å‰æä¸‹ï¼Œå°½å¯èƒ½çš„å¼€å‘å¹¶è¡Œåº¦ã€‚ç¼–è¯‘å™¨å’Œå¤„ç†å™¨éµä»è¿™ä¸€ç›®æ ‡ï¼Œä» happens-before çš„å®šä¹‰æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒJMM åŒæ ·éµä»è¿™ä¸€ç›®æ ‡ã€‚</p><h4 id="é‡æ’åºå¯¹å¤šçº¿ç¨‹çš„å½±å“"><a href="#é‡æ’åºå¯¹å¤šçº¿ç¨‹çš„å½±å“" class="headerlink" title="é‡æ’åºå¯¹å¤šçº¿ç¨‹çš„å½±å“"></a>é‡æ’åºå¯¹å¤šçº¿ç¨‹çš„å½±å“</h4><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    a = <span class="number">1</span>;<span class="comment">//1</span></span><br><span class="line">    flag = <span class="keyword">true</span>;<span class="comment">//2</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(flag) &#123;<span class="comment">//3</span></span><br><span class="line">      <span class="keyword">int</span> i = a * a;<span class="comment">//4</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºæ“ä½œ 1 å’Œ 2 æ²¡æœ‰æ•°æ®ä¾èµ–å…³ç³»ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ“ä½œé‡æ’åºï¼›æ“ä½œ 3 å’Œæ“ä½œ 4 æ²¡æœ‰æ•°æ®ä¾èµ–å…³ç³»ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¹Ÿå¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ“ä½œé‡æ’åºã€‚</p><p>1ã€å½“æ“ä½œ 1 å’Œæ“ä½œ 2 é‡æ’åºæ—¶ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœï¼Ÿ</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7lcgkgej30tw0ki3zd.jpg" alt="sort12"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œæ“ä½œ 1 å’Œæ“ä½œ 2 åšäº†é‡æ’åºã€‚ç¨‹åºæ‰§è¡Œæ—¶ï¼Œçº¿ç¨‹ A é¦–å…ˆå†™æ ‡è®°å˜é‡ flagï¼Œéšåçº¿ç¨‹ B è¯»è¿™ä¸ªå˜é‡ã€‚ç”±äºæ¡ä»¶åˆ¤æ–­ä¸ºçœŸï¼Œçº¿ç¨‹ B å°†è¯»å–å˜é‡ aã€‚æ­¤æ—¶ï¼Œå˜é‡ a è¿˜æ ¹æœ¬æ²¡æœ‰è¢«çº¿ç¨‹ A å†™å…¥ï¼Œåœ¨è¿™é‡Œå¤šçº¿ç¨‹ç¨‹åºçš„è¯­ä¹‰è¢«é‡æ’åºç ´åäº†ï¼</p><p>2ã€å½“æ“ä½œ 3 å’Œæ“ä½œ 4 é‡æ’åºæ—¶ä¼šäº§ç”Ÿä»€ä¹ˆæ•ˆæœï¼ˆå€ŸåŠ©è¿™ä¸ªé‡æ’åºï¼Œå¯ä»¥é¡ºä¾¿è¯´æ˜æ§åˆ¶ä¾èµ–æ€§ï¼‰ã€‚</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7l4zjfkj30zy0owq4r.jpg" alt="sort34"></p><p>åœ¨ç¨‹åºä¸­ï¼Œæ“ä½œ 3 å’Œæ“ä½œ 4 å­˜åœ¨<strong>æ§åˆ¶ä¾èµ–å…³ç³»</strong>ã€‚å½“ä»£ç ä¸­å­˜åœ¨æ§åˆ¶ä¾èµ–æ€§æ—¶ï¼Œ<strong>ä¼šå½±å“æŒ‡ä»¤åºåˆ—æ‰§è¡Œçš„å¹¶è¡Œåº¦</strong>ã€‚ä¸ºæ­¤ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¼šé‡‡ç”¨<strong>çŒœæµ‹</strong>ï¼ˆSpeculationï¼‰æ‰§è¡Œæ¥å…‹æœæ§åˆ¶ç›¸å…³æ€§å¯¹å¹¶è¡Œåº¦çš„å½±å“ã€‚ä»¥å¤„ç†å™¨çš„çŒœæµ‹æ‰§è¡Œä¸ºä¾‹ï¼Œæ‰§è¡Œçº¿ç¨‹ B çš„å¤„ç†å™¨å¯ä»¥æå‰è¯»å–å¹¶è®¡ç®— a * aï¼Œç„¶åæŠŠè®¡ç®—ç»“æœä¸´æ—¶ä¿å­˜åˆ°ä¸€ä¸ªåä¸ºé‡æ’åºç¼“å†²ï¼ˆreorder buffer ROBï¼‰çš„ç¡¬ä»¶ç¼“å­˜ä¸­ã€‚å½“æ¥ä¸‹æ¥æ“ä½œ 3 çš„æ¡ä»¶åˆ¤æ–­ä¸ºçœŸæ—¶ï¼Œå°±æŠŠè¯¥è®¡ç®—ç»“æœå†™å…¥å˜é‡ i ä¸­ã€‚</p><p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒçŒœæµ‹æ‰§è¡Œå®è´¨ä¸Šå¯¹æ“ä½œ3å’Œ4åšäº†é‡æ’åºã€‚é‡æ’åºåœ¨è¿™é‡Œç ´åäº†å¤šçº¿ç¨‹ç¨‹åºçš„è¯­ä¹‰ï¼</p><p>åœ¨å•çº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹å­˜åœ¨æ§åˆ¶ä¾èµ–çš„æ“ä½œé‡æ’åºï¼Œä¸ä¼šæ”¹å˜æ‰§è¡Œç»“æœï¼ˆè¿™ä¹Ÿæ˜¯ as-if-serial è¯­ä¹‰å…è®¸å¯¹å­˜åœ¨æ§åˆ¶ä¾èµ–çš„æ“ä½œåšé‡æ’åºçš„åŸå› ï¼‰ï¼›ä½†åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¯¹å­˜åœ¨æ§åˆ¶ä¾èµ–çš„æ“ä½œé‡æ’åºï¼Œå¯èƒ½ä¼šæ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚</p><h3 id="é¡ºåºä¸€è‡´æ€§"><a href="#é¡ºåºä¸€è‡´æ€§" class="headerlink" title="é¡ºåºä¸€è‡´æ€§"></a>é¡ºåºä¸€è‡´æ€§</h3><h4 id="é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹"><a href="#é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹" class="headerlink" title="é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹"></a>é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹</h4><p>é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹æœ‰ä¸¤å¤§ç‰¹æ€§ï¼š</p><ul><li>ä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ‰€æœ‰æ“ä½œå¿…é¡»æŒ‰ç…§ç¨‹åºçš„é¡ºåºæ¥æ‰§è¡Œã€‚</li><li>ï¼ˆä¸ç®¡ç¨‹åºæ˜¯å¦åŒæ­¥ï¼‰æ‰€æœ‰çº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°ä¸€ä¸ªå•ä¸€çš„æ“ä½œæ‰§è¡Œé¡ºåºã€‚åœ¨é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­ï¼Œæ¯ä¸ªæ“ä½œéƒ½å¿…é¡»åŸå­æ‰§è¡Œä¸”ç«‹åˆ»å¯¹æ‰€æœ‰çº¿ç¨‹å¯è§ã€‚</li></ul><p>é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸ºç¨‹åºå‘˜æä¾›çš„è§†å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7l6dyuaj30sk0mumyg.jpg" alt="2018-02-27_17-55-09"></p><p>åœ¨æ¦‚å¿µä¸Šï¼Œé¡ºåºä¸€è‡´æ€§æ¨¡å‹æœ‰ä¸€ä¸ªå•ä¸€çš„å…¨å±€å†…å­˜ï¼Œè¿™ä¸ªå†…å­˜é€šè¿‡ä¸€ä¸ªå·¦å³æ‘†åŠ¨çš„å¼€å…³å¯ä»¥è¿æ¥åˆ°ä»»æ„ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒæ—¶æ¯ä¸€ä¸ªçº¿ç¨‹å¿…é¡»æŒ‰ç…§ç¨‹åºçš„é¡ºåºæ¥æ‰§è¡Œå†…å­˜è¯»/å†™æ“ä½œã€‚ä»ä¸Šé¢çš„ç¤ºæ„å›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨ä»»æ„æ—¶é—´ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è¿æ¥åˆ°å†…å­˜ã€‚å½“å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œæ—¶ï¼Œå›¾ä¸­çš„å¼€å…³è£…ç½®èƒ½æŠŠæ‰€æœ‰çº¿ç¨‹çš„æ‰€æœ‰å†…å­˜è¯»/å†™æ“ä½œä¸²è¡ŒåŒ–ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>å‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹ A å’Œ B å¹¶å‘æ‰§è¡Œã€‚å…¶ä¸­ A çº¿ç¨‹æœ‰ä¸‰ä¸ªæ“ä½œï¼Œå®ƒä»¬åœ¨ç¨‹åºä¸­çš„é¡ºåºæ˜¯ï¼šA1 -&gt; A2 -&gt; A3ã€‚B çº¿ç¨‹ä¹Ÿæœ‰ä¸‰ä¸ªæ“ä½œï¼Œå®ƒä»¬åœ¨ç¨‹åºä¸­çš„é¡ºåºæ˜¯ï¼šB1 -&gt; B2 -&gt; B3ã€‚</p><p>å‡è®¾è¿™ä¸¤ä¸ªçº¿ç¨‹ä½¿ç”¨ç›‘è§†å™¨é”æ¥æ­£ç¡®åŒæ­¥ï¼šA çº¿ç¨‹çš„ä¸‰ä¸ªæ“ä½œæ‰§è¡Œåé‡Šæ”¾ç›‘è§†å™¨é”ï¼Œéšå B çº¿ç¨‹è·å–åŒä¸€ä¸ªç›‘è§†å™¨é”ã€‚é‚£ä¹ˆç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œæ•ˆæœå°†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7ldkj04j31440paaee.jpg" alt="2018-02-27_18-01-51"></p><p>ç°åœ¨æˆ‘ä»¬å†å‡è®¾è¿™ä¸¤ä¸ªçº¿ç¨‹æ²¡æœ‰åšåŒæ­¥ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªæœªåŒæ­¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œç¤ºæ„å›¾ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7lefk10j316c0nytd8.jpg" alt="2018-02-27_18-04-20"></p><p>æœªåŒæ­¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­è™½ç„¶æ•´ä½“æ‰§è¡Œé¡ºåºæ˜¯æ— åºçš„ï¼Œä½†æ‰€æœ‰çº¿ç¨‹éƒ½åªèƒ½çœ‹åˆ°ä¸€ä¸ªä¸€è‡´çš„æ•´ä½“æ‰§è¡Œé¡ºåºã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œçº¿ç¨‹ A å’Œ B çœ‹åˆ°çš„æ‰§è¡Œé¡ºåºéƒ½æ˜¯ï¼šB1 -&gt; A1 -&gt; A2 -&gt; B2 -&gt; A3 -&gt; B3ã€‚ä¹‹æ‰€ä»¥èƒ½å¾—åˆ°è¿™ä¸ªä¿è¯æ˜¯å› ä¸ºé¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­çš„æ¯ä¸ªæ“ä½œå¿…é¡»ç«‹å³å¯¹ä»»æ„çº¿ç¨‹å¯è§ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨ JMM ä¸­å°±æ²¡æœ‰è¿™ä¸ªä¿è¯ã€‚æœªåŒæ­¥ç¨‹åºåœ¨ JMM ä¸­ä¸ä½†æ•´ä½“çš„æ‰§è¡Œé¡ºåºæ˜¯æ— åºçš„ï¼Œè€Œä¸”æ‰€æœ‰çº¿ç¨‹çœ‹åˆ°çš„æ“ä½œæ‰§è¡Œé¡ºåºä¹Ÿå¯èƒ½ä¸ä¸€è‡´ã€‚æ¯”å¦‚ï¼Œåœ¨å½“å‰çº¿ç¨‹æŠŠå†™è¿‡çš„æ•°æ®ç¼“å­˜åœ¨æœ¬åœ°å†…å­˜ä¸­ï¼Œåœ¨è¿˜æ²¡æœ‰åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹å‰ï¼Œè¿™ä¸ªå†™æ“ä½œä»…å¯¹å½“å‰çº¿ç¨‹å¯è§ï¼›ä»å…¶ä»–çº¿ç¨‹çš„è§’åº¦æ¥è§‚å¯Ÿï¼Œä¼šè®¤ä¸ºè¿™ä¸ªå†™æ“ä½œæ ¹æœ¬è¿˜æ²¡æœ‰è¢«å½“å‰çº¿ç¨‹æ‰§è¡Œã€‚åªæœ‰å½“å‰çº¿ç¨‹æŠŠæœ¬åœ°å†…å­˜ä¸­å†™è¿‡çš„æ•°æ®åˆ·æ–°åˆ°ä¸»å†…å­˜ä¹‹åï¼Œè¿™ä¸ªå†™æ“ä½œæ‰èƒ½å¯¹å…¶ä»–çº¿ç¨‹å¯è§ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“å‰çº¿ç¨‹å’Œå…¶å®ƒçº¿ç¨‹çœ‹åˆ°çš„æ“ä½œæ‰§è¡Œé¡ºåºå°†ä¸ä¸€è‡´ã€‚</p><h4 id="åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"><a href="#åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ" class="headerlink" title="åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ"></a>åŒæ­¥ç¨‹åºçš„é¡ºåºä¸€è‡´æ€§æ•ˆæœ</h4><p>ä¸‹é¢æˆ‘ä»¬å¯¹å‰é¢çš„ç¤ºä¾‹ç¨‹åºç”¨é”æ¥åŒæ­¥ï¼Œçœ‹çœ‹æ­£ç¡®åŒæ­¥çš„ç¨‹åºå¦‚ä½•å…·æœ‰é¡ºåºä¸€è‡´æ€§ã€‚</p><p>è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">demo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span> </span>&#123;<span class="comment">//è·å–é”</span></span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    flag = <span class="keyword">true</span>;</span><br><span class="line">  &#125;<span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;<span class="comment">//è·å–é”</span></span><br><span class="line">    <span class="keyword">if</span>(flag) &#123;</span><br><span class="line">      <span class="keyword">int</span> i = a;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;<span class="comment">//é‡Šæ”¾é”</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä»£ç ä¸­ï¼Œå‡è®¾ A çº¿ç¨‹æ‰§è¡Œ write() æ–¹æ³•åï¼ŒB çº¿ç¨‹æ‰§è¡Œ reade() æ–¹æ³•ã€‚è¿™æ˜¯ä¸€ä¸ªæ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºã€‚æ ¹æ®JMMè§„èŒƒï¼Œè¯¥ç¨‹åºçš„æ‰§è¡Œç»“æœå°†ä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœç›¸åŒã€‚ä¸‹é¢æ˜¯è¯¥ç¨‹åºåœ¨ä¸¤ä¸ªå†…å­˜æ¨¡å‹ä¸­çš„æ‰§è¡Œæ—¶åºå¯¹æ¯”å›¾ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7ld04ffj312s0tq432.jpg" alt="2018-02-27_22-01-59"></p><p>åœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­ï¼Œæ‰€æœ‰æ“ä½œå®Œå…¨æŒ‰ç¨‹åºçš„é¡ºåºæ‰§è¡Œã€‚è€Œåœ¨ JMM ä¸­ï¼Œä¸´ç•ŒåŒºå†…çš„ä»£ç å¯ä»¥é‡æ’åºï¼ˆä½† JMM ä¸å…è®¸ä¸´ç•ŒåŒºå†…çš„ä»£ç â€œé€¸å‡ºâ€åˆ°ä¸´ç•ŒåŒºä¹‹å¤–ï¼Œé‚£æ ·ä¼šç ´åç›‘è§†å™¨çš„è¯­ä¹‰ï¼‰ã€‚JMM ä¼šåœ¨é€€å‡ºä¸´ç•ŒåŒºå’Œè¿›å…¥ä¸´ç•ŒåŒºè¿™ä¸¤ä¸ªå…³é”®æ—¶é—´ç‚¹åšä¸€äº›ç‰¹åˆ«å¤„ç†ï¼Œä½¿å¾—çº¿ç¨‹åœ¨è¿™ä¸¤ä¸ªæ—¶é—´ç‚¹å…·æœ‰ä¸é¡ºåºä¸€è‡´æ€§æ¨¡å‹ç›¸åŒçš„å†…å­˜è§†å›¾ã€‚è™½ç„¶çº¿ç¨‹ A åœ¨ä¸´ç•ŒåŒºå†…åšäº†é‡æ’åºï¼Œä½†ç”±äºç›‘è§†å™¨çš„äº’æ–¥æ‰§è¡Œçš„ç‰¹æ€§ï¼Œè¿™é‡Œçš„çº¿ç¨‹ B æ ¹æœ¬æ— æ³•â€œè§‚å¯Ÿâ€åˆ°çº¿ç¨‹ A åœ¨ä¸´ç•ŒåŒºå†…çš„é‡æ’åºã€‚è¿™ç§é‡æ’åºæ—¢æé«˜äº†æ‰§è¡Œæ•ˆç‡ï¼Œåˆæ²¡æœ‰æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç»“æœã€‚</p><p>ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° JMM åœ¨å…·ä½“å®ç°ä¸Šçš„åŸºæœ¬æ–¹é’ˆï¼šåœ¨ä¸æ”¹å˜ï¼ˆæ­£ç¡®åŒæ­¥çš„ï¼‰ç¨‹åºæ‰§è¡Œç»“æœçš„å‰æä¸‹ï¼Œå°½å¯èƒ½çš„ä¸ºç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„ä¼˜åŒ–æ‰“å¼€æ–¹ä¾¿ä¹‹é—¨ã€‚</p><h4 id="æœªåŒæ­¥ç¨‹åºçš„æ‰§è¡Œç‰¹æ€§"><a href="#æœªåŒæ­¥ç¨‹åºçš„æ‰§è¡Œç‰¹æ€§" class="headerlink" title="æœªåŒæ­¥ç¨‹åºçš„æ‰§è¡Œç‰¹æ€§"></a>æœªåŒæ­¥ç¨‹åºçš„æ‰§è¡Œç‰¹æ€§</h4><p>æœªåŒæ­¥ç¨‹åºåœ¨ JMM ä¸­çš„æ‰§è¡Œæ—¶ï¼Œæ•´ä½“ä¸Šæ˜¯æ— åºçš„ï¼Œå…¶æ‰§è¡Œç»“æœæ— æ³•é¢„çŸ¥ã€‚æœªåŒæ­¥ç¨‹åºåœ¨ä¸¤ä¸ªæ¨¡å‹ä¸­çš„æ‰§è¡Œç‰¹æ€§æœ‰ä¸‹é¢å‡ ä¸ªå·®å¼‚ï¼š</p><ol><li>é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¿è¯å•çº¿ç¨‹å†…çš„æ“ä½œä¼šæŒ‰ç¨‹åºçš„é¡ºåºæ‰§è¡Œï¼Œè€Œ JMM  ä¸ä¿è¯å•çº¿ç¨‹å†…çš„æ“ä½œä¼šæŒ‰ç¨‹åºçš„é¡ºåºæ‰§è¡Œï¼ˆæ¯”å¦‚ä¸Šé¢æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºåœ¨ä¸´ç•ŒåŒºå†…çš„é‡æ’åºï¼‰ã€‚</li><li>é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¿è¯æ‰€æœ‰çº¿ç¨‹åªèƒ½çœ‹åˆ°ä¸€è‡´çš„æ“ä½œæ‰§è¡Œé¡ºåºï¼Œè€Œ JMM ä¸ä¿è¯æ‰€æœ‰çº¿ç¨‹èƒ½çœ‹åˆ°ä¸€è‡´çš„æ“ä½œæ‰§è¡Œé¡ºåºã€‚</li><li><strong>JMM ä¸ä¿è¯å¯¹ 64 ä½çš„ long å‹å’Œ double å‹å˜é‡çš„è¯»/å†™æ“ä½œå…·æœ‰åŸå­æ€§</strong>ï¼Œè€Œ<strong>é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¿è¯å¯¹æ‰€æœ‰çš„å†…å­˜è¯»/å†™æ“ä½œéƒ½å…·æœ‰åŸå­</strong> ã€‚</li></ol><p>ç¬¬ä¸‰ä¸ªå·®å¼‚ä¸å¤„ç†å™¨æ€»çº¿çš„å·¥ä½œæœºåˆ¶å¯†åˆ‡ç›¸å…³ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œæ•°æ®é€šè¿‡æ€»çº¿åœ¨å¤„ç†å™¨å’Œå†…å­˜ä¹‹é—´ä¼ é€’ã€‚æ¯æ¬¡å¤„ç†å™¨å’Œå†…å­˜ä¹‹é—´çš„æ•°æ®ä¼ é€’éƒ½æ˜¯é€šè¿‡<strong>æ€»çº¿äº‹åŠ¡</strong>æ¥å®Œæˆçš„ã€‚æ€»çº¿äº‹åŠ¡åŒ…æ‹¬è¯»äº‹åŠ¡å’Œå†™äº‹åŠ¡ã€‚è¯»äº‹åŠ¡ä»å†…å­˜ä¼ é€æ•°æ®åˆ°å¤„ç†å™¨ï¼Œå†™äº‹åŠ¡ä»å¤„ç†å™¨ä¼ é€’æ•°æ®åˆ°å†…å­˜ï¼Œæ¯ä¸ªäº‹åŠ¡ä¼šè¯»ï¼å†™å†…å­˜ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªç‰©ç†ä¸Šè¿ç»­çš„å­—ã€‚æ€»çº¿ä¼šåŒæ­¥è¯•å›¾å¹¶å‘ä½¿ç”¨æ€»çº¿çš„äº‹åŠ¡ã€‚åœ¨ä¸€ä¸ªå¤„ç†å™¨æ‰§è¡Œæ€»çº¿äº‹åŠ¡æœŸé—´ï¼Œæ€»çº¿ä¼šç¦æ­¢å…¶å®ƒæ‰€æœ‰çš„å¤„ç†å™¨å’Œ Iï¼O è®¾å¤‡æ‰§è¡Œå†…å­˜çš„è¯»ï¼å†™ã€‚</p><p>æ€»çº¿çš„å·¥ä½œæœºåˆ¶ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fow7levu1fj30zm0rgmzu.jpg" alt="2018-02-27_22-53-53"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾å¤„ç†å™¨ Aã€Bã€å’Œ C  åŒæ—¶å‘æ€»çº¿å‘èµ·æ€»çº¿äº‹åŠ¡ï¼Œè¿™æ—¶æ€»çº¿ä»²è£ä¼šå¯¹ç«äº‰ä½œå‡ºè£å†³ï¼Œå‡è®¾æ€»çº¿åœ¨ä»²è£ååˆ¤å®šå¤„ç†å™¨ A åœ¨ç«äº‰ä¸­è·èƒœï¼ˆæ€»çº¿ä»²è£ä¼šç¡®ä¿æ‰€æœ‰å¤„ç†å™¨éƒ½èƒ½å…¬å¹³çš„è®¿é—®å†…å­˜ï¼‰ã€‚æ­¤æ—¶å¤„ç†å™¨ A ç»§ç»­å®ƒçš„æ€»çº¿äº‹åŠ¡ï¼Œè€Œå…¶å®ƒä¸¤ä¸ªå¤„ç†å™¨åˆ™è¦ç­‰å¾…å¤„ç†å™¨ A çš„æ€»çº¿äº‹åŠ¡å®Œæˆåæ‰èƒ½å¼€å§‹å†æ¬¡æ‰§è¡Œå†…å­˜è®¿é—®ã€‚å‡è®¾åœ¨å¤„ç†å™¨ A æ‰§è¡Œæ€»çº¿äº‹åŠ¡æœŸé—´ï¼ˆä¸ç®¡è¿™ä¸ªæ€»çº¿äº‹åŠ¡æ˜¯è¯»äº‹åŠ¡è¿˜æ˜¯å†™äº‹åŠ¡ï¼‰ï¼Œå¤„ç†å™¨ D å‘æ€»çº¿å‘èµ·äº†æ€»çº¿äº‹åŠ¡ï¼Œæ­¤æ—¶å¤„ç†å™¨ D çš„è¿™ä¸ªè¯·æ±‚ä¼šè¢«æ€»çº¿ç¦æ­¢ã€‚</p><p>æ€»çº¿çš„è¿™äº›å·¥ä½œæœºåˆ¶å¯ä»¥<strong>æŠŠæ‰€æœ‰å¤„ç†å™¨å¯¹å†…å­˜çš„è®¿é—®ä»¥ä¸²è¡ŒåŒ–çš„æ–¹å¼æ¥æ‰§è¡Œ</strong>ï¼›<strong>åœ¨ä»»æ„æ—¶é—´ç‚¹ï¼Œæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªå¤„ç†å™¨èƒ½è®¿é—®å†…å­˜</strong>ã€‚è¿™ä¸ªç‰¹æ€§<strong>ç¡®ä¿äº†å•ä¸ªæ€»çº¿äº‹åŠ¡ä¹‹ä¸­çš„å†…å­˜è¯»/å†™æ“ä½œå…·æœ‰åŸå­æ€§</strong>ã€‚</p><p>åœ¨ä¸€äº› 32 ä½çš„å¤„ç†å™¨ä¸Šï¼Œå¦‚æœè¦æ±‚å¯¹ 64 ä½æ•°æ®çš„å†™æ“ä½œå…·æœ‰åŸå­æ€§ï¼Œä¼šæœ‰æ¯”è¾ƒå¤§çš„å¼€é”€ã€‚ä¸ºäº†ç…§é¡¾è¿™ç§å¤„ç†å™¨ï¼ŒJava è¯­è¨€è§„èŒƒé¼“åŠ±ä½†ä¸å¼ºæ±‚ JVM å¯¹ 64 ä½çš„ long å‹å˜é‡å’Œ double å‹å˜é‡çš„å†™å…·æœ‰åŸå­æ€§ã€‚å½“ JVM åœ¨è¿™ç§å¤„ç†å™¨ä¸Šè¿è¡Œæ—¶ï¼Œä¼šæŠŠä¸€ä¸ª 64 ä½ long/ double å‹å˜é‡çš„å†™æ“ä½œæ‹†åˆ†ä¸ºä¸¤ä¸ª 32 ä½çš„å†™æ“ä½œæ¥æ‰§è¡Œã€‚è¿™ä¸¤ä¸ª 32 ä½çš„å†™æ“ä½œå¯èƒ½ä¼šè¢«åˆ†é…åˆ°ä¸åŒçš„æ€»çº¿äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œæ­¤æ—¶å¯¹è¿™ä¸ª 64 ä½å˜é‡çš„å†™å°†ä¸å…·æœ‰åŸå­æ€§ã€‚</p><p>å½“å•ä¸ªå†…å­˜æ“ä½œä¸å…·æœ‰åŸå­æ€§ï¼Œå°†å¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°åæœã€‚è¯·çœ‹ä¸‹é¢ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7l88o2aj312i0l8jt0.jpg" alt="2018-02-27_23-06-59"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå‡è®¾å¤„ç†å™¨ A å†™ä¸€ä¸ª long å‹å˜é‡ï¼ŒåŒæ—¶å¤„ç†å™¨ B è¦è¯»è¿™ä¸ª long å‹å˜é‡ã€‚å¤„ç†å™¨ A ä¸­ 64 ä½çš„å†™æ“ä½œè¢«æ‹†åˆ†ä¸ºä¸¤ä¸ª 32 ä½çš„å†™æ“ä½œï¼Œä¸”è¿™ä¸¤ä¸ª 32 ä½çš„å†™æ“ä½œè¢«åˆ†é…åˆ°ä¸åŒçš„å†™äº‹åŠ¡ä¸­æ‰§è¡Œã€‚åŒæ—¶å¤„ç†å™¨ B ä¸­ 64 ä½çš„è¯»æ“ä½œè¢«åˆ†é…åˆ°å•ä¸ªçš„è¯»äº‹åŠ¡ä¸­æ‰§è¡Œã€‚å½“å¤„ç†å™¨ A å’Œ B æŒ‰ä¸Šå›¾çš„æ—¶åºæ¥æ‰§è¡Œæ—¶ï¼Œå¤„ç†å™¨ B å°†çœ‹åˆ°ä»…ä»…è¢«å¤„ç†å™¨ A â€œå†™äº†ä¸€åŠâ€œçš„æ— æ•ˆå€¼ã€‚</p><p>æ³¨æ„ï¼Œåœ¨ JSR -133 ä¹‹å‰çš„æ—§å†…å­˜æ¨¡å‹ä¸­ï¼Œä¸€ä¸ª 64 ä½ long/ double å‹å˜é‡çš„<strong>è¯»/å†™</strong>æ“ä½œå¯ä»¥è¢«æ‹†åˆ†ä¸ºä¸¤ä¸ª 32 ä½çš„è¯»/å†™æ“ä½œæ¥æ‰§è¡Œã€‚ä» JSR -133 å†…å­˜æ¨¡å‹å¼€å§‹ï¼ˆå³ä»JDK5å¼€å§‹ï¼‰ï¼Œä»…ä»…åªå…è®¸æŠŠä¸€ä¸ª 64 ä½ long/ double å‹å˜é‡çš„<strong>å†™</strong>æ“ä½œæ‹†åˆ†ä¸ºä¸¤ä¸ª 32 ä½çš„å†™æ“ä½œæ¥æ‰§è¡Œï¼Œ<strong>ä»»æ„çš„è¯»æ“ä½œåœ¨JSR -133ä¸­éƒ½å¿…é¡»å…·æœ‰åŸå­æ€§</strong>ï¼ˆå³ä»»æ„è¯»æ“ä½œå¿…é¡»è¦åœ¨å•ä¸ªè¯»äº‹åŠ¡ä¸­æ‰§è¡Œï¼‰ã€‚</p><h3 id="Volatile"><a href="#Volatile" class="headerlink" title="Volatile"></a>Volatile</h3><h4 id="Volatile-ç‰¹æ€§"><a href="#Volatile-ç‰¹æ€§" class="headerlink" title="Volatile ç‰¹æ€§"></a>Volatile ç‰¹æ€§</h4><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VolatileTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">long</span> a = <span class="number">1L</span>; <span class="comment">// ä½¿ç”¨ volatile å£°æ˜ 64 ä½çš„ long å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">        a = l;                  <span class="comment">//å•ä¸ª volatile å˜é‡çš„å†™</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">get</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a;               <span class="comment">//å•ä¸ª volatile å˜é‡çš„è¯»</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getAndIncreament</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        a++;                    <span class="comment">// å¤åˆï¼ˆå¤šä¸ªï¼‰ volatile å˜é‡çš„è¯» /å†™</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡è®¾æœ‰å¤šä¸ªçº¿ç¨‹åˆ†åˆ«è°ƒç”¨ä¸Šé¢ç¨‹åºçš„ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªç¨‹åºåœ¨è¯­ä¹‰ä¸Šå’Œä¸‹é¢ç¨‹åºç­‰ä»·ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VolatileTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> a = <span class="number">1L</span>; <span class="comment">// 64 ä½çš„ long å‹æ™®é€šå˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">long</span> l)</span> </span>&#123;<span class="comment">//å¯¹å•ä¸ªæ™®é€šå˜é‡çš„å†™ç”¨åŒä¸€ä¸ªé”åŒæ­¥</span></span><br><span class="line">        a = l;                </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">long</span> <span class="title">get</span><span class="params">()</span> </span>&#123;<span class="comment">//å¯¹å•ä¸ªæ™®é€šå˜é‡çš„è¯»ç”¨åŒä¸€ä¸ªé”åŒæ­¥</span></span><br><span class="line">        <span class="keyword">return</span> a;           </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getAndIncreament</span><span class="params">()</span> </span>&#123;<span class="comment">//æ™®é€šæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">      <span class="keyword">long</span> temp = get();<span class="comment">//è°ƒç”¨å·²åŒæ­¥çš„è¯»æ–¹æ³•</span></span><br><span class="line">        temp += <span class="number">1L</span>;<span class="comment">//æ™®é€šå†™æ“ä½œ</span></span><br><span class="line">      set(temp);<span class="comment">//è°ƒç”¨å·²åŒæ­¥çš„å†™æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šé¢ç¤ºä¾‹ç¨‹åºæ‰€ç¤ºï¼Œå¯¹ä¸€ä¸ª volatile å˜é‡çš„å•ä¸ªè¯»/å†™æ“ä½œï¼Œä¸å¯¹ä¸€ä¸ªæ™®é€šå˜é‡çš„è¯»/å†™æ“ä½œä½¿ç”¨åŒä¸€ä¸ªé”æ¥åŒæ­¥ï¼Œå®ƒä»¬ä¹‹é—´çš„æ‰§è¡Œæ•ˆæœç›¸åŒã€‚</p><p>é”çš„ happens-before è§„åˆ™ä¿è¯é‡Šæ”¾é”å’Œè·å–é”çš„ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´çš„å†…å­˜å¯è§æ€§ï¼Œè¿™æ„å‘³ç€<strong>å¯¹ä¸€ä¸ª volatile å˜é‡çš„è¯»ï¼Œæ€»æ˜¯èƒ½çœ‹åˆ°ï¼ˆä»»æ„çº¿ç¨‹ï¼‰å¯¹è¿™ä¸ª volatile å˜é‡æœ€åçš„å†™å…¥</strong>ã€‚</p><p>é”çš„è¯­ä¹‰å†³å®šäº†ä¸´ç•ŒåŒºä»£ç çš„æ‰§è¡Œå…·æœ‰åŸå­æ€§ã€‚è¿™æ„å‘³ç€å³ä½¿æ˜¯ 64 ä½çš„ long å‹å’Œ double å‹å˜é‡ï¼Œåªè¦å®ƒæ˜¯ volatileå˜é‡ï¼Œå¯¹è¯¥å˜é‡çš„è¯»å†™å°±å°†å…·æœ‰åŸå­æ€§ã€‚<strong>å¦‚æœæ˜¯å¤šä¸ª volatile æ“ä½œæˆ–ç±»ä¼¼äº volatile++ è¿™ç§å¤åˆæ“ä½œï¼Œè¿™äº›æ“ä½œæ•´ä½“ä¸Šä¸å…·æœ‰åŸå­æ€§</strong>ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œvolatile å˜é‡è‡ªèº«å…·æœ‰ä¸‹åˆ—ç‰¹æ€§ï¼š</p><ul><li>å¯è§æ€§ã€‚å¯¹ä¸€ä¸ª volatile å˜é‡çš„è¯»ï¼Œæ€»æ˜¯èƒ½çœ‹åˆ°ï¼ˆä»»æ„çº¿ç¨‹ï¼‰å¯¹è¿™ä¸ª volatile å˜é‡æœ€åçš„å†™å…¥ã€‚</li><li>åŸå­æ€§ï¼šå¯¹ä»»æ„å•ä¸ª volatile å˜é‡çš„è¯»/å†™å…·æœ‰åŸå­æ€§ï¼Œä½†ç±»ä¼¼äº volatile++ è¿™ç§å¤åˆæ“ä½œä¸å…·æœ‰åŸå­æ€§ã€‚</li></ul><h4 id="volatile-å†™-è¯»çš„å†…å­˜å®šä¹‰"><a href="#volatile-å†™-è¯»çš„å†…å­˜å®šä¹‰" class="headerlink" title="volatile å†™-è¯»çš„å†…å­˜å®šä¹‰"></a>volatile å†™-è¯»çš„å†…å­˜å®šä¹‰</h4><ul><li>å½“<strong>å†™</strong>ä¸€ä¸ª volatile å˜é‡æ—¶ï¼ŒJMM ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡å€¼åˆ·æ–°åˆ°ä¸»å†…å­˜ã€‚</li><li>å½“<strong>è¯»</strong>ä¸€ä¸ª volatile å˜é‡æ—¶ï¼ŒJMM ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚çº¿ç¨‹æ¥ä¸‹æ¥å°†ä»ä¸»å†…å­˜ä¸­è¯»å–å…±äº«å˜é‡ã€‚</li></ul><p>å‡è®¾ä¸Šé¢çš„ç¨‹åº flag å˜é‡ç”¨ volatile ä¿®é¥°</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7lak6kvj30xc0qc76l.jpg" alt="2018-02-28_10-13-39"></p><h4 id="volatile-å†…å­˜è¯­ä¹‰çš„å®ç°"><a href="#volatile-å†…å­˜è¯­ä¹‰çš„å®ç°" class="headerlink" title="volatile å†…å­˜è¯­ä¹‰çš„å®ç°"></a>volatile å†…å­˜è¯­ä¹‰çš„å®ç°</h4><p>ä¸‹é¢æ˜¯ JMM é’ˆå¯¹ç¼–è¯‘å™¨åˆ¶å®šçš„ volatile é‡æ’åºè§„åˆ™è¡¨ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7lg83wdj313u0ckmz8.jpg" alt="2018-02-28_10-26-43"></p><p>ä¸ºäº†å®ç° volatile çš„å†…å­˜è¯­ä¹‰ï¼Œç¼–è¯‘å™¨åœ¨ç”Ÿæˆå­—èŠ‚ç æ—¶ï¼Œä¼šåœ¨æŒ‡ä»¤åºåˆ—ä¸­æ’å…¥å†…å­˜å±éšœæ¥ç¦æ­¢ç‰¹å®šç±»å‹çš„å¤„ç†å™¨é‡æ’åºã€‚</p><p>ä¸‹é¢æ˜¯åŸºäºä¿å®ˆç­–ç•¥çš„ JMM å†…å­˜å±éšœæ’å…¥ç­–ç•¥ï¼š</p><ul><li>åœ¨æ¯ä¸ª volatile å†™æ“ä½œçš„å‰é¢æ’å…¥ä¸€ä¸ª StoreStore å±éšœã€‚</li><li>åœ¨æ¯ä¸ª volatile å†™æ“ä½œçš„åé¢æ’å…¥ä¸€ä¸ª StoreLoad å±éšœã€‚</li><li>åœ¨æ¯ä¸ª volatile è¯»æ“ä½œçš„åé¢æ’å…¥ä¸€ä¸ª LoadLoad å±éšœã€‚</li><li>åœ¨æ¯ä¸ª volatile è¯»æ“ä½œçš„åé¢æ’å…¥ä¸€ä¸ª LoadStore å±éšœã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¿å®ˆç­–ç•¥ä¸‹ï¼Œvolatile å†™æ“ä½œ æ’å…¥å†…å­˜å±éšœåç”Ÿæˆçš„æŒ‡ä»¤åºåˆ—ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7la65xnj31100lc76r.jpg" alt="2018-02-28_10-31-14"></p><p>ä¸‹é¢æ˜¯åœ¨ä¿å®ˆç­–ç•¥ä¸‹ï¼Œvolatile è¯»æ“ä½œ æ’å…¥å†…å­˜å±éšœåç”Ÿæˆçš„æŒ‡ä»¤åºåˆ—ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fow7l35uyuj310w0myju1.jpg" alt="2018-02-28_10-38-12"></p><p>ä¸Šè¿° volatile å†™æ“ä½œå’Œ volatile è¯»æ“ä½œçš„å†…å­˜å±éšœæ’å…¥ç­–ç•¥éå¸¸ä¿å®ˆã€‚åœ¨å®é™…æ‰§è¡Œæ—¶ï¼Œåªè¦ä¸æ”¹å˜ volatile å†™-è¯»çš„å†…å­˜è¯­ä¹‰ï¼Œç¼–è¯‘å™¨å¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µçœç•¥ä¸å¿…è¦çš„å±éšœã€‚</p><h3 id="é”"><a href="#é”" class="headerlink" title="é”"></a>é”</h3><h4 id="é”é‡Šæ”¾å’Œè·å–çš„å†…å­˜è¯­ä¹‰"><a href="#é”é‡Šæ”¾å’Œè·å–çš„å†…å­˜è¯­ä¹‰" class="headerlink" title="é”é‡Šæ”¾å’Œè·å–çš„å†…å­˜è¯­ä¹‰"></a>é”é‡Šæ”¾å’Œè·å–çš„å†…å­˜è¯­ä¹‰</h4><p>å½“çº¿ç¨‹é‡Šæ”¾é”æ—¶ï¼ŒJMM ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ä¸­çš„å…±äº«å˜é‡åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚</p><p>å½“çº¿ç¨‹è·å–é”æ—¶ï¼ŒJMM ä¼šæŠŠè¯¥çº¿ç¨‹å¯¹åº”çš„æœ¬åœ°å†…å­˜ç½®ä¸ºæ— æ•ˆã€‚ä»è€Œä½¿å¾—è¢«ç›‘è§†å™¨ä¿æŠ¤çš„ä¸´ç•ŒåŒºä»£ç å¿…é¡»è¦ä»ä¸»å†…å­˜ä¸­å»è¯»å–å…±äº«å˜é‡ã€‚</p><h4 id="é”å†…å­˜è¯­ä¹‰çš„å®ç°"><a href="#é”å†…å­˜è¯­ä¹‰çš„å®ç°" class="headerlink" title="é”å†…å­˜è¯­ä¹‰çš„å®ç°"></a>é”å†…å­˜è¯­ä¹‰çš„å®ç°</h4><p>å€ŸåŠ© ReentrantLock æ¥è®²è§£ï¼ŒPSï¼š åé¢ä¸“é—¨è®²ä¸‹è¿™å—ï¼ˆReentrantLockã€Synchronizedã€å…¬å¹³é”ã€éå…¬å¹³é”ã€AQSç­‰ï¼‰ï¼Œå¯ä»¥çœ‹çœ‹å¤§æ˜å“¥çš„åšå®¢ï¼š<a href="">http://cmsblogs.com/?p=2210</a></p><h4 id="concurrent-åŒ…çš„å®ç°"><a href="#concurrent-åŒ…çš„å®ç°" class="headerlink" title="concurrent åŒ…çš„å®ç°"></a>concurrent åŒ…çš„å®ç°</h4><p>å¦‚æœæˆ‘ä»¬ä»”ç»†åˆ†æ concurrent åŒ…çš„æºä»£ç å®ç°ï¼Œä¼šå‘ç°ä¸€ä¸ªé€šç”¨åŒ–çš„å®ç°æ¨¡å¼ï¼š</p><ol><li>é¦–å…ˆï¼Œå£°æ˜å…±äº«å˜é‡ä¸º volatileï¼›</li><li>ç„¶åï¼Œä½¿ç”¨ CAS çš„åŸå­æ¡ä»¶æ›´æ–°æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ï¼›</li><li>åŒæ—¶ï¼Œé…åˆä»¥ volatile çš„è¯»/å†™å’Œ CAS æ‰€å…·æœ‰çš„ volatile è¯»å’Œå†™çš„å†…å­˜è¯­ä¹‰æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚</li></ol><p>AQSï¼Œéé˜»å¡æ•°æ®ç»“æ„å’ŒåŸå­å˜é‡ç±»ï¼ˆjava.util.concurrent.atomic åŒ…ä¸­çš„ç±»ï¼‰ï¼Œè¿™äº› concurrent åŒ…ä¸­çš„åŸºç¡€ç±»éƒ½æ˜¯ä½¿ç”¨è¿™ç§æ¨¡å¼æ¥å®ç°çš„ï¼Œè€Œ concurrent åŒ…ä¸­çš„é«˜å±‚ç±»åˆæ˜¯ä¾èµ–äºè¿™äº›åŸºç¡€ç±»æ¥å®ç°çš„ã€‚ä»æ•´ä½“æ¥çœ‹ï¼Œconcurrent åŒ…çš„å®ç°ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7l42rbpj31160qa77a.jpg" alt="2018-02-28_14-58-32"></p><h3 id="final"><a href="#final" class="headerlink" title="final"></a>final</h3><p>å¯¹äº final åŸŸï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨è¦éµå®ˆä¸¤ä¸ªé‡æ’åºè§„åˆ™ï¼š</p><ol><li>åœ¨æ„é€ å‡½æ•°å†…å¯¹ä¸€ä¸ª final åŸŸçš„å†™å…¥ï¼Œä¸éšåæŠŠè¿™ä¸ªè¢«æ„é€ å¯¹è±¡çš„å¼•ç”¨èµ‹å€¼ç»™ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´ä¸èƒ½é‡æ’åºã€‚</li><li>åˆæ¬¡è¯»ä¸€ä¸ªåŒ…å« final åŸŸçš„å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸éšååˆæ¬¡è¯»è¿™ä¸ª final åŸŸï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´ä¸èƒ½é‡æ’åºã€‚</li></ol><h4 id="å†™-final-åŸŸçš„é‡æ’åºè§„åˆ™"><a href="#å†™-final-åŸŸçš„é‡æ’åºè§„åˆ™" class="headerlink" title="å†™ final åŸŸçš„é‡æ’åºè§„åˆ™"></a>å†™ final åŸŸçš„é‡æ’åºè§„åˆ™</h4><p>å†™ final åŸŸçš„é‡æ’åºè§„åˆ™ç¦æ­¢æŠŠ final åŸŸçš„å†™é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å¤–ã€‚è¿™ä¸ªè§„åˆ™çš„å®ç°åŒ…å«ä¸‹é¢2ä¸ªæ–¹é¢ï¼š</p><ul><li>JMM ç¦æ­¢ç¼–è¯‘å™¨æŠŠ final åŸŸçš„å†™é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å¤–ã€‚</li><li>ç¼–è¯‘å™¨ä¼šåœ¨ final åŸŸçš„å†™ä¹‹åï¼Œæ„é€ å‡½æ•° return ä¹‹å‰ï¼Œæ’å…¥ä¸€ä¸ª StoreStore å±éšœã€‚è¿™ä¸ªå±éšœç¦æ­¢å¤„ç†å™¨æŠŠ final åŸŸçš„å†™é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å¤–ã€‚</li></ul><h4 id="è¯»-final-åŸŸçš„é‡æ’åºè§„åˆ™"><a href="#è¯»-final-åŸŸçš„é‡æ’åºè§„åˆ™" class="headerlink" title="è¯» final åŸŸçš„é‡æ’åºè§„åˆ™"></a>è¯» final åŸŸçš„é‡æ’åºè§„åˆ™</h4><p>åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œåˆæ¬¡è¯»å¯¹è±¡å¼•ç”¨ä¸åˆæ¬¡è¯»è¯¥å¯¹è±¡åŒ…å«çš„ final åŸŸï¼ŒJMM ç¦æ­¢å¤„ç†å™¨é‡æ’åºè¿™ä¸¤ä¸ªæ“ä½œï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªè§„åˆ™ä»…ä»…é’ˆå¯¹å¤„ç†å™¨ï¼‰ã€‚ç¼–è¯‘å™¨ä¼šåœ¨è¯» final åŸŸæ“ä½œçš„å‰é¢æ’å…¥ä¸€ä¸ª LoadLoad å±éšœã€‚</p><h4 id="final-åŸŸæ˜¯å¼•ç”¨ç±»å‹"><a href="#final-åŸŸæ˜¯å¼•ç”¨ç±»å‹" class="headerlink" title="final åŸŸæ˜¯å¼•ç”¨ç±»å‹"></a>final åŸŸæ˜¯å¼•ç”¨ç±»å‹</h4><p>å¯¹äºå¼•ç”¨ç±»å‹ï¼Œå†™ final åŸŸçš„é‡æ’åºè§„åˆ™å¯¹ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¢åŠ äº†å¦‚ä¸‹çº¦æŸï¼š</p><p>åœ¨æ„é€ å‡½æ•°å†…å¯¹ä¸€ä¸ª final å¼•ç”¨çš„å¯¹è±¡çš„æˆå‘˜åŸŸçš„å†™å…¥ï¼Œä¸éšååœ¨æ„é€ å‡½æ•°å¤–æŠŠè¿™ä¸ªè¢«æ„é€ å¯¹è±¡çš„å¼•ç”¨èµ‹å€¼ç»™ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¹‹é—´ä¸èƒ½é‡æ’åºã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><h4 id="JMMï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹ä¸é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¹‹é—´çš„å…³ç³»"><a href="#JMMï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹ä¸é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¹‹é—´çš„å…³ç³»" class="headerlink" title="JMMï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹ä¸é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¹‹é—´çš„å…³ç³»"></a>JMMï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹ä¸é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¹‹é—´çš„å…³ç³»</h4><p>JMM æ˜¯ä¸€ä¸ªè¯­è¨€çº§çš„å†…å­˜æ¨¡å‹ï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹æ˜¯ç¡¬ä»¶çº§çš„å†…å­˜æ¨¡å‹ï¼Œé¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹æ˜¯ä¸€ä¸ªç†è®ºå‚è€ƒæ¨¡å‹ã€‚ä¸‹é¢æ˜¯è¯­è¨€å†…å­˜æ¨¡å‹ï¼Œå¤„ç†å™¨å†…å­˜æ¨¡å‹å’Œé¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹çš„å¼ºå¼±å¯¹æ¯”ç¤ºæ„å›¾ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7l8rgjej30ys0r6n05.jpg" alt="2018-02-28_15-34-39"></p><h4 id="JMM-çš„è®¾è®¡ç¤ºæ„å›¾"><a href="#JMM-çš„è®¾è®¡ç¤ºæ„å›¾" class="headerlink" title="JMM çš„è®¾è®¡ç¤ºæ„å›¾"></a>JMM çš„è®¾è®¡ç¤ºæ„å›¾</h4><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fow7lb5c5kj310y0z4q7w.jpg" alt="jmm-"></p><h4 id="JMM-çš„å†…å­˜å¯è§æ€§ä¿è¯"><a href="#JMM-çš„å†…å­˜å¯è§æ€§ä¿è¯" class="headerlink" title="JMM çš„å†…å­˜å¯è§æ€§ä¿è¯"></a>JMM çš„å†…å­˜å¯è§æ€§ä¿è¯</h4><p>Java ç¨‹åºçš„å†…å­˜å¯è§æ€§ä¿è¯æŒ‰ç¨‹åºç±»å‹å¯ä»¥åˆ†ä¸ºä¸‹åˆ—ä¸‰ç±»ï¼š</p><p>1.å•çº¿ç¨‹ç¨‹åºã€‚å•çº¿ç¨‹ç¨‹åºä¸ä¼šå‡ºç°å†…å­˜å¯è§æ€§é—®é¢˜ã€‚ç¼–è¯‘å™¨ï¼Œruntime å’Œå¤„ç†å™¨ä¼šå…±åŒç¡®ä¿å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœç›¸åŒã€‚</p><p>2.æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºã€‚æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œå°†å…·æœ‰é¡ºåºä¸€è‡´æ€§ï¼ˆç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœç›¸åŒï¼‰ã€‚è¿™æ˜¯ JMM å…³æ³¨çš„é‡ç‚¹ï¼ŒJMMé€šè¿‡é™åˆ¶ç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„é‡æ’åºæ¥ä¸ºç¨‹åºå‘˜æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚</p><p>3.æœªåŒæ­¥/æœªæ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºã€‚JMM ä¸ºå®ƒä»¬æä¾›äº†æœ€å°å®‰å…¨æ€§ä¿éšœï¼šçº¿ç¨‹æ‰§è¡Œæ—¶è¯»å–åˆ°çš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¹‹å‰æŸä¸ªçº¿ç¨‹å†™å…¥çš„å€¼ï¼Œè¦ä¹ˆæ˜¯é»˜è®¤å€¼ï¼ˆ0ï¼Œnullï¼Œfalseï¼‰ã€‚</p><p>ä¸‹å›¾å±•ç¤ºäº†è¿™ä¸‰ç±»ç¨‹åºåœ¨ JMM ä¸­ä¸åœ¨é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœçš„å¼‚åŒï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fow7lgmupij311m0sqtcg.jpg" alt="2018-02-28_15-43-10"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws3.sinaimg.cn/large/006tNc79gy1fow7l5mj64j31hc0zbh9n.jpg&quot; alt=&quot;fairyland-canyon-1632749_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;ã€Šæ·±å…¥ç†è§£ Java å†…å­˜æ¨¡å‹ã€‹ç¨‹æ™“æ˜è‘—ï¼Œè¯¥ä¹¦åœ¨ä»¥å‰çœ‹è¿‡ä¸€éï¼Œç°åœ¨å­¦çš„ä¸œè¥¿è¶Šå¤šï¼Œæ„Ÿè§‰é‚£å—è¶Šé‡è¦ï¼Œäºæ˜¯åˆå†ç»†çœ‹ä¸€éï¼Œäºæ˜¯ä¾¿æœ‰äº†ä¸‹é¢çš„è¯»ä¹¦ç¬”è®°æ€»ç»“ã€‚å…¨ä¹¦é¡µæ•°è™½ä¸å¤šï¼Œå†…å®¹è®²å¾—æŒºæ·±çš„ã€‚ç»†çœ‹çš„è¯ï¼Œä¹Ÿæ˜¯æŒºèŠ±æ—¶é—´çš„ï¼Œçœ‹å®Œæ”¶è·ç»å¯¹æŒºå¤§çš„ã€‚ä¹Ÿå»ºè®® Java å¼€å‘è€…éƒ½å»çœ‹çœ‹ã€‚é‡Œé¢ä¸»è¦æœ‰ Java å†…å­˜æ¨¡å‹çš„åŸºç¡€ã€é‡æ’åºã€é¡ºåºä¸€è‡´æ€§ã€Volatile å…³é”®å­—ã€é”ã€finalã€‚æœ¬æ–‡å‚è€ƒä¹¦ä¸­å†…å®¹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="JMM" scheme="http://yoursite.com/tags/JMM/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bootç³»åˆ—æ–‡ç« ï¼ˆå…­ï¼‰ï¼šSpringBoot RocketMQ æ•´åˆä½¿ç”¨å’Œç›‘æ§</title>
    <link href="http://yoursite.com/2018/02/07/SpringBoot-RocketMQ/"/>
    <id>http://yoursite.com/2018/02/07/SpringBoot-RocketMQ/</id>
    <published>2018-02-06T16:00:00.000Z</published>
    <updated>2018-03-24T02:34:38.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fo8vqfuapwj31hc0zhtro.jpg" alt="photoshop-2845779_1920"></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>é€šè¿‡å‰é¢ä¸¤ç¯‡æ–‡ç« å¯ä»¥ç®€å•çš„äº†è§£ RocketMQ å’Œ å®‰è£… RocketMQ ï¼Œä»Šå¤©å°±å°† SpringBoot å’Œ RocketMQ æ•´åˆèµ·æ¥ä½¿ç”¨ã€‚<br><a id="more"></a></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">SpringBoot Kafka æ•´åˆä½¿ç”¨</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">SpringBoot RabbitMQ æ•´åˆä½¿ç”¨</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/01/27/SpringBoot-ActiveMQ/" target="_blank" rel="noopener">SpringBoot ActiveMQ æ•´åˆä½¿ç”¨</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/01/04/Kafka/" target="_blank" rel="noopener">Kafka å®‰è£…åŠå¿«é€Ÿå…¥é—¨</a></p><p>5ã€<a href="http://www.54tianzhisheng.cn/2018/01/28/RabbitMQ/" target="_blank" rel="noopener">SpringBoot RabbitMQ æ•´åˆè¿›é˜¶ç‰ˆ</a></p><p>6ã€<a href="http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/" target="_blank" rel="noopener">RocketMQ åˆæ¢</a></p><p>7ã€<a href="http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/" target="_blank" rel="noopener">RocketMQ å®‰è£…åŠå¿«é€Ÿå…¥é—¨</a></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/02/07/SpringBoot-RocketMQ/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/07/SpringBoot-RocketMQ/</a></p><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><p>åœ¨ IDEA åˆ›å»ºä¸€ä¸ª SpringBoot é¡¹ç›®ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fo8vq6ufg3j30pe0yoacc.jpg" alt="rocketmq01"></p><h4 id="pom-æ–‡ä»¶"><a href="#pom-æ–‡ä»¶" class="headerlink" title="pom æ–‡ä»¶"></a>pom æ–‡ä»¶</h4><p>å¼•å…¥ RocketMQ çš„ä¸€äº›ç›¸å…³ä¾èµ–ï¼Œæœ€åçš„ pom æ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zhisheng<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rocketmq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>rocketmq<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot RocketMQ<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.rocketmq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rocketmq-common<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.rocketmq<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rocketmq-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>4.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>application.properties ä¸­å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æ¶ˆè´¹è€…çš„ç»„å</span><br><span class="line">apache.rocketmq.consumer.PushConsumer=PushConsumer</span><br><span class="line"># ç”Ÿäº§è€…çš„ç»„å</span><br><span class="line">apache.rocketmq.producer.producerGroup=Producer</span><br><span class="line"># NameServeråœ°å€</span><br><span class="line">apache.rocketmq.namesrvAddr=localhost:9876</span><br></pre></td></tr></table></figure><h4 id="ç”Ÿäº§è€…"><a href="#ç”Ÿäº§è€…" class="headerlink" title="ç”Ÿäº§è€…"></a>ç”Ÿäº§è€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rocketmq.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.producer.DefaultMQProducer;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.common.message.Message;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.remoting.common.RemotingHelper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StopWatch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/2/6</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RocketMQClient</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”Ÿäº§è€…çš„ç»„å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;apache.rocketmq.producer.producerGroup&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String producerGroup;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * NameServer åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;apache.rocketmq.namesrvAddr&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String namesrvAddr;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">defaultMQProducer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//ç”Ÿäº§è€…çš„ç»„å</span></span><br><span class="line">        DefaultMQProducer producer = <span class="keyword">new</span> DefaultMQProducer(producerGroup);</span><br><span class="line">        <span class="comment">//æŒ‡å®šNameServeråœ°å€ï¼Œå¤šä¸ªåœ°å€ä»¥ ; éš”å¼€</span></span><br><span class="line">        producer.setNamesrvAddr(namesrvAddr);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * Producerå¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦è°ƒç”¨startåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–ä¸€æ¬¡å³å¯</span></span><br><span class="line"><span class="comment">             * æ³¨æ„ï¼šåˆ‡è®°ä¸å¯ä»¥åœ¨æ¯æ¬¡å‘é€æ¶ˆæ¯æ—¶ï¼Œéƒ½è°ƒç”¨startæ–¹æ³•</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            producer.start();</span><br><span class="line"></span><br><span class="line">           <span class="comment">//åˆ›å»ºä¸€ä¸ªæ¶ˆæ¯å®ä¾‹ï¼ŒåŒ…å« topicã€tag å’Œ æ¶ˆæ¯ä½“</span></span><br><span class="line">             <span class="comment">//å¦‚ä¸‹ï¼štopic ä¸º "TopicTest"ï¼Œtag ä¸º "push"</span></span><br><span class="line">            Message message = <span class="keyword">new</span> Message(<span class="string">"TopicTest"</span>, <span class="string">"push"</span>, <span class="string">"å‘é€æ¶ˆæ¯----zhisheng-----"</span>.getBytes(RemotingHelper.DEFAULT_CHARSET));</span><br><span class="line"></span><br><span class="line">            StopWatch stop = <span class="keyword">new</span> StopWatch();</span><br><span class="line">            stop.start();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">                SendResult result = producer.send(message);</span><br><span class="line">                System.out.println(<span class="string">"å‘é€å“åº”ï¼šMsgId:"</span> + result.getMsgId() + <span class="string">"ï¼Œå‘é€çŠ¶æ€:"</span> + result.getSendStatus());</span><br><span class="line">            &#125;</span><br><span class="line">            stop.stop();</span><br><span class="line">            System.out.println(<span class="string">"----------------å‘é€ä¸€ä¸‡æ¡æ¶ˆæ¯è€—æ—¶ï¼š"</span> + stop.getTotalTimeMillis());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            producer.shutdown();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¶ˆè´¹è€…"><a href="#æ¶ˆè´¹è€…" class="headerlink" title="æ¶ˆè´¹è€…"></a>æ¶ˆè´¹è€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rocketmq.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.consumer.DefaultMQPushConsumer;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.consumer.listener.ConsumeConcurrentlyStatus;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.client.consumer.listener.MessageListenerConcurrently;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.common.consumer.ConsumeFromWhere;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.common.message.MessageExt;</span><br><span class="line"><span class="keyword">import</span> org.apache.rocketmq.remoting.common.RemotingHelper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/2/6</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RocketMQServer</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¶ˆè´¹è€…çš„ç»„å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;apache.rocketmq.consumer.PushConsumer&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String consumerGroup;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * NameServer åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;apache.rocketmq.namesrvAddr&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String namesrvAddr;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">defaultMQPushConsumer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æ¶ˆè´¹è€…çš„ç»„å</span></span><br><span class="line">        DefaultMQPushConsumer consumer = <span class="keyword">new</span> DefaultMQPushConsumer(consumerGroup);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æŒ‡å®šNameServeråœ°å€ï¼Œå¤šä¸ªåœ°å€ä»¥ ; éš”å¼€</span></span><br><span class="line">        consumer.setNamesrvAddr(namesrvAddr);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è®¢é˜…PushTopicä¸‹Tagä¸ºpushçš„æ¶ˆæ¯</span></span><br><span class="line">            consumer.subscribe(<span class="string">"TopicTest"</span>, <span class="string">"push"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è®¾ç½®Consumerç¬¬ä¸€æ¬¡å¯åŠ¨æ˜¯ä»é˜Ÿåˆ—å¤´éƒ¨å¼€å§‹æ¶ˆè´¹è¿˜æ˜¯é˜Ÿåˆ—å°¾éƒ¨å¼€å§‹æ¶ˆè´¹</span></span><br><span class="line">            <span class="comment">//å¦‚æœéç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸Šæ¬¡æ¶ˆè´¹çš„ä½ç½®ç»§ç»­æ¶ˆè´¹</span></span><br><span class="line">            consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);</span><br><span class="line">            consumer.registerMessageListener((MessageListenerConcurrently) (list, context) -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">for</span> (MessageExt messageExt : list) &#123;</span><br><span class="line"></span><br><span class="line">                        System.out.println(<span class="string">"messageExt: "</span> + messageExt);<span class="comment">//è¾“å‡ºæ¶ˆæ¯å†…å®¹</span></span><br><span class="line"></span><br><span class="line">                        String messageBody = <span class="keyword">new</span> String(messageExt.getBody(), RemotingHelper.DEFAULT_CHARSET);</span><br><span class="line"></span><br><span class="line">                        System.out.println(<span class="string">"æ¶ˆè´¹å“åº”ï¼šmsgId : "</span> + messageExt.getMsgId() + <span class="string">",  msgBody : "</span> + messageBody);<span class="comment">//è¾“å‡ºæ¶ˆæ¯å†…å®¹</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="keyword">return</span> ConsumeConcurrentlyStatus.RECONSUME_LATER; <span class="comment">//ç¨åå†è¯•</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> ConsumeConcurrentlyStatus.CONSUME_SUCCESS; <span class="comment">//æ¶ˆè´¹æˆåŠŸ</span></span><br><span class="line">            &#125;);</span><br><span class="line">            consumer.start();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨ç±»"><a href="#å¯åŠ¨ç±»" class="headerlink" title="å¯åŠ¨ç±»"></a>å¯åŠ¨ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rocketmq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RocketmqApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SpringApplication.run(RocketmqApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RocketMQ"><a href="#RocketMQ" class="headerlink" title="RocketMQ"></a>RocketMQ</h3><p>ä»£ç å·²ç»éƒ½å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†ä¸ RocketMQ æœ‰å…³çš„å¯åŠ¨èµ·æ¥ã€‚</p><h4 id="å¯åŠ¨-Name-Server"><a href="#å¯åŠ¨-Name-Server" class="headerlink" title="å¯åŠ¨ Name Server"></a>å¯åŠ¨ Name Server</h4><p>åœ¨å‰é¢æ–‡ç« ä¸­å·²ç»å†™è¿‡æ€ä¹ˆå¯åŠ¨ï¼Œ<a href="http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/#%E5%90%AF%E5%8A%A8-NameServer" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/#%E5%90%AF%E5%8A%A8-NameServer</a></p><p>è¿›å…¥åˆ°ç›®å½• ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd distribution/target/apache-rocketmq</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup sh bin/mqnamesrv &amp;</span><br><span class="line"></span><br><span class="line">tail -f ~/logs/rocketmqlogs/namesrv.log //é€šè¿‡æ—¥å¿—æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸ</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨-Broker"><a href="#å¯åŠ¨-Broker" class="headerlink" title="å¯åŠ¨ Broker"></a>å¯åŠ¨ Broker</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br><span class="line"></span><br><span class="line">tail -f ~/logs/rocketmqlogs/broker.log//é€šè¿‡æ—¥å¿—æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸ</span><br></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œå¯åŠ¨ç±»ï¼Œè¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fo8vqiq0jvj31kw0x1x6m.jpg" alt="2018-02-07_22-21-14"></p><h3 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h3><p>RocketMQæœ‰ä¸€ä¸ªå¯¹å…¶æ‰©å±•çš„å¼€æºé¡¹ç›® ocketmq-console ï¼Œå¦‚ä»Šä¹Ÿæäº¤ç»™äº† Apache ï¼Œåœ°å€åœ¨ï¼š<a href="">https://github.com/apache/rocketmq-externals/tree/master/rocketmq-console</a> ï¼Œå®˜æ–¹ä¹Ÿç»™å‡ºäº†å…¶æ”¯æŒçš„åŠŸèƒ½çš„ä¸­æ–‡æ–‡æ¡£ï¼š<a href="">https://github.com/apache/rocketmq-externals/blob/master/rocketmq-console/doc/1_0_0/UserGuide_CN.md</a> ï¼Œ é‚£ä¹ˆè¯¥å¦‚ä½•å®‰è£…ï¼Ÿ</p><h4 id="Docker-å®‰è£…"><a href="#Docker-å®‰è£…" class="headerlink" title="Docker å®‰è£…"></a>Docker å®‰è£…</h4><p>1ã€è·å– Docker é•œåƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull styletang/rocketmq-console-ng</span><br></pre></td></tr></table></figure><p>2ã€è¿è¡Œï¼Œæ³¨æ„å°†ä½ è‡ªå·±çš„ NameServer åœ°å€æ›¿æ¢ä¸‹é¢çš„ 127.0.0.1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -e &quot;JAVA_OPTS=-Drocketmq.namesrv.addr=127.0.0.1:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false&quot; -p 8080:8080 -t styletang/rocketmq-console-ng</span><br></pre></td></tr></table></figure><h4 id="é-Docker-å®‰è£…"><a href="#é-Docker-å®‰è£…" class="headerlink" title="é Docker å®‰è£…"></a>é Docker å®‰è£…</h4><p>æˆ‘ä»¬ git clone ä¸€ä»½ä»£ç åˆ°æœ¬åœ°ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/apache/rocketmq-externals.git</span><br><span class="line"></span><br><span class="line">cd rocketmq-externals/rocketmq-console/</span><br></pre></td></tr></table></figure><p>éœ€è¦ jdk 1.7 ä»¥ä¸Šã€‚  æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn spring-boot:run</span><br></pre></td></tr></table></figure><p>æˆ–è€…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package -Dmaven.test.skip=true</span><br><span class="line"></span><br><span class="line">java -jar target/rocketmq-console-ng-1.0.0.jar</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><p>1ã€å¦‚æœä½ ä¸‹è½½ä¾èµ–ç¼“æ…¢ï¼Œä½ å¯ä»¥é‡æ–°è®¾ç½® maven çš„ mirror ä¸ºé˜¿é‡Œäº‘çš„é•œåƒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€å¦‚æœä½ ä½¿ç”¨çš„ RocketMQ ç‰ˆæœ¬å°äº 3.5.8ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ rocketmq &lt; 3.5.8ï¼Œè¯·åœ¨å¯åŠ¨ rocketmq-console-ng æ—¶æ·»åŠ  <code>-Dcom.rocketmq.sendMessageWithVIPChannel = false</code>ï¼ˆæˆ–è€…æ‚¨å¯ä»¥åœ¨ ops é¡µé¢ä¸­æ›´æ”¹å®ƒï¼‰</p><p>3ã€æ›´æ”¹ resource / application.properties ä¸­çš„ rocketmq.config.namesrvAddrï¼ˆæˆ–è€…å¯ä»¥åœ¨opsé¡µé¢ä¸­æ›´æ”¹å®ƒï¼‰</p><h3 id="é”™è¯¯è§£å†³æ–¹æ³•"><a href="#é”™è¯¯è§£å†³æ–¹æ³•" class="headerlink" title="é”™è¯¯è§£å†³æ–¹æ³•"></a>é”™è¯¯è§£å†³æ–¹æ³•</h3><p>1ã€Docker å¯åŠ¨é¡¹ç›®æŠ¥é”™</p><p><code>org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to &lt;null&gt; failed</code></p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fo8vqhpxcrj31kw0qc4ln.jpg" alt="2018-02-07_23-28-51"></p><p>å°† Docker å¯åŠ¨å‘½ä»¤æ”¹æˆå¦‚ä¸‹ä»¥åï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -e &quot;JAVA_OPTS=-Drocketmq.config.namesrvAddr=127.0.0.1:9876 -Drocketmq.config.isVIPChannel=false&quot; -p 8080:8080 -t styletang/rocketmq-console-ng</span><br></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯æ”¹å˜äº†ï¼Œæ–°çš„æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ERROR op=global_exception_handler_print_error</span><br><span class="line"></span><br><span class="line">org.apache.rocketmq.console.exception.ServiceException: This date have&apos;t data!</span><br></pre></td></tr></table></figure><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fo8vql4zvij31kw0vz1kx.jpg" alt="2018-02-08_00-23-15"></p><p>çœ‹åˆ°ç½‘ä¸Šæœ‰äººä¹Ÿé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬éƒ½é€šè¿‡è‡ªå·±çš„æ–¹å¼è§£å†³äº†ï¼Œä½†æ˜¯æ–¹æ³•æˆ‘éƒ½è¯•äº†ï¼Œä¸é€‚åˆæˆ‘ã€‚ä¸å¾—ä¸è¯´ï¼Œé˜¿é‡Œï¼Œä½ èƒ½å†ç”¨å¿ƒç‚¹å—ï¼Ÿæ—¢ç„¶æŠŠ RocketMQ æç»™ Apache äº†ï¼Œè¿™äº›æ–‡æ¡£å•¥çš„éƒ½å¿…é¡»æ›´æ–°å•Šï¼Œä¸è¦è¿˜æ»åç€å‘¢ï¼Œä¸ç„¶å°‘ä¸äº†è¢«åæ§½ï¼</p><p> æäº†å¾ˆä¹…è¿™ç§æ–¹æ³•æ²¡æˆåŠŸï¼Œæš‚æ—¶æ”¾å¼ƒï¼mmp</p><p>2ã€é Docker å®‰è£…ï¼Œåªå¥½æŠŠæºç ç¼–è¯‘æ‰“åŒ…äº†ã€‚</p><p>1) æ³¨æ„éœ€è¦ä¿®æ”¹å¦‚ä¸‹å›¾ä¸­çš„é…ç½®ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vq7xv71j31kw0nktmi.jpg" alt="2018-02-08_10-26-03"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rocketmq.config.namesrvAddr=localhost:9876//æ³¨æ„æ›¿æ¢ä½ è‡ªå·±çš„ip</span><br><span class="line"></span><br><span class="line">#å¦‚æœä½  rocketmq ç‰ˆæœ¬å°äº 3.5.8 æ‰éœ€è®¾ç½® `rocketmq.config.isVIPChannel` ä¸º falseï¼Œé»˜è®¤æ˜¯ true, è¿™ä¸ªå¯ä»¥åœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°çš„</span><br><span class="line">rocketmq.config.isVIPChannel=</span><br></pre></td></tr></table></figure><p>2) æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean package -Dmaven.test.skip=true</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘æˆåŠŸï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vqk3r9ej31kw0tsh2z.jpg" alt="2018-02-08_10-41-35"></p><p>å¯ä»¥çœ‹åˆ°å·²ç»æ‰“å¥½äº† jar åŒ…ï¼š</p><p>è¿è¡Œï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar rocketmq-console-ng-1.0.0.jar</span><br></pre></td></tr></table></figure><p>æˆåŠŸï¼Œä¸æŠ¥é”™äº†ï¼Œå¼€å¿ƒğŸ˜„ï¼Œè®¿é—® <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vqdzp1kj31kw0vyqap.jpg" alt="2018-02-08_11-06-26"></p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fo8vqlthfqj31e20liwgz.jpg" alt="2018-02-08_11-08-01"></p><p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fo8vqgsrl8j31kw09pjur.jpg" alt="2018-02-08_11-09-16"></p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fo8vqaazsyj31kw0p8qce.jpg" alt="2018-02-08_11-09-31"></p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fo8vqbosxvj31kw0vowp0.jpg" alt="2018-02-08_11-09-47"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vqet48yj31kw0bsmzk.jpg" alt="2018-02-08_11-10-03"></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vq8q3v9j31kw0dfn0m.jpg" alt="2018-02-08_11-10-22"></p><p>æ•´ä¸ªç›‘æ§å¤§æ¦‚å°±æ˜¯è¿™äº›äº†ã€‚</p><p>ç„¶åæˆ‘è¿è¡Œä¹‹å‰çš„ SpringBoot æ•´åˆé¡¹ç›®ï¼ŒæŸ¥çœ‹ç›‘æ§ä¿¡æ¯å¦‚ä¸‹ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fo8vqcyj00j31kw0up46m.jpg" alt="2018-02-08_11-22-11"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ•´ç¯‡æ–‡ç« è®²è¿°äº† SpringBoot ä¸ RocketMQ æ•´åˆå’Œ RocketMQ ç›‘æ§å¹³å°çš„æ­å»ºã€‚</p><h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><p>1ã€<a href="">http://www.ymq.io/2018/02/02/spring-boot-rocketmq-example/#%E6%96%B0%E5%8A%A0%E9%A1%B9%E7%9B%AE</a></p><p>2ã€GitHub å®˜æ–¹ README</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws2.sinaimg.cn/large/006tNc79gy1fo8vqfuapwj31hc0zhtro.jpg&quot; alt=&quot;photoshop-2845779_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;é€šè¿‡å‰é¢ä¸¤ç¯‡æ–‡ç« å¯ä»¥ç®€å•çš„äº†è§£ RocketMQ å’Œ å®‰è£… RocketMQ ï¼Œä»Šå¤©å°±å°† SpringBoot å’Œ RocketMQ æ•´åˆèµ·æ¥ä½¿ç”¨ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
      <category term="RocketMQ" scheme="http://yoursite.com/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>RocketMQç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šRocketMQ ç®€å•çš„æ¶ˆæ¯ç¤ºä¾‹</title>
    <link href="http://yoursite.com/2018/02/07/rocketmq-example/"/>
    <id>http://yoursite.com/2018/02/07/rocketmq-example/</id>
    <published>2018-02-06T16:00:00.000Z</published>
    <updated>2018-03-24T02:36:27.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fo6h2isc2lj31hc0vhaqg.jpg" alt="father-and-son-2258681_1920"></p><p>ä½¿ç”¨ RocketMQ ä»¥ä¸‰ç§æ–¹å¼å‘é€æ¶ˆæ¯ï¼šå¯é çš„åŒæ­¥ï¼Œå¯é çš„å¼‚æ­¥å’Œå•å‘ä¼ è¾“ã€‚<br><a id="more"></a></p><h3 id="å¯é çš„åŒæ­¥ä¼ è¾“"><a href="#å¯é çš„åŒæ­¥ä¼ è¾“" class="headerlink" title="å¯é çš„åŒæ­¥ä¼ è¾“"></a>å¯é çš„åŒæ­¥ä¼ è¾“</h3><p>åº”ç”¨ï¼šå¯é çš„åŒæ­¥ä¼ è¾“å¹¿æ³›åº”ç”¨äºé‡è¦é€šçŸ¥æ¶ˆæ¯ï¼ŒçŸ­ä¿¡é€šçŸ¥ï¼ŒçŸ­ä¿¡è¥é”€ç³»ç»Ÿç­‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyncProducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//Instantiate with a producer group name.</span></span><br><span class="line">        DefaultMQProducer producer = <span class="keyword">new</span></span><br><span class="line">            DefaultMQProducer(<span class="string">"please_rename_unique_group_name"</span>);</span><br><span class="line">        <span class="comment">//Launch the instance.</span></span><br><span class="line">        producer.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//Create a message instance, specifying topic, tag and message body.</span></span><br><span class="line">            Message msg = <span class="keyword">new</span> Message(<span class="string">"TopicTest"</span> <span class="comment">/* Topic */</span>,</span><br><span class="line">                <span class="string">"TagA"</span> <span class="comment">/* Tag */</span>,</span><br><span class="line">                (<span class="string">"Hello RocketMQ "</span> +</span><br><span class="line">                    i).getBytes(RemotingHelper.DEFAULT_CHARSET) <span class="comment">/* Message body */</span></span><br><span class="line">            );</span><br><span class="line">            <span class="comment">//Call send message to deliver message to one of brokers.</span></span><br><span class="line">            SendResult sendResult = producer.send(msg);</span><br><span class="line">            System.out.printf(<span class="string">"%s%n"</span>, sendResult);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Shut down once the producer instance is not longer in use.</span></span><br><span class="line">        producer.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯é çš„å¼‚æ­¥ä¼ è¾“"><a href="#å¯é çš„å¼‚æ­¥ä¼ è¾“" class="headerlink" title="å¯é çš„å¼‚æ­¥ä¼ è¾“"></a>å¯é çš„å¼‚æ­¥ä¼ è¾“</h3><p>åº”ç”¨ï¼šå¼‚æ­¥ä¼ è¾“ä¸€èˆ¬ç”¨äºå“åº”æ—¶é—´æ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AsyncProducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//Instantiate with a producer group name.</span></span><br><span class="line">        DefaultMQProducer producer = <span class="keyword">new</span> DefaultMQProducer(<span class="string">"ExampleProducerGroup"</span>);</span><br><span class="line">        <span class="comment">//Launch the instance.</span></span><br><span class="line">        producer.start();</span><br><span class="line">        producer.setRetryTimesWhenSendAsyncFailed(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">                <span class="keyword">final</span> <span class="keyword">int</span> index = i;</span><br><span class="line">                <span class="comment">//Create a message instance, specifying topic, tag and message body.</span></span><br><span class="line">                Message msg = <span class="keyword">new</span> Message(<span class="string">"TopicTest"</span>,</span><br><span class="line">                    <span class="string">"TagA"</span>,</span><br><span class="line">                    <span class="string">"OrderID188"</span>,</span><br><span class="line">                    <span class="string">"Hello world"</span>.getBytes(RemotingHelper.DEFAULT_CHARSET));</span><br><span class="line">                producer.send(msg, <span class="keyword">new</span> SendCallback() &#123;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(SendResult sendResult)</span> </span>&#123;</span><br><span class="line">                        System.out.printf(<span class="string">"%-10d OK %s %n"</span>, index,</span><br><span class="line">                            sendResult.getMsgId());</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="meta">@Override</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onException</span><span class="params">(Throwable e)</span> </span>&#123;</span><br><span class="line">                        System.out.printf(<span class="string">"%-10d Exception %s %n"</span>, index, e);</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Shut down once the producer instance is not longer in use.</span></span><br><span class="line">        producer.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å•å‘ä¼ è¾“"><a href="#å•å‘ä¼ è¾“" class="headerlink" title="å•å‘ä¼ è¾“"></a>å•å‘ä¼ è¾“</h3><p>åº”ç”¨ï¼šå•å‘ä¼ è¾“ç”¨äºéœ€è¦ä¸­ç­‰å¯é æ€§çš„æƒ…å†µï¼Œä¾‹å¦‚æ—¥å¿—æ”¶é›†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OnewayProducer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="comment">//Instantiate with a producer group name.</span></span><br><span class="line">        DefaultMQProducer producer = <span class="keyword">new</span> DefaultMQProducer(<span class="string">"ExampleProducerGroup"</span>);</span><br><span class="line">        <span class="comment">//Launch the instance.</span></span><br><span class="line">        producer.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//Create a message instance, specifying topic, tag and message body.</span></span><br><span class="line">            Message msg = <span class="keyword">new</span> Message(<span class="string">"TopicTest"</span> <span class="comment">/* Topic */</span>,</span><br><span class="line">                <span class="string">"TagA"</span> <span class="comment">/* Tag */</span>,</span><br><span class="line">                (<span class="string">"Hello RocketMQ "</span> +</span><br><span class="line">                    i).getBytes(RemotingHelper.DEFAULT_CHARSET) <span class="comment">/* Message body */</span></span><br><span class="line">            );</span><br><span class="line">            <span class="comment">//Call send message to deliver message to one of brokers.</span></span><br><span class="line">            producer.sendOneway(msg);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Shut down once the producer instance is not longer in use.</span></span><br><span class="line">        producer.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡æ˜¯ RocketMQ çš„ä¸‰ç§å‘é€æ¶ˆæ¯çš„æ–¹å¼ã€‚</p><p>è½¬å‘è¯·æ³¨æ˜åœ°å€ï¼š<a href="http://www.54tianzhisheng.cn/2018/02/07/rocketmq-example/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/07/rocketmq-example/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws4.sinaimg.cn/large/006tKfTcgy1fo6h2isc2lj31hc0vhaqg.jpg&quot; alt=&quot;father-and-son-2258681_1920&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ RocketMQ ä»¥ä¸‰ç§æ–¹å¼å‘é€æ¶ˆæ¯ï¼šå¯é çš„åŒæ­¥ï¼Œå¯é çš„å¼‚æ­¥å’Œå•å‘ä¼ è¾“ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="RocketMQ" scheme="http://yoursite.com/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>RocketMQç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šRocketMQ å®‰è£…åŠå¿«é€Ÿå…¥é—¨</title>
    <link href="http://yoursite.com/2018/02/06/RocketMQ-install/"/>
    <id>http://yoursite.com/2018/02/06/RocketMQ-install/</id>
    <published>2018-02-05T16:00:00.000Z</published>
    <updated>2018-03-24T02:36:03.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo5pxy3w8oj31hc0u0b29.jpg" alt="tree-3097419_1920"></p><p>å¦‚æœä½ å¯¹ RocketMQ è¿˜æ²¡äº†è§£ï¼Œå»ºè®®å…ˆçœ‹ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/" target="_blank" rel="noopener">RocketMQ åˆæ¢</a></p><a id="more"></a><h3 id="å®‰è£…æ¡ä»¶"><a href="#å®‰è£…æ¡ä»¶" class="headerlink" title="å®‰è£…æ¡ä»¶"></a>å®‰è£…æ¡ä»¶</h3><ol><li>64ä½æ“ä½œç³»ç»Ÿï¼Œå»ºè®®ä½¿ç”¨ Linux / Unix / Mac;</li><li>64ä½JDK 1.8+;</li><li>Maven 3.2.x</li></ol><h3 id="ä¸‹è½½å’Œæ„å»º"><a href="#ä¸‹è½½å’Œæ„å»º" class="headerlink" title="ä¸‹è½½å’Œæ„å»º"></a>ä¸‹è½½å’Œæ„å»º</h3><p>ä» <a href="https://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-source-release.zip" target="_blank" rel="noopener">https://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-source-release.zip</a> ä¸‹è½½ 4.2.0 çš„æºç ç‰ˆæœ¬ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è§£å‹4.2.0æºç ç‰ˆæœ¬å¹¶æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">unzip rocketmq-all-4.2.0-source-release.zip</span><br><span class="line"></span><br><span class="line">cd rocketmq-all-4.2.0/</span><br><span class="line"></span><br><span class="line">mvn -Prelease-all -DskipTests clean install -U</span><br></pre></td></tr></table></figure><p>æ„å»ºæˆåŠŸå¦‚ä¸‹ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fo7ukit9wbj31kw14o7l8.jpg" alt="2018-02-07_14-04-25"></p><p>è¿›å…¥åˆ°ç›®å½• ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd distribution/target/apache-rocketmq</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨-NameServer"><a href="#å¯åŠ¨-NameServer" class="headerlink" title="å¯åŠ¨ NameServer"></a>å¯åŠ¨ NameServer</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup sh bin/mqnamesrv &amp;</span><br><span class="line"></span><br><span class="line">tail -f ~/logs/rocketmqlogs/namesrv.log</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹å°±ä»£è¡¨å¯åŠ¨æˆåŠŸäº†ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fo5pxzbap2j31kw0h413p.jpg" alt="rocketmq01"></p><h3 id="å¯åŠ¨-Broker"><a href="#å¯åŠ¨-Broker" class="headerlink" title="å¯åŠ¨ Broker"></a>å¯åŠ¨ Broker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nohup sh bin/mqbroker -n localhost:9876 &amp;</span><br><span class="line"></span><br><span class="line">tail -f ~/logs/rocketmqlogs/broker.log</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹å°±ä»£è¡¨å¯åŠ¨æˆåŠŸäº†ï¼šä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ° broker æ³¨å†Œåˆ°äº† nameserver ä¸Šäº†ï¼ˆlocalhost:9876ï¼‰</p><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fo5pxt2wavj31kw0jeqi0.jpg" alt="rocketmq02"></p><h3 id="å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"><a href="#å‘é€å’Œæ¥æ”¶æ¶ˆæ¯" class="headerlink" title="å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"></a>å‘é€å’Œæ¥æ”¶æ¶ˆæ¯</h3><p>åœ¨å‘é€/æ¥æ”¶æ¶ˆæ¯ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰å®¢æˆ·åç§°æœåŠ¡å™¨çš„ä½ç½®ã€‚RocketMQ æä¾›äº†å¤šç§æ–¹æ³•æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¯å¢ƒå˜é‡<code>NAMESRV_ADDR</code></p><h4 id="å‘é€æ¶ˆæ¯"><a href="#å‘é€æ¶ˆæ¯" class="headerlink" title="å‘é€æ¶ˆæ¯"></a>å‘é€æ¶ˆæ¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export NAMESRV_ADDR=localhost:9876</span><br><span class="line"></span><br><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer</span><br></pre></td></tr></table></figure><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo5py0e7lgj31kw0d47j2.jpg" alt="rocketmq03"></p><h4 id="æ¥æ”¶æ¶ˆæ¯"><a href="#æ¥æ”¶æ¶ˆæ¯" class="headerlink" title="æ¥æ”¶æ¶ˆæ¯"></a>æ¥æ”¶æ¶ˆæ¯</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer</span><br></pre></td></tr></table></figure><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fo5pxwox08j31kw0rib29.jpg" alt="rocketmq04"></p><h3 id="å…³é—­æœåŠ¡å™¨"><a href="#å…³é—­æœåŠ¡å™¨" class="headerlink" title="å…³é—­æœåŠ¡å™¨"></a>å…³é—­æœåŠ¡å™¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sh bin/mqshutdown broker//åœæ­¢ broker</span><br><span class="line"></span><br><span class="line">sh bin/mqshutdown namesrv//åœæ­¢ nameserver</span><br></pre></td></tr></table></figure><p> å…³é—­æˆåŠŸåå¦‚ä¸‹ï¼š</p><p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fo5pxsgyywj31kw0b5dov.jpg" alt="rocketmq05"></p><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>ä¸Šé¢å‡ ä¸ªå¯åŠ¨å’Œå…³é—­ name server å’Œ broker çš„å°±ä¸å†è¯´äº†ï¼Œ</p><ul><li>æŸ¥çœ‹é›†ç¾¤æƒ…å†µ  <code>./mqadmin clusterList -n 127.0.0.1:9876</code></li><li>æŸ¥çœ‹ broker çŠ¶æ€   <code>./mqadmin brokerStatus -n 127.0.0.1:9876 -b 172.20.1.138:10911</code>   (æ³¨æ„æ¢æˆä½ çš„ broker åœ°å€)</li><li>æŸ¥çœ‹ topic åˆ—è¡¨    <code>./mqadmin topicList -n 127.0.0.1:9876</code></li><li>æŸ¥çœ‹ topic çŠ¶æ€    <code>./mqadmin topicStatus -n 127.0.0.1:9876 -t  MyTopic</code>  (æ¢æˆä½ æƒ³æŸ¥è¯¢çš„ topic)</li><li>æŸ¥çœ‹ topic è·¯ç”±    <code>./mqadmin topicRoute  -n 127.0.0.1:9876 -t  MyTopic</code></li></ul><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡æ˜¯ RocketMQ çš„å®‰è£…åŠå¿«é€Ÿå…¥é—¨æ¡ˆä¾‹ã€‚</p><p>è½¬å‘è¯·æ³¨æ˜åœ°å€ï¼š<a href="http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/06/RocketMQ-install/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws3.sinaimg.cn/large/006tKfTcgy1fo5pxy3w8oj31hc0u0b29.jpg&quot; alt=&quot;tree-3097419_1920&quot;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¯¹ RocketMQ è¿˜æ²¡äº†è§£ï¼Œå»ºè®®å…ˆçœ‹ä¸‹ä¸Šä¸€ç¯‡æ–‡ç« ï¼š&lt;a href=&quot;http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;RocketMQ åˆæ¢&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="RocketMQ" scheme="http://yoursite.com/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>RocketMQç³»åˆ—æ–‡ç« ï¼ˆä¸€ï¼‰ï¼šRocketMQ åˆæ¢</title>
    <link href="http://yoursite.com/2018/02/05/RocketMQ/"/>
    <id>http://yoursite.com/2018/02/05/RocketMQ/</id>
    <published>2018-02-04T16:00:00.000Z</published>
    <updated>2018-03-24T02:35:31.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo4vbrj17mj31hc0zj7hb.jpg" alt="gooafoss-1840758_1920"></p><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>RocketMQ æ˜¯é˜¿é‡Œå¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå‰ä¸ä¹…æçŒ®ç»™äº† Apache ã€‚æ­£å¦‚<a href="http://rocketmq.apache.org/" target="_blank" rel="noopener">å®˜ç½‘</a>ä»‹ç»å¦‚ä¸‹ï¼šå®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’å’Œæµå¼æ•°æ®å¹³å°ã€‚</p><a id="more"></a><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo4vbtu01lj31kw0jbjzw.jpg" alt="rocketmq01"></p><p>ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fo4vbvbgisj31kw0yw7c9.jpg" alt="rocketmq02"></p><h3 id="äº§å“å‘å±•å†å²"><a href="#äº§å“å‘å±•å†å²" class="headerlink" title="äº§å“å‘å±•å†å²"></a>äº§å“å‘å±•å†å²</h3><p>å¤§çº¦ç»å†äº†ä¸‰ä¸ªä¸»è¦ç‰ˆæœ¬è¿­ä»£</p><p><strong>ä¸€ã€Metaqï¼ˆMetamorphosisï¼‰1.x</strong></p><p>ç”±å¼€æºç¤¾åŒºkillme2008ç»´æŠ¤ï¼Œå¼€æºç¤¾åŒºéå¸¸æ´»è·ƒã€‚</p><p><strong>äºŒã€Metaq 2.x</strong></p><p>äº2012å¹´10æœˆä»½ä¸Šçº¿ï¼Œåœ¨æ·˜å®å†…éƒ¨è¢«å¹¿æ³›ä½¿ç”¨ã€‚</p><p><strong>ä¸‰ã€RocketMQ 3.x</strong></p><p>åŸºäºå…¬å¸å†…éƒ¨å¼€æºå…±å»ºåŸåˆ™ï¼ŒRocketMQ é¡¹ç›®åªç»´æŠ¤æ ¸å¿ƒåŠŸèƒ½ï¼Œä¸”å»é™¤äº†æ‰€æœ‰å…¶ä»–è¿è¡Œæ—¶ä¾èµ–ï¼Œæ ¸å¿ƒåŠŸèƒ½æœ€ç®€åŒ–ã€‚æ¯ä¸ª BU çš„ä¸ªæ€§åŒ–éœ€æ±‚éƒ½åœ¨ RocketMQ é¡¹ç›®ä¹‹ä¸Šè¿›è¡Œæ·±åº¦å®šåˆ¶ã€‚RocketMQ å‘å…¶ä»– BU æä¾›çš„ä»…ä»…æ˜¯ Jar åŒ…ï¼Œä¾‹å¦‚è¦å®šåˆ¶ä¸€ä¸ª Brokerï¼Œé‚£ä¹ˆåªéœ€è¦ä¾èµ– rocketmq-broker è¿™ä¸ª jar åŒ…å³å¯ï¼Œå¯é€šè¿‡ API è¿›è¡Œäº¤äº’ï¼Œå¦‚æœå®šåˆ¶ clientï¼Œåˆ™ä¾èµ– rocketmq-client è¿™ä¸ª jar åŒ…ï¼Œå¯¹å…¶æä¾›çš„ api è¿›è¡Œå†å°è£…ã€‚</p><p>åœ¨ RocketMQ é¡¹ç›®åŸºç¡€ä¸Šè¡ç”Ÿçš„é¡¹ç›®å¦‚ä¸‹</p><ul><li><p>com.taobao.metaq v3.0 = RocketMQ + æ·˜å®ä¸ªæ€§åŒ–éœ€æ±‚</p><p>ä¸º<strong>æ·˜å®</strong>åº”ç”¨æä¾›æ¶ˆæ¯æœåŠ¡</p></li><li><p>com.alipay.zpullmsg v1.0 =RocketMQ + æ”¯ä»˜å®ä¸ªæ€§åŒ–éœ€æ±‚</p><p>ä¸º<strong>æ”¯ä»˜å®</strong>åº”ç”¨æä¾›æ¶ˆæ¯æœåŠ¡</p></li><li><p>com.alibaba.commonmq v1.0 = Notify + RocketMQ + B2Bä¸ªæ€§åŒ–éœ€æ±‚</p><p>ä¸º <strong>B2B</strong> åº”ç”¨æä¾›æ¶ˆæ¯æœåŠ¡</p></li></ul><p><strong>å››ã€RocketMQ 3.x</strong></p><p>ç›®å‰å®ƒçš„æœ€æ–°ç‰ˆæœ¬æ˜¯ 4.2 ç‰ˆæœ¬ã€‚</p><h3 id="æ¦‚å¿µä¸“ä¸šæœ¯è¯­"><a href="#æ¦‚å¿µä¸“ä¸šæœ¯è¯­" class="headerlink" title="æ¦‚å¿µä¸“ä¸šæœ¯è¯­"></a>æ¦‚å¿µä¸“ä¸šæœ¯è¯­</h3><p><strong>Producer</strong></p><p>æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ï¼Œä¸€èˆ¬ç”±ä¸šåŠ¡ç³»ç»Ÿè´Ÿè´£äº§ç”Ÿæ¶ˆæ¯ã€‚</p><p><strong>Consumer</strong></p><p>æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œè´Ÿè´£æ¶ˆè´¹æ¶ˆæ¯ï¼Œä¸€èˆ¬æ˜¯åå°ç³»ç»Ÿè´Ÿè´£å¼‚æ­¥æ¶ˆè´¹ã€‚</p><p><strong>Push Consumer</strong></p><p>Consumer çš„ä¸€ç§ï¼Œåº”ç”¨é€šå¸¸å‘ Consumer å¯¹è±¡æ³¨å†Œä¸€ä¸ª Listener æ¥å£ï¼Œä¸€æ—¦æ”¶åˆ°æ¶ˆæ¯ï¼ŒConsumer å¯¹è±¡ç«‹åˆ»å›è°ƒ Listener æ¥å£æ–¹æ³•ã€‚</p><p><strong>Pull Consumer</strong></p><p>Consumer çš„ä¸€ç§ï¼Œåº”ç”¨é€šå¸¸ä¸»åŠ¨è°ƒç”¨ Consumer çš„æ‹‰æ¶ˆæ¯æ–¹æ³•ä» Broker æ‹‰æ¶ˆæ¯ï¼Œä¸»åŠ¨æƒç”±åº”ç”¨æ§åˆ¶ã€‚</p><p><strong>Producer Group</strong></p><p>ä¸€ç±» Producer çš„é›†åˆåç§°ï¼Œè¿™ç±» Producer é€šå¸¸å‘é€ä¸€ç±»æ¶ˆæ¯ï¼Œä¸”å‘é€é€»è¾‘ä¸€è‡´ã€‚</p><p><strong>Consumer Group</strong></p><p>ä¸€ç±» Consumer çš„é›†åˆåç§°ï¼Œè¿™ç±» Consumer é€šå¸¸æ¶ˆè´¹ä¸€ç±»æ¶ˆæ¯ï¼Œä¸”æ¶ˆè´¹é€»è¾‘ä¸€è‡´ã€‚</p><p><strong>Broker</strong></p><p>æ¶ˆæ¯ä¸­è½¬è§’è‰²ï¼Œè´Ÿè´£å­˜å‚¨æ¶ˆæ¯ï¼Œè½¬å‘æ¶ˆæ¯ï¼Œä¸€èˆ¬ä¹Ÿç§°ä¸º Serverã€‚åœ¨ JMS è§„èŒƒä¸­ç§°ä¸º Providerã€‚</p><h3 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h3><p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo4vbs0dn7j30r30c23zl.jpg" alt="rmq-basic-arc"></p><p>ä»è¿™æ¶æ„å›¾ä¸­å¯ä»¥çœ‹åˆ°å®ƒä¸»è¦ç”±å››éƒ¨åˆ†ç»„æˆï¼šProducerï¼ˆç”Ÿäº§è€…ï¼‰ã€NameServerã€Brokerã€Consumerï¼ˆæ¶ˆè´¹è€…ï¼‰ã€‚</p><h3 id="Producer"><a href="#Producer" class="headerlink" title="Producer"></a>Producer</h3><p>ç”Ÿäº§è€…æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²ã€‚åˆ†å¸ƒå¼ç”Ÿäº§è€…é€šè¿‡å¤šç§è´Ÿè½½å‡è¡¡æ¨¡å¼å‘ Broker é›†ç¾¤å‘é€æ¶ˆæ¯ã€‚å‘é€è¿‡ç¨‹æ”¯æŒå¿«é€Ÿå¤±è´¥å¹¶å…·æœ‰ä½å»¶è¿Ÿã€‚</p><h4 id="NameServer"><a href="#NameServer" class="headerlink" title="NameServer"></a>NameServer</h4><p>å®ƒæä¾›è½»é‡çº§æœåŠ¡å‘ç°å’Œè·¯ç”±ï¼Œæ¯ä¸ª Name Server è®°å½•å®Œæ•´çš„è·¯ç”±ä¿¡æ¯ï¼Œæä¾›ç›¸åº”çš„è¯»å†™æœåŠ¡ï¼Œæ”¯æŒå¿«é€Ÿå­˜å‚¨æ‰©å±•ã€‚ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><ul><li>ä»£ç†ç®¡ç†ï¼Œ  <strong>NameServer</strong> æ¥å—æ¥è‡ª Broker é›†ç¾¤çš„æ³¨å†Œï¼Œå¹¶æä¾›æ£€æµ‹ä»£ç†æ˜¯å¦å­˜åœ¨çš„å¿ƒè·³æœºåˆ¶ã€‚</li><li>è·¯ç”±ç®¡ç†ï¼Œæ¯ä¸ª NameServer å°†ä¿å­˜æœ‰å…³ä»£ç†ç¾¤é›†çš„å…¨éƒ¨è·¯ç”±ä¿¡æ¯ä»¥åŠå®¢æˆ·ç«¯æŸ¥è¯¢çš„<strong>é˜Ÿåˆ—</strong>ä¿¡æ¯ã€‚</li></ul><p>æˆ‘ä»¬çŸ¥é“ï¼ŒRocketMQå®¢æˆ·ç«¯ï¼ˆç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰å°†ä»NameServeræŸ¥è¯¢é˜Ÿåˆ—è·¯ç”±ä¿¡æ¯ï¼Œä½†å®¢æˆ·ç«¯å¦‚ä½•æ‰¾åˆ°NameServeråœ°å€ï¼Ÿ</p><p>å°†NameServeråœ°å€åˆ—è¡¨æä¾›ç»™å®¢æˆ·ç«¯æœ‰å››ç§æ–¹æ³•ï¼š</p><ul><li>ç¼–ç¨‹æ–¹å¼ï¼Œå°±åƒ<code>producer.setNamesrvAddr(&quot;ip:port&quot;)</code>ã€‚</li><li>Javaé€‰é¡¹ï¼Œä½¿ç”¨<code>rocketmq.namesrv.addr</code>ã€‚</li><li>ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨<code>NAMESRV_ADDR</code>ã€‚</li><li>HTTP ç«¯ç‚¹ã€‚</li></ul><h4 id="Broker"><a href="#Broker" class="headerlink" title="Broker"></a>Broker</h4><p>Broker é€šè¿‡æä¾›è½»é‡çº§çš„ Topic å’Œ Queue æœºåˆ¶æ¥ç…§é¡¾æ¶ˆæ¯å­˜å‚¨ã€‚å®ƒä»¬æ”¯æŒ Push å’Œ Pull æ¨¡å¼ï¼ŒåŒ…å«å®¹é”™æœºåˆ¶ï¼ˆ2ä¸ªæ‹·è´æˆ–è€…3ä¸ªæ‹·è´ï¼‰ï¼Œå¹¶ä¸”æä¾›äº†å¼ºå¤§çš„å³°å€¼å¡«å……å’Œä»¥åŸå§‹æ—¶é—´é¡ºåºç´¯è®¡æ•°åƒäº¿æ¡æ¶ˆæ¯çš„èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œbroker è¿˜æä¾›ç¾éš¾æ¢å¤ï¼Œä¸°å¯Œçš„æŒ‡æ ‡ç»Ÿè®¡æ•°æ®å’Œè­¦æŠ¥æœºåˆ¶ï¼Œè€Œä¼ ç»Ÿçš„æ¶ˆæ¯ä¼ é€’ç³»ç»Ÿéƒ½ç¼ºä¹è¿™äº›æœºåˆ¶ã€‚</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fo4vbpoxtej30r30dsdgs.jpg" alt="rmq-basic-component"></p><p>å¦‚ä¸Šå›¾ï¼šBroker æœåŠ¡å™¨é‡è¦çš„å­æ¨¡å—ï¼š</p><ul><li>è¿œç¨‹å¤„ç†æ¨¡å—æ˜¯ broker çš„å…¥å£ï¼Œå¤„ç†æ¥è‡ªå®¢æˆ·çš„è¯·æ±‚ã€‚</li><li>Client managerï¼Œç®¡ç†å®¢æˆ·ï¼ˆç”Ÿäº§è€…/æ¶ˆè´¹è€…ï¼‰å¹¶ç»´æŠ¤æ¶ˆè´¹è€…çš„ä¸»é¢˜è®¢é˜…ã€‚</li><li>Store Serviceï¼Œæä¾›ç®€å•çš„ API æ¥å­˜å‚¨æˆ–æŸ¥è¯¢ç‰©ç†ç£ç›˜ä¸­çš„æ¶ˆæ¯ã€‚</li><li>HA æœåŠ¡ï¼Œæä¾›ä¸»ä»£ç†å’Œä»ä»£ç†ä¹‹é—´çš„æ•°æ®åŒæ­¥åŠŸèƒ½ã€‚</li><li>ç´¢å¼•æœåŠ¡ï¼Œé€šè¿‡æŒ‡å®šé”®ä¸ºæ¶ˆæ¯å»ºç«‹ç´¢å¼•ï¼Œå¹¶æä¾›å¿«é€Ÿçš„æ¶ˆæ¯æŸ¥è¯¢ã€‚</li></ul><h4 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h4><p>æ¶ˆè´¹è€…ä¹Ÿæ”¯æŒ Push å’Œ Pull æ¨¡å‹ä¸­çš„åˆ†å¸ƒå¼éƒ¨ç½²ã€‚å®ƒè¿˜æ”¯æŒç¾¤é›†æ¶ˆè´¹å’Œæ¶ˆæ¯å¹¿æ’­ã€‚å®ƒæä¾›äº†å®æ—¶çš„æ¶ˆæ¯è®¢é˜…æœºåˆ¶ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•°æ¶ˆè´¹è€…çš„éœ€æ±‚ã€‚</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æœ¬æ–‡æ˜¯å¯¹ RocketMQ çš„ç®€å•ç‚¹äº†è§£ï¼Œå‚è€ƒäº†å®˜ç½‘ä»‹ç»ã€‚</p><p>è½¬è½½è¯·æ³¨æ˜åœ°å€ï¼š<a href="http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/02/05/RocketMQ/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws3.sinaimg.cn/large/006tKfTcgy1fo4vbrj17mj31hc0zj7hb.jpg&quot; alt=&quot;gooafoss-1840758_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h3&gt;&lt;p&gt;RocketMQ æ˜¯é˜¿é‡Œå¼€æºçš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå‰ä¸ä¹…æçŒ®ç»™äº† Apache ã€‚æ­£å¦‚&lt;a href=&quot;http://rocketmq.apache.org/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜ç½‘&lt;/a&gt;ä»‹ç»å¦‚ä¸‹ï¼šå®ƒæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¼ é€’å’Œæµå¼æ•°æ®å¹³å°ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="RocketMQ" scheme="http://yoursite.com/tags/RocketMQ/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bootç³»åˆ—æ–‡ç« ï¼ˆäº”ï¼‰ï¼šSpringBoot RabbitMQ æ•´åˆè¿›é˜¶ç‰ˆ</title>
    <link href="http://yoursite.com/2018/01/28/RabbitMQ/"/>
    <id>http://yoursite.com/2018/01/28/RabbitMQ/</id>
    <published>2018-01-27T16:00:00.000Z</published>
    <updated>2018-03-24T02:34:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fnu3cojj9rj31hc0u079o.jpg" alt="sea-2561397_1920"></p><h3 id="æ¶ˆæ¯ä¸­é—´ä»¶"><a href="#æ¶ˆæ¯ä¸­é—´ä»¶" class="headerlink" title="æ¶ˆæ¯ä¸­é—´ä»¶"></a>æ¶ˆæ¯ä¸­é—´ä»¶</h3><p>RabbitMQ æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§, æ¶ˆæ¯ä¸­é—´ä»¶å³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®Œæˆæ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶çš„åŸºç¡€è½¯ä»¶. è¿™äº›è½¯ä»¶æœ‰å¾ˆå¤š, åŒ…æ‹¬ ActiveMQ ( apache å…¬å¸çš„), RocketMQ (é˜¿é‡Œå·´å·´å…¬å¸çš„, ç°å·²ç»è½¬è®©ç»™ apache), è¿˜æœ‰æ€§èƒ½æé«˜çš„ Kafkaã€‚</p><a id="more"></a><p>æ¶ˆæ¯ä¸­é—´ä»¶çš„å·¥ä½œè¿‡ç¨‹å¯ä»¥ç”¨<strong>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</strong>æ¥è¡¨ç¤º. å³ç”Ÿäº§è€…ä¸æ–­çš„å‘æ¶ˆæ¯é˜Ÿåˆ—å‘é€ä¿¡æ¯, è€Œæ¶ˆè´¹è€…ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ¶ˆè´¹ä¿¡æ¯. å…·ä½“è¿‡ç¨‹å¦‚ä¸‹:</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fnuk4o5optj30pz07xdg7.jpg" alt="972319-20170311160512014-1914425149"></p><p>ä»ä¸Šå›¾å¯çœ‹å‡º, å¯¹äºæ¶ˆæ¯é˜Ÿåˆ—æ¥è¯´, ç”Ÿäº§è€…,æ¶ˆæ¯é˜Ÿåˆ—,æ¶ˆè´¹è€… æ˜¯æœ€é‡è¦çš„ä¸‰ä¸ªæ¦‚å¿µã€‚ç”Ÿäº§è€…å‘æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­å»,  æ¶ˆè´¹è€…ç›‘å¬æŒ‡å®šçš„æ¶ˆæ¯é˜Ÿåˆ—, å¹¶ä¸”å½“æ¶ˆæ¯é˜Ÿåˆ—æ”¶åˆ°æ¶ˆæ¯ä¹‹å, æ¥æ”¶æ¶ˆæ¯é˜Ÿåˆ—ä¼ æ¥çš„æ¶ˆæ¯, å¹¶ä¸”ç»™äºˆç›¸åº”çš„å¤„ç†. æ¶ˆæ¯é˜Ÿåˆ—å¸¸ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿä¹‹é—´äº’ç›¸ä¿¡æ¯çš„ä¼ é€’.</p><h3 id="RabbitMQ-å·¥ä½œåŸç†"><a href="#RabbitMQ-å·¥ä½œåŸç†" class="headerlink" title="RabbitMQ å·¥ä½œåŸç†"></a>RabbitMQ å·¥ä½œåŸç†</h3><p>å¯¹äº RabbitMQ æ¥è¯´, é™¤äº†è¿™ä¸‰ä¸ªåŸºæœ¬æ¨¡å—ä»¥å¤–, è¿˜æ·»åŠ äº†ä¸€ä¸ªæ¨¡å—, å³äº¤æ¢æœº(Exchange). å®ƒä½¿å¾—ç”Ÿäº§è€…å’Œæ¶ˆæ¯é˜Ÿåˆ—ä¹‹é—´äº§ç”Ÿäº†éš”ç¦», ç”Ÿäº§è€…å°†æ¶ˆæ¯å‘é€ç»™äº¤æ¢æœº,è€Œäº¤æ¢æœºåˆ™æ ¹æ®è°ƒåº¦ç­–ç•¥æŠŠç›¸åº”çš„æ¶ˆæ¯è½¬å‘ç»™å¯¹åº”çš„æ¶ˆæ¯é˜Ÿåˆ—. é‚£ä¹ˆ RabitMQ çš„å·¥ä½œæµç¨‹å¦‚ä¸‹æ‰€ç¤º:</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fnuk4ohjbmj30dd08zjrw.jpg" alt="972319-20170311161512951-1006030113"></p><p>è¯´ä¸€ä¸‹äº¤æ¢æœº: äº¤æ¢æœºçš„ä¸»è¦ä½œç”¨æ˜¯æ¥æ”¶ç›¸åº”çš„æ¶ˆæ¯å¹¶ä¸”ç»‘å®šåˆ°æŒ‡å®šçš„é˜Ÿåˆ—. äº¤æ¢æœºæœ‰å››ç§ç±»å‹, åˆ†åˆ«ä¸ºDirect, topic, headers, Fanout.</p><p>Direct æ˜¯ RabbitMQ é»˜è®¤çš„äº¤æ¢æœºæ¨¡å¼,ä¹Ÿæ˜¯æœ€ç®€å•çš„æ¨¡å¼.å³åˆ›å»ºæ¶ˆæ¯é˜Ÿåˆ—çš„æ—¶å€™,æŒ‡å®šä¸€ä¸ª BindingKey. å½“å‘é€è€…å‘é€æ¶ˆæ¯çš„æ—¶å€™, æŒ‡å®šå¯¹åº”çš„ Key. å½“ Key å’Œæ¶ˆæ¯é˜Ÿåˆ—çš„ BindingKey ä¸€è‡´çš„æ—¶å€™,æ¶ˆæ¯å°†ä¼šè¢«å‘é€åˆ°è¯¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­.</p><p>topic è½¬å‘ä¿¡æ¯ä¸»è¦æ˜¯ä¾æ®é€šé…ç¬¦, é˜Ÿåˆ—å’Œäº¤æ¢æœºçš„ç»‘å®šä¸»è¦æ˜¯ä¾æ®ä¸€ç§æ¨¡å¼(é€šé…ç¬¦+å­—ç¬¦ä¸²), è€Œå½“å‘é€æ¶ˆæ¯çš„æ—¶å€™, åªæœ‰æŒ‡å®šçš„ Key å’Œè¯¥æ¨¡å¼ç›¸åŒ¹é…çš„æ—¶å€™, æ¶ˆæ¯æ‰ä¼šè¢«å‘é€åˆ°è¯¥æ¶ˆæ¯é˜Ÿåˆ—ä¸­.</p><p>headers ä¹Ÿæ˜¯æ ¹æ®ä¸€ä¸ªè§„åˆ™è¿›è¡ŒåŒ¹é…, åœ¨æ¶ˆæ¯é˜Ÿåˆ—å’Œäº¤æ¢æœºç»‘å®šçš„æ—¶å€™ä¼šæŒ‡å®šä¸€ç»„é”®å€¼å¯¹è§„åˆ™, è€Œå‘é€æ¶ˆæ¯çš„æ—¶å€™ä¹Ÿä¼šæŒ‡å®šä¸€ç»„é”®å€¼å¯¹è§„åˆ™, å½“ä¸¤ç»„é”®å€¼å¯¹è§„åˆ™ç›¸åŒ¹é…çš„æ—¶å€™, æ¶ˆæ¯ä¼šè¢«å‘é€åˆ°åŒ¹é…çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­.</p><p>Fanout æ˜¯è·¯ç”±å¹¿æ’­çš„å½¢å¼, å°†ä¼šæŠŠæ¶ˆæ¯å‘ç»™ç»‘å®šå®ƒçš„å…¨éƒ¨é˜Ÿåˆ—, å³ä¾¿è®¾ç½®äº† key, ä¹Ÿä¼šè¢«å¿½ç•¥.</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/01/28/RabbitMQ/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/28/RabbitMQ/</a></p><h3 id="SpringBoot-æ•´åˆ-RabbitMQï¼ˆTopic-è½¬å‘æ¨¡å¼ï¼‰"><a href="#SpringBoot-æ•´åˆ-RabbitMQï¼ˆTopic-è½¬å‘æ¨¡å¼ï¼‰" class="headerlink" title="SpringBoot æ•´åˆ RabbitMQï¼ˆTopic è½¬å‘æ¨¡å¼ï¼‰"></a>SpringBoot æ•´åˆ RabbitMQï¼ˆTopic è½¬å‘æ¨¡å¼ï¼‰</h3><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå°† SpringBoot å’Œ RabbitMQ æ•´åˆè¿‡ï¼Œä¸è¿‡é‚£æ˜¯ä½¿ç”¨ Direct æ¨¡å¼ï¼Œæ–‡ç« åœ°å€æ˜¯ï¼š<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">SpringBoot RabbitMQ æ•´åˆä½¿ç”¨</a></p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">SpringBoot Kafka æ•´åˆä½¿ç”¨</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">SpringBoot RabbitMQ æ•´åˆä½¿ç”¨</a></p><p>3ã€<a href="http://www.54tianzhisheng.cn/2018/01/27/SpringBoot-ActiveMQ/" target="_blank" rel="noopener">SpringBoot ActiveMQ æ•´åˆä½¿ç”¨</a></p><p>4ã€<a href="http://www.54tianzhisheng.cn/2018/01/04/Kafka/" target="_blank" rel="noopener">Kafka å®‰è£…åŠå¿«é€Ÿå…¥é—¨</a></p><h3 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘è¦å¸¦å¤§å®¶ç»§ç»­æ•´åˆï¼ˆTopic è½¬å‘æ¨¡å¼ï¼‰ï¼š</p><p>1ã€é…ç½®æ–‡ä»¶å’Œ pom.xml è¿™äº›è¿˜éƒ½æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬ä¸ç”¨å†ä¿®æ”¹</p><p>2ã€å¯åŠ¨ç±»ä¸­åˆ›å»º Queue å’Œ Exchangeï¼Œå¹¶æŠŠ Queue æŒ‰ç…§ç›¸åº”çš„è§„åˆ™ç»‘å®šåˆ°äº¤æ¢æœºQueue ä¸Šã€‚ä»£ç å¦‚ä¸‹å›¾ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Queue <span class="title">queue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"rpc-queue-zhisheng"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> TopicExchange <span class="title">exchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> TopicExchange(<span class="string">"rpc-exchange-zhisheng"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Binding <span class="title">binding</span><span class="params">(Queue queue, TopicExchange exchange)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> BindingBuilder.bind(queue).to(exchange).with(<span class="string">"rpc-zhisheng"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œåˆ›å»ºä¸€ä¸ª Queue å’Œ Exchange ï¼Œç„¶åç»‘å®šã€‚</p><p>æ³¨æ„ï¼šä¸Šé¢ä»£ç ä¸­çš„ with(â€œrpc-zhishengâ€)  è¿™ä¸ª â€œzhishengâ€ æ˜¯ routingkeyï¼ŒRabbitMQ å°†ä¼šæ ¹æ®è¿™ä¸ªå‚æ•°å»å¯»æ‰¾æœ‰æ²¡æœ‰åŒ¹é…æ­¤è§„åˆ™çš„é˜Ÿåˆ—ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼šæŠŠæ¶ˆæ¯å‘é€ç»™å®ƒï¼Œå¦‚æœä¸æ­¢æœ‰ä¸€ä¸ªï¼Œåˆ™ä¼šæŠŠæ¶ˆæ¯åˆ†å‘ç»™æ‰€æœ‰åŒ¹é…çš„é˜Ÿåˆ—ã€‚</p><p>3ã€æ¶ˆæ¯å‘é€ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.rpc.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.TopicExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TopicExchange exchange;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        rabbitTemplate.convertAndSend(exchange.getName(), <span class="string">"rpc-zhisheng"</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å‘é€æ¶ˆæ¯çš„ä»£ç ï¼Œâ€œrpc-zhishengâ€ å°±æ˜¯ä¸Šé¢æˆ‘ä»¬è®¾ç½®çš„ routingkeyã€‚</p><p>4ã€æ¶ˆæ¯æ¥æ”¶ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.rpc.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"rpc-queue-zhisheng"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"--------receive ------- "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5ã€å¯åŠ¨ç±»ä¸­æ³¨å…¥ å‘é€æ¶ˆæ¯ç±»ï¼Œç„¶åè°ƒç”¨ send æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RabbitMQClient client;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  StopWatch stopWatch = <span class="keyword">new</span> StopWatch();</span><br><span class="line">  stopWatch.start();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">  client.send(<span class="string">"  zhisheng, ---------  send "</span> + i);</span><br><span class="line">  &#125;</span><br><span class="line">  stopWatch.stop();</span><br><span class="line">  System.out.println(<span class="string">"æ€»å…±è€—æ—¶ï¼š"</span> +      stopWatch.getTotalTimeMillis());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ­¤ SpringBoot é¡¹ç›®ï¼Œåˆ™å¯ä»¥å‘ç°ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fnu3cn8zwjj31kw0y9kfi.jpg" alt="Snip20180126_2"></p><p>è¿™é‡Œæµ‹è¯•çš„æ˜¯åŒ¹é…ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„æƒ…å†µï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥æµ‹è¯•ä¸‹åŒ¹é…å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—çš„ã€‚</p><h3 id="SpringBoot-æ•´åˆ-RabbitMQ-Fanout-Exchange-å½¢å¼"><a href="#SpringBoot-æ•´åˆ-RabbitMQ-Fanout-Exchange-å½¢å¼" class="headerlink" title="SpringBoot æ•´åˆ RabbitMQ( Fanout Exchange å½¢å¼)"></a>SpringBoot æ•´åˆ RabbitMQ( Fanout Exchange å½¢å¼)</h3><p>Fanout Exchange å½¢å¼åˆå«å¹¿æ’­å½¢å¼ã€‚</p><p>ä»»ä½•å‘é€åˆ° Fanout Exchange çš„æ¶ˆæ¯éƒ½ä¼šè¢«è½¬å‘åˆ°ä¸è¯¥ Exchange ç»‘å®š(Binding)çš„æ‰€æœ‰ Queue ä¸Šã€‚</p><ul><li>è¿™ç§æ¨¡å¼éœ€è¦æå‰å°† Exchange ä¸ Queue è¿›è¡Œç»‘å®šï¼Œä¸€ä¸ª Exchange å¯ä»¥ç»‘å®šå¤šä¸ª Queueï¼Œä¸€ä¸ª Queue å¯ä»¥åŒå¤šä¸ª Exchange è¿›è¡Œç»‘å®š</li><li>è¿™ç§æ¨¡å¼ä¸éœ€è¦ RoutingKey</li><li>å¦‚æœæ¥å—åˆ°æ¶ˆæ¯çš„ Exchange æ²¡æœ‰ä¸ä»»ä½• Queue ç»‘å®šï¼Œåˆ™æ¶ˆæ¯ä¼šè¢«æŠ›å¼ƒã€‚</li></ul><p>1ã€æ¶ˆæ¯å‘é€ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.rpc.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send2</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">"fanout-exchange"</span>, <span class="string">""</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥ä¸è®¾ç½® routingkey äº†ã€‚</p><p>2ã€å¯åŠ¨ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.rpc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zhisheng.rabbitmq.rpc.client.RabbitMQClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Binding;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.BindingBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.FanoutExchange;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.core.Queue;</span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitmqRpcApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitMQClient client;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        client.send2(<span class="string">"zhisheng ++++++++++ send2 "</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SpringApplication.run(RabbitmqRpcApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"queue"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">queue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"rpc.queue"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"queue2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">queue2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"rpc.queue2"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>(name = <span class="string">"queue3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Queue <span class="title">queue3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Queue(<span class="string">"rpc.queue3"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> FanoutExchange <span class="title">exchange</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> FanoutExchange(<span class="string">"fanout-exchange"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">binding</span><span class="params">(@Qualifier(<span class="string">"queue"</span>)</span> Queue queue, FanoutExchange exchange) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queue).to(exchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">binding2</span><span class="params">(@Qualifier(<span class="string">"queue2"</span>)</span> Queue queue, FanoutExchange exchange) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queue).to(exchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Binding <span class="title">binding3</span><span class="params">(@Qualifier(<span class="string">"queue3"</span>)</span> Queue queue, FanoutExchange exchange) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> BindingBuilder.bind(queue).to(exchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Jackson2JsonMessageConverter <span class="title">messageConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Jackson2JsonMessageConverter();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å¯åŠ¨ç±»ä¸­æˆ‘åˆ›å»ºä¸‰ä¸ª Queueï¼š <code>rpc.queue</code>,  <code>rpc.queue2</code> , <code>rpc.queue3</code></p><p>ä¹Ÿåˆ›å»ºä¸€ä¸ª FanoutExchangeï¼Œå¹¶æŠŠè¿™ä¸‰ä¸ª Queue ç»‘å®šåœ¨åŒä¸€ä¸ªäº¤æ¢æœº <code>fanout-exchange</code> ä¸Šé¢</p><p>æ³¨æ„ï¼šè¿™ä¸ª <code>fanout-exchange</code> äº¤æ¢æœºä¸çŸ¥ä¸ºå•¥ï¼Œæˆ‘è‡ªå·±åœ¨åº”ç”¨ç¨‹åºé‡Œåˆ›å»ºï¼Œè¿è¡Œç¨‹åºä¼šå‡ºé”™ï¼Œä¸‹é¢è®²è®²æˆ‘æ˜¯æ€ä¹ˆè§£å†³çš„ã€‚</p><p>æˆ‘æ˜¯ä» RabbitMQ ç®¡ç†ç•Œé¢ç›´æ¥æ·»åŠ ä¸ª exchange çš„ã€‚</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fnu3co30lkj31hy1bun4z.jpg" alt="Snip20180126_3"></p><p>3ã€æ¶ˆæ¯æ¥æ”¶ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.rpc.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"rpc.queue"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"--------receive ------- "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"rpc.queue2"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive2</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"--------receive2 ------- "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"rpc.queue3"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive3</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"--------receive3 ------- "</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç›‘å¬æ¯ä¸ª Queueï¼Œå¹¶æœ‰ä¸€ä¸ªæ–¹æ³•è¾“å‡ºå¯¹åº”æ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚</p><p>4ã€è¿è¡Œé¡¹ç›®</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fnu3cmf22dj31kw0zoh6u.jpg" alt="Snip20180126_4"></p><p>ç»“æœå¦‚ä¸Šï¼Œæ¯ä¸ªé˜Ÿåˆ—éƒ½æ‰“å°å‡ºè‡ªå·±æ”¶åˆ°çš„ç»“æœï¼ŒåŒæ—¶æˆ‘ä»¬çœ‹çœ‹è¿™ä¸‰ä¸ª Queue æ˜¯ä¸æ˜¯ç»‘å®šåˆ° Exchange ä¸Šå‘¢ï¼Ÿ</p><p>å¯ä»¥çœ‹åˆ°ä¸‰ä¸ª Queue éƒ½ç»‘å®šåœ¨ Exchange ä¸Šäº†ã€‚</p><p><img src="https://ws4.sinaimg.cn/large/006tNc79ly1fnu3clys6lj31kw1ajjy9.jpg" alt="Snip20180126_5"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>RabbitMQ ä¸ SpringBoot æ•´åˆå°±åˆ°è¿™é‡Œä¸ºæ­¢äº†ï¼Œåé¢å¦‚æœæœ‰æ—¶é—´ä¼šæ·±åº¦ç ”ç©¶ RabbitMQ çš„ã€‚</p><p>è¿˜è¯·ç»§ç»­å…³æ³¨æˆ‘çš„åšå®¢ï¼š<a href="http://www.54tianzhisheng.cn/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws4.sinaimg.cn/large/006tNc79ly1fnu3cojj9rj31hc0u079o.jpg&quot; alt=&quot;sea-2561397_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;æ¶ˆæ¯ä¸­é—´ä»¶&quot;&gt;&lt;a href=&quot;#æ¶ˆæ¯ä¸­é—´ä»¶&quot; class=&quot;headerlink&quot; title=&quot;æ¶ˆæ¯ä¸­é—´ä»¶&quot;&gt;&lt;/a&gt;æ¶ˆæ¯ä¸­é—´ä»¶&lt;/h3&gt;&lt;p&gt;RabbitMQ æ˜¯æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§, æ¶ˆæ¯ä¸­é—´ä»¶å³åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å®Œæˆæ¶ˆæ¯çš„å‘é€å’Œæ¥æ”¶çš„åŸºç¡€è½¯ä»¶. è¿™äº›è½¯ä»¶æœ‰å¾ˆå¤š, åŒ…æ‹¬ ActiveMQ ( apache å…¬å¸çš„), RocketMQ (é˜¿é‡Œå·´å·´å…¬å¸çš„, ç°å·²ç»è½¬è®©ç»™ apache), è¿˜æœ‰æ€§èƒ½æé«˜çš„ Kafkaã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="RabbitMQ" scheme="http://yoursite.com/tags/RabbitMQ/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bootç³»åˆ—æ–‡ç« ï¼ˆå››ï¼‰ï¼šSpringBoot ActiveMQ æ•´åˆä½¿ç”¨</title>
    <link href="http://yoursite.com/2018/01/27/SpringBoot-ActiveMQ/"/>
    <id>http://yoursite.com/2018/01/27/SpringBoot-ActiveMQ/</id>
    <published>2018-01-26T16:00:00.000Z</published>
    <updated>2018-03-24T02:33:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fns53btbl0j31hc0zldyz.jpg" alt="busan-night-scene-1747130_1920"></p><h3 id="ä»‹ç»-ActiveMQ"><a href="#ä»‹ç»-ActiveMQ" class="headerlink" title="ä»‹ç» ActiveMQ"></a>ä»‹ç» ActiveMQ</h3><p>å®ƒæ˜¯ Apache å‡ºå“ï¼Œæœ€æµè¡Œçš„ï¼Œèƒ½åŠ›å¼ºåŠ²çš„å¼€æºæ¶ˆæ¯æ€»çº¿ã€‚ActiveMQ  æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒ JMS1.1 å’Œ J2EE 1.4 è§„èŒƒçš„ JMS Provider å®ç°ï¼Œå°½ç®¡ JMS è§„èŒƒå‡ºå°å·²ç»æ˜¯å¾ˆä¹…çš„äº‹æƒ…äº†ï¼Œä½†æ˜¯ JMS åœ¨å½“ä»Šçš„J2EEåº”ç”¨ä¸­é—´ä»ç„¶æ‰®æ¼”ç€ç‰¹æ®Šçš„åœ°ä½ã€‚â€”â€” æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼Œå·äº†ä¸ªæ‡’ã€‚</p><a id="more"></a><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><p>1ã€<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">SpringBoot Kafka æ•´åˆä½¿ç”¨</a></p><p>2ã€<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">SpringBoot RabbitMQ æ•´åˆä½¿ç”¨</a></p><h3 id="å®‰è£…-ActiveMQ"><a href="#å®‰è£…-ActiveMQ" class="headerlink" title="å®‰è£… ActiveMQ"></a>å®‰è£… ActiveMQ</h3><p>åŒä¹‹å‰ä¸€æ ·ï¼Œç›´æ¥åœ¨ Docker é‡Œé¢ç©å§ã€‚å‘½ä»¤ä¹Ÿæ˜¯ä¸€è¡Œè§£å†³ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8161:8161 -p 61616:61616 -e ACTIVEMQ_ADMIN_LOGIN=admin -e ACTIVEMQ_ADMIN_PASSWORD=admin --name activemq webcenter/activemq</span><br></pre></td></tr></table></figure><p>ç®€å•è§£é‡Šä¸‹ï¼š</p><ul><li>8186: è¡¨ç¤º ActiveMQ æ§åˆ¶å°ç«¯å£å·ï¼Œå®ƒå’Œ RabbitMQ ä¸€æ ·éƒ½æ˜¯æœ‰æ§åˆ¶å°çš„ï¼Œå¯ä»¥ç™»é™†æ§åˆ¶å°è¿›è¡Œæ“ä½œçš„</li><li>61616 ï¼š è¡¨ç¤º ActiveMQ æ‰€ç›‘å¬çš„ TCP ç«¯å£å·ï¼Œåº”ç”¨ç¨‹åºå¯é€šè¿‡è¯¥ç«¯å£å·ä¸ ActiveMQ å»ºç«‹ TCP è¿æ¥</li><li>CTIVEMQ_ADMIN_LOGIN ï¼šç™»é™†æ§åˆ¶å°çš„ç”¨æˆ·å</li><li>ACTIVEMQ_ADMIN_PASSWORD ï¼šç™»é™†æ§åˆ¶å°çš„å¯†ç </li></ul><p>æ‰§è¡Œåï¼Œå¯åœ¨æµè§ˆå™¨è¾“å…¥ <a href="http://localhost:8161/" target="_blank" rel="noopener">http://localhost:8161/</a>   æŸ¥çœ‹æ§åˆ¶å°ï¼Œ</p><p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fns4zm1yqfj31kw0djn3k.jpg" alt="Snip20180124_1"></p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fns4zmk78ej31kw0ladq0.jpg" alt="Snip20180124_2"></p><p>è§£é‡Šä¸‹ä¸Šé¢å›¾ç‰‡ä¸­æ§åˆ¶å°è¿™äº›æŒ‰é’®çš„åŸºæœ¬ä¿¡æ¯ï¼š</p><ul><li>Homeï¼šæŸ¥çœ‹ ActiveMQ çš„å¸¸è§ä¿¡æ¯</li><li>Queuesï¼šæŸ¥çœ‹ ActiveMQ çš„é˜Ÿåˆ—ä¿¡æ¯</li><li>Topicsï¼šæŸ¥çœ‹ ActiveMQ çš„ä¸»é¢˜ä¿¡æ¯</li><li>Subscribersï¼šæŸ¥çœ‹ä¸»é¢˜çš„è®¢é˜…è€…ä¿¡æ¯</li><li>Connectionsï¼šæŸ¥çœ‹ ActiveMQ å®¢æˆ·ç«¯çš„è¿æ¥ä¿¡æ¯</li><li>Networkï¼šæŸ¥çœ‹ ActiveMQ çš„ç½‘ç»œä¿¡æ¯</li><li>Scheduledï¼šæŸ¥çœ‹ ActiveMQ çš„å®šæ—¶ä»»åŠ¡</li><li>Sendï¼šç”¨äºé€šè¿‡è¡¨å•æ–¹å¼å‘é˜Ÿåˆ—æˆ–è€…ä¸»é¢˜å‘é€å…·ä½“çš„æ¶ˆæ¯</li></ul><h3 id="æ•´åˆ"><a href="#æ•´åˆ" class="headerlink" title="æ•´åˆ"></a>æ•´åˆ</h3><p>IDEA åˆ›å»º SpringBoot é¡¹ç›®ï¼Œå› ä¸º SpringBoot å·²ç»å†…ç½®äº†å¯¹ ActiveMQ çš„æ”¯æŒï¼Œæ‰€ä»¥ç›´æ¥å¼•å…¥ä¾èµ– <code>spring-boot-starter-activemq</code> å°±è¡Œã€‚æ•´ä½“é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fns4zkpkhvj30os0tkwg8.jpg" alt="Snip20180124_3"></p><p>1ã€<strong>pom.xml æ–‡ä»¶</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zhisheng<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activemq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>activemq<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot ActiveMQ<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-activemq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€<strong>é…ç½®æ–‡ä»¶</strong>  application.properties</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring.activemq.broker-url=tcp://localhost:61616</span><br><span class="line">spring.activemq.user=admin</span><br><span class="line">spring.activemq.password=admin</span><br></pre></td></tr></table></figure><p>3ã€<strong>å‘é€æ¶ˆæ¯ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.activemq.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jms.core.JmsTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActiveMQClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JmsTemplate jmsTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        jmsTemplate.convertAndSend(<span class="string">"zhisheng"</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ ·ï¼Œå’Œ RabbitMQ ç±»ä¼¼ï¼Œä¸å¤šè¯´äº†ã€‚</p><p>4ã€<strong>æ¶ˆæ¯æ¥æ”¶ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.activemq.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.jms.annotation.JmsListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActiveMQServer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@JmsListener</span>(destination = <span class="string">"zhisheng"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ”¶åˆ°çš„ message æ˜¯ï¼š"</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5ã€<strong>æ³¨æ„</strong></p><p>è¿™ä¸ªé˜Ÿåˆ—æ˜¯ä¸éœ€è¦æˆ‘ä»¬æå‰å®šä¹‰å¥½çš„ï¼Œå®ƒå’Œ RabbitMQ ä¸ä¸€æ ·ï¼Œå®ƒä¼šåœ¨æˆ‘ä»¬éœ€è¦çš„æ—¶å€™åŠ¨æ€çš„åˆ›å»ºã€‚</p><h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.activemq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.zhisheng.activemq.client.ActiveMQClient;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StopWatch;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.PostConstruct;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActivemqApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">    ActiveMQClient client;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StopWatch stopWatch = <span class="keyword">new</span> StopWatch();</span><br><span class="line">        stopWatch.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            client.send(<span class="string">"å‘é€æ¶ˆæ¯----zhisheng-----"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        stopWatch.stop();</span><br><span class="line">        System.out.println(<span class="string">"å‘é€æ¶ˆæ¯è€—æ—¶: "</span> + stopWatch.getTotalTimeMillis());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SpringApplication.run(ActivemqApplication.class, args);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘é€ä¸€ä¸‡æ¡æ¶ˆæ¯è¿è¡Œåéœ€è¦çš„æ—¶é—´æŒºä¹…çš„ï¼š73180 ms</p><p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1fns4zlmbg7j31kw0wutop.jpg" alt="Snip20180124_4"></p><p>æ¯” RabbitMQ å‘é€ 10000 æ¡æ¶ˆæ¯è€—æ—¶ 215 ms ä¸çŸ¥é“é«˜å‡ºå¤šå°‘å€äº†ï¼Œå¯è§å…¶æ€§èƒ½å¹¶ä¸é«˜çš„ã€‚</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/01/27/SpringBoot-ActiveMQ/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/27/SpringBoot-ActiveMQ/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ws1.sinaimg.cn/large/006tKfTcly1fns53btbl0j31hc0zldyz.jpg&quot; alt=&quot;busan-night-scene-1747130_1920&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä»‹ç»-ActiveMQ&quot;&gt;&lt;a href=&quot;#ä»‹ç»-ActiveMQ&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç» ActiveMQ&quot;&gt;&lt;/a&gt;ä»‹ç» ActiveMQ&lt;/h3&gt;&lt;p&gt;å®ƒæ˜¯ Apache å‡ºå“ï¼Œæœ€æµè¡Œçš„ï¼Œèƒ½åŠ›å¼ºåŠ²çš„å¼€æºæ¶ˆæ¯æ€»çº¿ã€‚ActiveMQ  æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒ JMS1.1 å’Œ J2EE 1.4 è§„èŒƒçš„ JMS Provider å®ç°ï¼Œå°½ç®¡ JMS è§„èŒƒå‡ºå°å·²ç»æ˜¯å¾ˆä¹…çš„äº‹æƒ…äº†ï¼Œä½†æ˜¯ JMS åœ¨å½“ä»Šçš„J2EEåº”ç”¨ä¸­é—´ä»ç„¶æ‰®æ¼”ç€ç‰¹æ®Šçš„åœ°ä½ã€‚â€”â€” æ‘˜è‡ªç™¾åº¦ç™¾ç§‘ï¼Œå·äº†ä¸ªæ‡’ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
      <category term="ActiveMQ" scheme="http://yoursite.com/tags/ActiveMQ/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bootç³»åˆ—æ–‡ç« ï¼ˆä¸‰ï¼‰ï¼šSpringBoot  RabbitMQ æ•´åˆä½¿ç”¨</title>
    <link href="http://yoursite.com/2018/01/26/SpringBoot-RabbitMQ/"/>
    <id>http://yoursite.com/2018/01/26/SpringBoot-RabbitMQ/</id>
    <published>2018-01-25T16:00:00.000Z</published>
    <updated>2018-03-24T02:33:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/6DFKcmCgC7.png-1" alt="mark"></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>ä¸Šæ¬¡å†™äº†ç¯‡æ–‡ç« ï¼Œ<a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">ã€ŠSpringBoot Kafka æ•´åˆä½¿ç”¨ã€‹</a>ï¼Œé˜…è¯»é‡è¿˜æŒºé«˜çš„ï¼Œäºæ˜¯æƒ³æƒ³è¿˜æ˜¯æŠŠå…¶ä»–å‡ ç§ MQ ä¹Ÿå’Œ SpringBoot æ•´åˆä½¿ç”¨ä¸‹ã€‚</p><a id="more"></a><p>ä¸‹é¢æ˜¯å››ç§æ¯”è¾ƒæµè¡Œçš„ MQ ï¼š</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fnrqdwnlsej30fw07274m.jpg" alt="rabbitmq-1"></p><p>åé¢éƒ½å†™å†™å’Œ SpringBoot æ•´åˆçš„æ–‡ç« ã€‚</p><h3 id="å®‰è£…-RabbitMQ"><a href="#å®‰è£…-RabbitMQ" class="headerlink" title="å®‰è£… RabbitMQ"></a>å®‰è£… RabbitMQ</h3><p>ç”±äºæ¢ Mac äº†ï¼Œæ‰€ä»¥ä¸€äº›ç¯å¢ƒå°±ç›´æ¥åœ¨ Mac æï¼Œä½†æ˜¯åƒå®‰è£… RabbitMQ è¿™äº›åˆä¼šæŠŠè‡ªå·±ç”µè„‘ç³»ç»Ÿç»™æçš„å¤ªä¹±ï¼Œæ‰€ä»¥èƒ½åœ¨ Docker é‡Œé¢å®‰è£…å°±å®‰è£…åœ¨ Dockerï¼Œè¿™æ¬¡ RabbitMQ æˆ‘ä¹Ÿç›´æ¥åœ¨ Docker é‡Œå®‰è£…ã€‚</p><p>å¯åŠ¨ Docker for Macï¼Œå¦‚æœæ²¡å®‰è£…è¿‡çš„è¯·çœ‹æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="http://www.54tianzhisheng.cn/2018/01/25/Docker-install/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/25/Docker-install/</a></p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨è‡ªå·±çš„ Linux æœåŠ¡å™¨æˆ–è€…è™šæ‹Ÿæœºé‡Œå¯åŠ¨å®‰è£… RabbitMQ ã€‚</p><p>Docker å®‰è£…çš„è¯å¾ˆç®€å•ï¼Œå› ä¸º RabbitMQ å®˜æ–¹å·²ç»æä¾›äº†è‡ªå·±çš„ Docker å®¹å™¨ï¼Œåªéœ€è¦ä¸€è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d  -p 15672:15672  -p  5672:5672  -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin --name rabbitmq rabbitmq:3-management</span><br></pre></td></tr></table></figure><p>è¯¥é•œåƒæ‹¥æœ‰ä¸€ä¸ªåŸºäº web çš„æ§åˆ¶å°å’Œ Http APIã€‚Http API å¯ä»¥åœ¨åœ°å€çœ‹åˆ°å¦‚ä½•ä½¿ç”¨ï¼š<code>http://localhost:15672/api/</code></p><p>è®²è§£ä¸‹ä¸Šé¢å‘½ä»¤è¡Œï¼š</p><ul><li>15672 ï¼šè¡¨ç¤º RabbitMQ æ§åˆ¶å°ç«¯å£å·ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­é€šè¿‡æ§åˆ¶å°æ¥æ‰§è¡Œ RabbitMQ çš„ç›¸å…³æ“ä½œã€‚</li><li>5672 : è¡¨ç¤º RabbitMQ æ‰€ç›‘å¬çš„ TCP ç«¯å£å·ï¼Œåº”ç”¨ç¨‹åºå¯é€šè¿‡è¯¥ç«¯å£ä¸ RabbitMQ å»ºç«‹ TCP è¿æ¥ï¼Œå¹¶å®Œæˆåç»­çš„å¼‚æ­¥æ¶ˆæ¯é€šä¿¡</li><li>RABBITMQ_DEFAULT_USERï¼šç”¨äºè®¾ç½®ç™»é™†æ§åˆ¶å°çš„ç”¨æˆ·åï¼Œè¿™é‡Œæˆ‘è®¾ç½® admin</li><li>RABBITMQ_DEFAULT_PASSï¼šç”¨äºè®¾ç½®ç™»é™†æ§åˆ¶å°çš„å¯†ç ï¼Œè¿™é‡Œæˆ‘è®¾ç½® admin</li></ul><p>å®¹å™¨å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥åœ°å€ï¼š<a href="http://localhost:15672/" target="_blank" rel="noopener">http://localhost:15672/</a>  è®¿é—®æ§åˆ¶å°</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnrqdzkxzoj30js0980t7.jpg" alt="rabbitmq-2"></p><p>ç™»é™†åï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnrqohaja0j31kw0vr0z3.jpg" alt="rabbitmq-3"></p><p>ç®€å•æè¿°ä¸‹ä¸Šå›¾ä¸­ä¸­æ§åˆ¶å°çš„åˆ—è¡¨çš„ä½œç”¨ï¼š</p><ul><li>Overview ï¼šç”¨äºæŸ¥çœ‹ RabbitMQ çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ã€æ¶ˆæ¯å‘é€é€Ÿç‡ã€èŠ‚ç‚¹ã€ç«¯å£å’Œä¸Šä¸‹æ–‡ä¿¡æ¯ç­‰ï¼‰</li><li>Connectionsï¼šç”¨äºæŸ¥çœ‹ RabbitMQ å®¢æˆ·ç«¯çš„è¿æ¥ä¿¡æ¯</li><li>Channelsï¼šç”¨æˆ·æŸ¥çœ‹ RabbitMQ çš„é€šé“ä¿¡æ¯</li><li>Exchangeï¼šç”¨äºæŸ¥çœ‹ RabbitMQ äº¤æ¢æœº</li><li>Queuesï¼šç”¨äºæŸ¥çœ‹ RabbitMQ çš„é˜Ÿåˆ—</li><li>Adminï¼šç”¨äºç®¡ç†ç”¨æˆ·ï¼Œå¯å¢åŠ ç”¨æˆ·</li></ul><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><p>åœ¨ IDEA ä¸­åˆ›å»ºä¸€ä¸ª SpringBoot é¡¹ç›®ç»“æ„ï¼š</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnrqp4fi3cj30pk12qtcc.jpg" alt="Snip20180124_5"></p><p>SpringBoot æ¡†æ¶ä¸­å·²ç»å†…ç½®äº†å¯¹ RabbitMQ çš„æ”¯æŒï¼Œå¦‚æœä½ çœ‹è¿‡å®˜æ–¹æ–‡æ¡£çš„è¯ï¼Œå°±å¯ä»¥çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä¾èµ– spring-boot-starter-amqp å¼•å…¥å°±è¡Œã€‚</p><p>1ã€ <strong>pom.xml</strong> å¼•å…¥ä¾èµ–åå¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.zhisheng<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>rabbitmq<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>rabbitmq<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">description</span>&gt;</span>Demo project for Spring Boot RabbitMQ<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.9.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span> <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2ã€<strong>application.properties</strong>  é…ç½®ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring.rabbitmq.addresses=localhost:5672</span><br><span class="line">spring.rabbitmq.username=admin</span><br><span class="line">spring.rabbitmq.password=admin</span><br></pre></td></tr></table></figure><p>3ã€<strong>æ¶ˆæ¯å‘é€ç±»</strong> RabbitMQClient.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.client;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQClient</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RabbitTemplate rabbitTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        rabbitTemplate.convertAndSend(<span class="string">"zhisheng"</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±è¿™æ ·ï¼Œå‘é€æ¶ˆæ¯ä»£ç å°±å®ç°äº†ã€‚</p><p>è¿™é‡Œå…³é”®çš„ä»£ç ä¸º rabbitTemplate.convertAndSend() æ–¹æ³•ï¼Œ<code>zhisheng</code> è¿™ä¸ªæ˜¯è·¯ç”±è§„åˆ™ï¼ˆroutingKeyï¼‰ï¼Œå®ƒçš„å€¼è¡¨æ˜å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„é˜Ÿåˆ— <code>zhisheng</code> ä¸­å»ï¼Œè¿™é‡Œè·Ÿäº†ä¸‹æºç ï¼Œå‘ç° convertAndSend() æ–¹æ³•æœ€åè°ƒç”¨çš„æ–¹æ³•å…¶å®æ˜¯ä¸€ä¸ª doSend() æ–¹æ³•ã€‚</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fnrqpy395kj31kw0wkn75.jpg" alt="Snip20180124_7"></p><p>4ã€<strong>æ¶ˆæ¯æ¥æ”¶ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zhisheng.rabbitmq.server;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by zhisheng_tian on 2018/1/23</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RabbitMQServer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RabbitListener</span>(queues = <span class="string">"zhisheng"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">receive</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ”¶åˆ°çš„ message æ˜¯ï¼š"</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ çœ‹ï¼Œè¿™é‡Œå°±æœ‰ä¸ª <code>RabbitListener</code> ä¸€ç›´åœ¨ç›‘å¬ç€é˜Ÿåˆ— <code>zhisheng</code> ã€‚</p><p>å½“ç„¶è¿™ä¸ªé˜Ÿåˆ—æ˜¯å¿…é¡»è¦æˆ‘ä»¬è‡ªå·±åœ¨åº”ç”¨ç¨‹åºä¸­åˆ›å»ºå¥½ï¼Œå®ƒä¸ä¼šåƒæˆ‘ä¹‹å‰å†™çš„æ–‡ç«  <a href="http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/" target="_blank" rel="noopener">ã€ŠSpringBoot Kafka æ•´åˆä½¿ç”¨ã€‹</a>  ä¸­çš„ Kafka ä¸€æ ·ï¼ŒKafka å®ƒä¼šåœ¨ç”¨åˆ°é˜Ÿåˆ—çš„æ—¶å€™åŠ¨æ€çš„åˆ›å»ºï¼Œä¸éœ€è¦æˆ‘ä»¬æå‰åˆ›å»ºå¥½ã€‚</p><p>é‚£ä¹ˆåœ¨ RabbitMQ ä¸­è¯¥å¦‚ä½•åˆ›å»ºé˜Ÿåˆ—å‘¢ï¼Ÿ</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnrqqcykkoj31kw0roajh.jpg" alt="Snip20180124_8"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šè¿™æ ·æˆ‘ä»¬å°±åˆ›å»ºå¥½äº†ä¸€ä¸ª <code>zhisheng</code> çš„é˜Ÿåˆ—ï¼Œå½“ç¨‹åºå¼€å§‹è¿è¡Œæ—¶ï¼Œæ¶ˆæ¯æ¥æ”¶ç±»ä¼šæŒç»­ç›‘å¬é˜Ÿåˆ— <code>zhisheng</code> ä¸­å³å°†åˆ°æ¥çš„æ¶ˆæ¯ã€‚</p><p>5ã€<strong>è¿è¡Œé¡¹ç›®</strong></p><p>éœ€è¦åœ¨å¯åŠ¨ç±»ä¸­æ³¨å…¥å‘é€æ¶ˆæ¯çš„ç±»ï¼Œå¹¶ä¸”æä¾› init æ–¹æ³•ï¼Œåœ¨ init æ–¹æ³•ä¸­è°ƒç”¨å‘é€æ¶ˆæ¯ç±»çš„ send()  æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">rabbitMQClient.send(<span class="string">"å‘é€æ¶ˆæ¯----zhisheng-----"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šinit() æ–¹æ³•å¸¦æœ‰ @PostConstruct æ³¨è§£ï¼Œè¢« @PostConstruct ä¿®é¥°çš„æ–¹æ³•ä¼šåœ¨æ„é€ å‡½æ•°ä¹‹åæ‰§è¡Œã€‚</p><p>å¯åŠ¨é¡¹ç›®å°±å¯ä»¥å‘ç°æ§åˆ¶å°å·²ç»æ¥æ”¶åˆ°æ¶ˆæ¯äº†ã€‚</p><p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnrqqqr9zlj31kw10qdv6.jpg" alt="Snip20180124_9"></p><p>6ã€<strong>å•çº¿ç¨‹æµ‹è¯•æ€§èƒ½</strong></p><p>çœ‹åˆ°ä¸Šé¢å›¾ç‰‡ä¸­æ³¨é‡Šæ‰çš„ä»£ç æ²¡ï¼Ÿé‚£å°±æ˜¯ç”¨æ¥æµ‹è¯•æ¶ˆæ¯å‘é€çš„æ€§èƒ½çš„ï¼Œæˆ‘å‘é€ 10000 æ¡æ¶ˆæ¯çœ‹çœ‹æ€»å…±è€—æ—¶å¤šå°‘ã€‚</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnrqr3c0wnj31kw0tctgm.jpg" alt="Snip20180124_10"></p><p>10000 æ¡æ¶ˆæ¯å‘é€è€—æ—¶ï¼š215msã€‚   è¿™æ˜¯åœ¨å•çº¿ç¨‹ä¸‹ï¼Œä¸‹æ¬¡å¯ä»¥å’Œå…¶ä»–çš„ MQ æµ‹è¯•å¯¹æ¯”ä¸‹ï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹æµ‹è¯•æ€§èƒ½ã€‚</p><p>åŒæ—¶ä»æ§åˆ¶å°å¯ä»¥çœ‹åˆ°å‘é€çš„é€Ÿç‡ï¼š</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnrqrd94g6j31kw0s1tim.jpg" alt="Snip20180124_11"></p><p>7ã€<strong>å¤šçº¿ç¨‹æµ‹è¯•æ€§èƒ½</strong></p><p>å¼€äº†10 ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹å‘é€ 10000 æ¡æ¶ˆæ¯ã€‚</p><p>init  æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StopWatch stopWatch = <span class="keyword">new</span> StopWatch();</span><br><span class="line">        stopWatch.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> threads = <span class="number">10</span>;</span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(threads);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> CountDownLatch start = <span class="keyword">new</span> CountDownLatch(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">final</span> CountDownLatch end = <span class="keyword">new</span> CountDownLatch(threads);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; threads; i++) &#123;</span><br><span class="line">            executorService.execute(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    start.await();</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> i1 = <span class="number">0</span>; i1 &lt; <span class="number">10000</span>; i1++) &#123;</span><br><span class="line">                        rabbitMQClient.send(<span class="string">"å‘é€æ¶ˆæ¯----zhisheng-----"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                    end.countDown();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        start.countDown();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            end.await();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            executorService.shutdown();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        stopWatch.stop();</span><br><span class="line">        System.out.println(<span class="string">"å‘é€æ¶ˆæ¯è€—æ—¶ï¼š"</span> + stopWatch.getTotalTimeMillis());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è€—æ—¶ï¼š4063ms</p><p>æ§åˆ¶å°æ˜¾ç¤ºå¦‚ä¸‹å›¾ï¼š</p><p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnrqrt6ngfj31kw0ul47b.jpg" alt="Snip20180124_12"></p><p>8ã€<strong>æ³¨æ„</strong></p><p>è¿™é‡Œæµ‹è¯•å‘é€çš„æ¶ˆæ¯ç›´æ¥æ˜¯ String ç±»å‹çš„ï¼Œä½ ä¹Ÿå¯ä»¥æµ‹è¯•ä¸‹ Bean ç±»ï¼Œè¿™éœ€è¦æ³¨æ„éœ€è¦åºåˆ—åŒ–ã€‚</p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è½¬è½½è¯·åŠ¡å¿…æ³¨æ˜åŸåˆ›åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/26/SpringBoot-RabbitMQ/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ohfk1r827.bkt.clouddn.com/blog/180107/6DFKcmCgC7.png-1&quot; alt=&quot;mark&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;ä¸Šæ¬¡å†™äº†ç¯‡æ–‡ç« ï¼Œ&lt;a href=&quot;http://www.54tianzhisheng.cn/2018/01/05/SpringBoot-Kafka/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ã€ŠSpringBoot Kafka æ•´åˆä½¿ç”¨ã€‹&lt;/a&gt;ï¼Œé˜…è¯»é‡è¿˜æŒºé«˜çš„ï¼Œäºæ˜¯æƒ³æƒ³è¿˜æ˜¯æŠŠå…¶ä»–å‡ ç§ MQ ä¹Ÿå’Œ SpringBoot æ•´åˆä½¿ç”¨ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="RabbitMQ" scheme="http://yoursite.com/tags/RabbitMQ/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Dockerç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šMac å®‰è£… Docker åŠå¸¸ç”¨å‘½ä»¤</title>
    <link href="http://yoursite.com/2018/01/25/Docker-install/"/>
    <id>http://yoursite.com/2018/01/25/Docker-install/</id>
    <published>2018-01-24T16:00:00.000Z</published>
    <updated>2018-03-24T02:30:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/mALkf4CKA2.png-1" alt="mark"></p><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å¾®æœåŠ¡ + å®¹å™¨ï¼Œå®Œç¾çš„ä¸€å¯¹ï¼å¿…é¡»å¾—å¥½å¥½å­¦ä¹ å­¦ä¹ ã€‚</p><a id="more"></a><h3 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h3><p>Mac ä¸‹ Docker çš„å®‰è£…çœŸå¿ƒå»ºè®®è·Ÿç€å®˜æ–¹çš„æ–‡æ¡£èµ°ä¸€éï¼Œå®˜ç½‘å·²ç»è®²çš„å¾ˆè¯¦ç»†äº†ã€‚</p><p><a href="https://docs.docker.com/docker-for-mac/install/#what-to-know-before-you-install" target="_blank" rel="noopener">https://docs.docker.com/docker-for-mac/install/#what-to-know-before-you-install</a></p><h3 id="ä½¿ç”¨-Docker-for-Mac"><a href="#ä½¿ç”¨-Docker-for-Mac" class="headerlink" title="ä½¿ç”¨ Docker for Mac"></a>ä½¿ç”¨ Docker for Mac</h3><p><a href="https://docs.docker.com/docker-for-mac/#check-versions-of-docker-engine-compose-and-machine" target="_blank" rel="noopener">https://docs.docker.com/docker-for-mac/#check-versions-of-docker-engine-compose-and-machine</a></p><h3 id="é…ç½®-Docker-åŠ é€Ÿå™¨"><a href="#é…ç½®-Docker-åŠ é€Ÿå™¨" class="headerlink" title="é…ç½® Docker åŠ é€Ÿå™¨"></a>é…ç½® Docker åŠ é€Ÿå™¨</h3><p>Docker åŠ é€Ÿå™¨æ˜¯ä»€ä¹ˆï¼Œæˆ‘éœ€è¦ä½¿ç”¨å—ï¼Ÿ</p><p>ä½¿ç”¨ Docker çš„æ—¶å€™ï¼Œéœ€è¦ç»å¸¸ä»å®˜æ–¹è·å–é•œåƒï¼Œä½†æ˜¯ç”±äºæ˜¾è€Œæ˜“è§çš„ç½‘ç»œåŸå› ï¼Œæ‹‰å–é•œåƒçš„è¿‡ç¨‹éå¸¸è€—æ—¶ï¼Œä¸¥é‡å½±å“ä½¿ç”¨ Docker çš„ä½“éªŒã€‚å› æ­¤ DaoCloud æ¨å‡ºäº†åŠ é€Ÿå™¨å·¥å…·è§£å†³è¿™ä¸ªéš¾é¢˜ï¼Œé€šè¿‡æ™ºèƒ½è·¯ç”±å’Œç¼“å­˜æœºåˆ¶ï¼Œæå¤§æå‡äº†å›½å†…ç½‘ç»œè®¿é—® Docker Hub çš„é€Ÿåº¦ï¼Œç›®å‰å·²ç»æ‹¥æœ‰äº†å¹¿æ³›çš„ç”¨æˆ·ç¾¤ä½“ï¼Œå¹¶å¾—åˆ°äº† Docker å®˜æ–¹çš„å¤§åŠ›æ¨èã€‚å¦‚æœæ‚¨æ˜¯åœ¨å›½å†…çš„ç½‘ç»œç¯å¢ƒä½¿ç”¨ Dockerï¼Œé‚£ä¹ˆ Docker åŠ é€Ÿå™¨ä¸€å®šèƒ½å¸®åŠ©åˆ°æ‚¨ã€‚</p><p>æ³¨å†Œ <a href="">daocloud</a>ï¼Œç„¶ååœ¨ mac æ ‡ç­¾é¡µå¤åˆ¶åŠ é€Ÿå™¨ urlã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/5225109-54fdf15443d355fd.png?imageMogr2/auto-orient/" alt=""></p><p><img src="https://upload-images.jianshu.io/upload_images/5225109-8dd1076f952fda33.png?imageMogr2/auto-orient/" alt=""></p><h3 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h3><p>è·Ÿç€ä¸‹é¢çš„æ–‡ç« è¿›è¡Œæ•²ä¸€éï¼Œç†Ÿæ‚‰ä¸‹ Docker æ•´ä¸ªçš„ä½¿ç”¨ã€‚</p><p><a href="https://www.jianshu.com/p/cf6e7248b6c7" target="_blank" rel="noopener">https://www.jianshu.com/p/cf6e7248b6c7</a></p><h3 id="Docker-å¸¸ç”¨å‘½ä»¤"><a href="#Docker-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Docker å¸¸ç”¨å‘½ä»¤"></a>Docker å¸¸ç”¨å‘½ä»¤</h3><p>ä¸‹é¢åˆ—å‡ºäº›è‡ªå·±å¸¸ç”¨çš„å‘½ä»¤ï¼Œç›®çš„å°±æ˜¯è®°å½•ä¸‹æ¥ï¼Œä»¥åå¿˜è®°äº†ï¼Œå†æ‹¿æ¥è·Ÿç€æ•²å°±è¡Œï¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">docker run -i -t &lt;image_name/continar_id&gt; /bin/bash  å¯åŠ¨å®¹å™¨å¹¶å¯åŠ¨bashï¼ˆäº¤äº’æ–¹å¼ï¼‰</span><br><span class="line"></span><br><span class="line">docker run -d -it  image_name   å¯åŠ¨å®¹å™¨ä»¥åå°æ–¹å¼è¿è¡Œ(æ›´é€šç”¨çš„æ–¹å¼ï¼‰</span><br><span class="line"></span><br><span class="line">docker ps   åˆ—å‡ºå½“å‰æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„container</span><br><span class="line"></span><br><span class="line">docker ps -a  åˆ—å‡ºæ‰€æœ‰çš„container</span><br><span class="line"></span><br><span class="line">docker ps -l   åˆ—å‡ºæœ€è¿‘ä¸€æ¬¡å¯åŠ¨çš„container</span><br><span class="line"></span><br><span class="line">docker images  åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒ</span><br><span class="line"></span><br><span class="line">docker rmi imagesID   åˆ é™¤æŒ‡å®šçš„é•œåƒid</span><br><span class="line"></span><br><span class="line">docker rm CONTAINER ID   åˆ é™¤æŒ‡å®šçš„CONTAINER id</span><br><span class="line"></span><br><span class="line">docker diff é•œåƒå    æŸ¥çœ‹å®¹å™¨çš„ä¿®æ”¹éƒ¨åˆ†</span><br><span class="line"></span><br><span class="line">docker kill CONTAINER ID   æ€æ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line"></span><br><span class="line">docker logs å®¹å™¨ID/name   å¯ä»¥æŸ¥çœ‹åˆ°å®¹å™¨ä¸»ç¨‹åºçš„è¾“å‡º</span><br><span class="line"></span><br><span class="line">docker pull image_name    ä¸‹è½½image</span><br><span class="line"></span><br><span class="line">docker push image_name   å‘å¸ƒdockeré•œåƒ</span><br><span class="line"></span><br><span class="line">docker version   æŸ¥çœ‹dockerç‰ˆæœ¬</span><br><span class="line"></span><br><span class="line">docker info   æŸ¥çœ‹dockerç³»ç»Ÿçš„ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">docker inspect å®¹å™¨çš„id å¯ä»¥æŸ¥çœ‹æ›´è¯¦ç»†çš„å…³äºæŸä¸€ä¸ªå®¹å™¨çš„ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">docker run -d  image-name   åå°è¿è¡Œé•œåƒ</span><br><span class="line"></span><br><span class="line">docker search é•œåƒå    æŸ¥æ‰¾å…¬å…±çš„å¯ç”¨é•œåƒ</span><br><span class="line"></span><br><span class="line">docker stop å®¹å™¨å/å®¹å™¨ ID      ç»ˆæ­¢è¿è¡Œçš„å®¹å™¨</span><br><span class="line"></span><br><span class="line">docker restart å®¹å™¨å/å®¹å™¨ ID    é‡å¯å®¹å™¨</span><br><span class="line"></span><br><span class="line">docker commit  æäº¤ï¼Œåˆ›å»ºä¸ªæ–°é•œåƒ</span><br><span class="line"></span><br><span class="line">docker build [OPTIONS] PATH | URL | -   åˆ©ç”¨ Dockerfile åˆ›å»ºæ–°é•œåƒ</span><br></pre></td></tr></table></figure><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è½¬è½½è¯·æ³¨æ˜åœ°å€ï¼š<a href="http://www.54tianzhisheng.cn/2018/01/25/Docker-install/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/25/Docker-install/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ohfk1r827.bkt.clouddn.com/blog/180107/mALkf4CKA2.png-1&quot; alt=&quot;mark&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;&lt;p&gt;å¾®æœåŠ¡ + å®¹å™¨ï¼Œå®Œç¾çš„ä¸€å¯¹ï¼å¿…é¡»å¾—å¥½å¥½å­¦ä¹ å­¦ä¹ ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Docker" scheme="http://yoursite.com/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>MacBook Pro åˆä½“éªŒ</title>
    <link href="http://yoursite.com/2018/01/24/mac/"/>
    <id>http://yoursite.com/2018/01/24/mac/</id>
    <published>2018-01-23T16:00:00.000Z</published>
    <updated>2018-03-06T16:15:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/kFhlh5gA23.png-1" alt="mark"></p><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><a id="more"></a><p>åœ¨ Mac åˆ°æ‰‹ä¹‹å‰å°±åœ¨å„ç§ç¾¤é‡Œçœ‹åˆ°äººè¯´ Mac å¤šå¥½ç”¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººé¼“å¹è¿‡ Mac çš„å¥½å¤„ï¼Œæœ€åä¹Ÿåšå®šæˆ‘çš„å¹´å‰ç›®æ ‡äº† â€”â€” å°±æ˜¯ä¹°å° Macï¼Œä¹‹å‰è¯·åŸè°…æˆ‘è¿™ä¸ªç©·é¬¼ï¼Œä¹°ä¸èµ·ï¼Œç°åœ¨ä¹°äº† Mac åæ›´åŠ å¾—ä½“è°…æˆ‘è¿™ä¸ªç©·é¬¼äº†ï¼Œæ¯•ç«Ÿåœ¨ä¸Šæµ·è¿™ä¸ªåŸå¸‚ï¼Œé ç€å®ä¹ å·¥èµ„ä¹°è¿™ç§å¥¢ä¾ˆå“ï¼Œä¸å®¹æ˜“å•ŠğŸ˜„ ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œå¦‚æœæ„¿æ„æ”¯æŒæˆ‘çš„ï¼Œè¯·åœ¨æ–‡ç« åº•éƒ¨æ‰«æäºŒç»´ç ï¼Œåœ¨æ­¤å…ˆè°¢è°¢äº†ã€‚</p><h3 id="å¦‚ä½•æŒ‘é€‰ï¼Ÿ"><a href="#å¦‚ä½•æŒ‘é€‰ï¼Ÿ" class="headerlink" title="å¦‚ä½•æŒ‘é€‰ï¼Ÿ"></a>å¦‚ä½•æŒ‘é€‰ï¼Ÿ</h3><p>MacBook ä¸»è¦åˆ†ä¸¤ç³»åˆ—ï¼šMacBook Air å’Œ MacBook Proã€‚</p><p>Air çš„è¯ä¸ªäººæ„Ÿè§‰é…ç½®ä¸é«˜ï¼Œå¦‚æœæ˜¯å¼€å‘è¿˜æ˜¯å»ºè®®ä¹° Pro ç³»åˆ—çš„ã€‚å¦‚ä»Šä¹°çš„è¯ï¼Œå¯èƒ½è¿˜ä¼šåˆ† 2015 æ¬¾ã€2016 æ¬¾ã€2017 æ¬¾ã€‚æ¯æ¬¾ä¸­åˆåˆ† å†…å­˜å¤§å°ï¼ˆ8/16gï¼‰ã€ç¡¬ç›˜å¤§å°ï¼ˆ128/256/512gï¼‰ã€CPUã€å¤„ç†å™¨ï¼ˆi5/i7ï¼‰ã€æ˜¯å¦æœ‰TouchBarã€æ˜¾å¡ç­‰ã€‚ä¸åŒé…ç½®å¯¹åº”ç”µè„‘çš„å‹å·ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸‹é¢ç›´æ¥ä¸Šä¸€å¼ åœ¨æˆ‘çš„ç‰¹æ®Šæ¸ é“é‡Œçš„æŠ¥ä»·è¡¨æˆªå›¾å§ã€‚ï¼ˆæƒ³äº†è§£çš„å¯ä»¥æ‰¾æˆ‘ï¼‰</p><p><img src="http://ohfk1r827.bkt.clouddn.com/mac-1.jpg-1" alt="mac-1"></p><p>å…‰è¿™å‹å·ï¼Œä¸æ‡‚çš„äººè¿˜çœŸä¸ä¼šæŒ‘ã€‚</p><p>ä¸å¾—ä¸è¯´ï¼Œè‹¹æœç”µè„‘çœŸå°¼ç›éš¾æŒ‘å•Šï¼Œå¦‚æœä½ æ˜¯åœŸè±ªï¼Œé‚£ä¸ç”¨æŒ‘äº†ï¼Œç›´æ¥ä¸Šæœ€é«˜ä»·é’±çš„å§ã€‚</p><p>ç„¶åå¯ä»¥ä»é…ç½®ä¸­å‘ç° 2016 æ¬¾å’Œ 2017 æ¬¾å˜åŒ–çœŸå¿ƒä¸å¤§ï¼Œåœ¨åŒç­‰é…ç½®ä¸‹ï¼Œ2017 æ¬¾å‡ ä¹æ¯” 2016 æ¬¾ä»·æ ¼é«˜ä¸ª 3000 æ¥å—ã€‚</p><p>ç„¶åå°±æ˜¯ 512 G ç¡¬ç›˜æ¯” 256 G ä¹Ÿå‡ ä¹è´µä¸ª 2000 å¤šã€‚</p><p>16G é‚£æ˜¯å¿…é¡»çš„ä¸Šå•Šï¼Œæ ‡é…äº†ï¼Œ8G å°±ä¸è¯´äº†ï¼Œå¤ªå°äº†ã€‚</p><p>å« TouchBarï¼Œè™½ç„¶ç¡®å®ç”¨å¤„ä¸å¤§ï¼Œä¸è¿‡è°ƒéŸ³ä¸¤è¿˜æ˜¯ä¸é”™çš„ã€‚é«˜é…éƒ½æœ‰ TouchBar çš„ã€‚</p><p>å‡ºäº <strong>qiong</strong> ï¼Œæˆ‘ä¹°äº† 2016 æ¬¾ï¼Œé…ç½®æ˜¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/mac-2.jpg-1" alt="mac-2"></p><p>ä¸è¿‡ç°åœ¨ 2016 æ¬¾å¥½åƒåœäº§äº†ã€‚</p><h3 id="åˆ°æ‰‹"><a href="#åˆ°æ‰‹" class="headerlink" title="åˆ°æ‰‹"></a>åˆ°æ‰‹</h3><p>2018.01.11 ä¸‹åˆå…­ç‚¹å¿«é€’é€åˆ°çš„ï¼Œå¾ˆå¼€å¿ƒã€‚æ™šä¸Šæ‹¿å›å®¶æ‹†ç®±ï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯æ£€æŸ¥åºåˆ—å·å•Šï¼Œä¸Šé¢çš„å›¾ç‰‡æ‰“ç æ‰çš„å°±æ˜¯åºåˆ—å·ï¼Œè¿™ä¸ªåºåˆ—å·åœ¨ç”µè„‘æœºèº«ã€ç³»ç»Ÿã€å¤–ç‰›çš®ç™£ç›’éƒ½æœ‰çš„ï¼Œå¯ä»¥åœ¨å®˜ç½‘æŸ¥è¯¢è¿™ä¸ªåºåˆ—å·ï¼Œè·å¾—ç”µè„‘çš„æ¿€æ´»æ—¥æœŸå’Œå‰©ä½™ä¿ä¿®æ—¶é—´çš„ã€‚å†å°±æ˜¯æŸ¥è¯¢ç”µè„‘çš„ç”µæ± å¾ªç¯æ¬¡æ•°äº†ï¼Œæˆ‘çš„æ˜¯ä¸€æ¬¡ï¼Œä¸€èˆ¬å¥½åƒæ˜¯å‡ æ¬¡ä¹‹å†…éƒ½æ˜¯ç¬¦åˆçš„ã€‚è¯æ˜ä¹‹å‰æ²¡è¢«åˆ«äººç”¨è¿‡ï¼Œè¿™ä¸ªæ•°å­—æˆ‘ä¹Ÿå¿˜è®°äº†ã€‚</p><h3 id="ç†Ÿæ‚‰ç³»ç»Ÿ"><a href="#ç†Ÿæ‚‰ç³»ç»Ÿ" class="headerlink" title="ç†Ÿæ‚‰ç³»ç»Ÿ"></a>ç†Ÿæ‚‰ç³»ç»Ÿ</h3><p>Mac ç³»ç»Ÿæ˜¯ç±» Unix ç³»ç»Ÿï¼Œå…¶å®æˆ‘è§‰å¾—åˆ°å’Œ Ubuntu ç³»ç»ŸæŒºåƒçš„ï¼Œæ—¢æœ‰å›¾å½¢åŒ–ç•Œé¢ï¼Œä¹Ÿå¯ä»¥å‘½ä»¤è¡Œæ“ä½œã€‚ç†Ÿæ‚‰è¿‡ Linux çš„åº”è¯¥ä¸Šæ‰‹å¾ˆå¿«çš„ã€‚</p><h3 id="å®‰è£…è½¯ä»¶"><a href="#å®‰è£…è½¯ä»¶" class="headerlink" title="å®‰è£…è½¯ä»¶"></a>å®‰è£…è½¯ä»¶</h3><p>å¯ä»¥åœ¨ Appstore é‡Œé¢ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€äº›è½¯ä»¶çš„å®˜ç½‘ç›´æ¥ä¸‹è½½ mac ç‰ˆçš„ã€‚å®‰è£…ä¹ŸæŒºç®€å•çš„ã€‚å¦‚æœä½ ä¸çŸ¥é“æœ‰ä»€ä¹ˆè½¯ä»¶å¯ä»¥å®‰è£…ï¼Œé‚£ä¹ˆæˆ‘è¿™é‡Œç»™ä½ ä»½ Mac è½¯ä»¶å‚è€ƒåˆ—è¡¨ï¼š<a href="https://github.com/jaywcjlove/awesome-mac/blob/master/README-zh.md" target="_blank" rel="noopener">https://github.com/jaywcjlove/awesome-mac/blob/master/README-zh.md</a></p><p>å½“ç„¶äº†ï¼Œä¸Šé¢çš„ä¸ä¸€å®šå…¨ï¼Œå…·ä½“ç”¨åˆ°å…¶ä»–çš„è¿˜æ˜¯çš„è‡ªå·±å»æ‰¾å¯¹åº”çš„è½¯ä»¶ã€‚</p><p>è¿˜æœ‰å°±æ˜¯å¥½å¤šè½¯ä»¶æ˜¯æ”¶è´¹çš„ï¼Œåœ¨ Mac ä¸Šå¦‚æœè¦ä¸‹è½½çš„è¯ï¼Œè¿˜çš„è´¹ç‚¹å¿ƒæ€å»ç ´è§£ï¼Œæ¯”å¦‚ Officeã€IDEAã€Adobe ç³»åˆ—ç­‰ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯é¼“å¹å¤§å®¶å»ç ´è§£ï¼Œæˆ‘ä»¬è‡ªå·±ç”¨ç”¨å°±è¡Œï¼Œè™½è¯´ç°åœ¨æ²¡é’±æ”¯æŒï¼Œä½†æ˜¯æœ‰é’±çš„è¯è¿˜æ˜¯æ”¯æŒä¸‹ã€‚æˆ‘ä¸€ä¸ªå†™åšå®¢çš„çŸ¥é“å†™åšå®¢çš„ä¸å®¹æ˜“ï¼Œé‚£å†™è½¯ä»¶çš„æ›´ä¸å®¹æ˜“äº†ï¼Œèƒ½æ”¯æŒä¸€ä¸¤å—ä¹ŸæŒºå¥½çš„ã€‚</p><p>ç„¶åå°±æ˜¯ç¾åŒ–ä¸‹æˆ‘ä»¬çš„ä¸€äº›è½¯ä»¶ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ç»ˆç«¯ä¹‹ç±»çš„ã€å°½é‡ä½¿ç”¨ Homebrew å®‰è£…è½¯ä»¶ã€‚å½“ç„¶è¿™ç¯‡æ–‡ç« ä¸ä¼šå†™è¿™äº›çš„ï¼Œæ”¹å¤©ä¸“é—¨å†™ç¯‡æ–‡ç« å†™è¿™ä¸ªè¯é¢˜ã€‚</p><p>è¿˜æœ‰å°±æ˜¯åœ¨ Mac ä¸Šä»æ–°æ‰“é€ ä¸€ä¸ªé€‚åˆè‡ªå·±çš„æ–°å†™ä½œç¯å¢ƒï¼ˆè½¯ä»¶ã€Hexo å†™åšå®¢ç¯å¢ƒï¼‰ã€‚</p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>ä½“éªŒäº† Mac ä¹Ÿæœ‰ä¸€ä¸ªå¤šç¤¼æ‹œäº†ï¼Œæ•´ä½“æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œæ¯•ç«ŸèŠ±äº†å·¨èµ„å‘¢ï¼Œä¹Ÿç®—æ˜¯å®Œæˆäº†è‡ªå·±å¹´å‰çš„å°ç›®æ ‡ã€‚å…ˆ bb åˆ°è¿™é‡Œå§ã€‚æœ‰æ—¶é—´å†å†™ç‚¹å…³äº Mac ä¸Šçš„ä¸œè¥¿ï¼Œè¿™æ¬¡å†™çš„æ¯”è¾ƒç®€å•ï¼Œè¿™ç¯‡æ–‡ç« ä¹Ÿæ˜¯åœ¨ Mac ä¸Šå†™çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚</p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ohfk1r827.bkt.clouddn.com/blog/180107/kFhlh5gA23.png-1&quot; alt=&quot;mark&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;èƒŒæ™¯&quot;&gt;&lt;a href=&quot;#èƒŒæ™¯&quot; class=&quot;headerlink&quot; title=&quot;èƒŒæ™¯&quot;&gt;&lt;/a&gt;èƒŒæ™¯&lt;/h3&gt;
    
    </summary>
    
    
      <category term="Mac" scheme="http://yoursite.com/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>Spring Bootç³»åˆ—æ–‡ç« ï¼ˆäºŒï¼‰ï¼šSpringBoot Admin ä½¿ç”¨æŒ‡å—</title>
    <link href="http://yoursite.com/2018/01/17/SpringBoot-Admin/"/>
    <id>http://yoursite.com/2018/01/17/SpringBoot-Admin/</id>
    <published>2018-01-16T16:00:00.000Z</published>
    <updated>2018-03-24T02:33:14.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/m1b2jfCc9I.png-1" alt="mark"></p><h3 id="ä»€ä¹ˆæ˜¯-SpringBoot-Adminï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-SpringBoot-Adminï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ SpringBoot Adminï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ SpringBoot Adminï¼Ÿ</h3><p>Spring Boot Admin æ˜¯ä¸€ä¸ªç®¡ç†å’Œç›‘æ§ä½ çš„ Spring Boot åº”ç”¨ç¨‹åºçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›åº”ç”¨ç¨‹åºé€šè¿‡ Spring Boot Admin Clientï¼ˆé€šè¿‡ HTTPï¼‰æ³¨å†Œæˆ–è€…ä½¿ç”¨ Spring Cloudï¼ˆä¾‹å¦‚ Eurekaï¼‰å‘ç°ã€‚ UIåªæ˜¯ Spring Boot Actuator ç«¯ç‚¹ä¸Šçš„ä¸€ä¸ª AngularJs åº”ç”¨ç¨‹åºã€‚<br><a id="more"></a></p><h3 id="å¿«é€Ÿå¼€å§‹"><a href="#å¿«é€Ÿå¼€å§‹" class="headerlink" title="å¿«é€Ÿå¼€å§‹"></a>å¿«é€Ÿå¼€å§‹</h3><p>é¦–å…ˆåœ¨ IDEA åˆ›å»ºä¸€ä¸ª SpringBoot é¡¹ç›®ï¼ŒæŠŠå®ƒå½“ä½œ server ç«¯ï¼Œå·¥ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/hIKaIkCE8a.png-1" alt="mark"></p><p>ç„¶ååœ¨ pom.xml ä¸­å¼•å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-server-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»§ç»­åœ¨å¯åŠ¨ç±» SpringbootAdminApplication.java ä¸­å¼•å…¥æ³¨è§£ <strong>@EnableAdminServer</strong> ï¼Œç„¶åè¿è¡Œé¡¹ç›®ï¼š</p><p>è®¿é—® <a href="http://localhost:8084/" target="_blank" rel="noopener">http://localhost:8084/</a>  å³å¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/C55mBbf8LH.png-1" alt="mark"></p><p>æ­¤æ—¶ä¼šå‘ç°æ²¡æœ‰ä»»ä½•åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ–°å»ºä¸€ä¸ª SpringBoot é¡¹ç›®ï¼ŒæŠŠå®ƒå½“ä½œå®¢æˆ·ç«¯ç¨‹åºï¼Œå·¥ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/9EGaFH3Gb7.png-1" alt="mark"></p><p>åœ¨ pom.xml ä¸­æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-starter-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ application.yml ä¸­è®¾ç½®ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/3AL0J6I16b.png-1" alt="mark"></p><p>spring.boot.admin.url=http:localhost:8094 ç”¨äºå°†å½“å‰åº”ç”¨æ³¨å†Œåˆ° Spring Boot Adminã€‚</p><p>è¿˜å¯ä»¥è®¾ç½®ï¼Œspring.boot.admin.client.name: ï¼ˆåº”ç”¨ç¨‹åºçš„åå­—ï¼‰ä¸è®¾ç½®çš„è¯ä¼šæœ‰é»˜è®¤çš„åå­—</p><p>æ­¤æ—¶æŠŠä¸¤ä¸ªé¡¹ç›®è¿è¡Œèµ·æ¥ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/IGEBDm4eJ7.png-1" alt="mark"></p><p>ç‚¹å‡»å›¾ä¸­çš„ <strong>detail</strong> æŒ‰é’®ï¼šå¯ä»¥çœ‹åˆ°åº”ç”¨ç¨‹åºçš„å¥åº·å€¼ã€å†…å­˜ã€JVMã€GC ç­‰ä¿¡æ¯ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/GJBjGF512G.png-1" alt="mark"></p><p><strong>metrics</strong> ä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/gdbj21Fk19.png-1" alt="mark"></p><p><strong>ç¯å¢ƒ</strong> ä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/eglbcgE9C5.png-1" alt="mark"></p><p><strong>log</strong> ä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/IkeJkaEGcI.png-1" alt="mark"></p><p><strong>JMX</strong> ä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/e3Ei3l6ieF.png-1" alt="mark"></p><p><strong>çº¿ç¨‹</strong> ä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/ClFekkJKB8.png-1" alt="mark"></p><p><strong>Trace</strong> è¿½è¸ªä¿¡æ¯ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/J6m9b43F8d.png-1" alt="mark"></p><p>è¿˜å¯ä»¥ä¸‹è½½ Heapdump æ–‡ä»¶ã€‚</p><p>åˆšæ‰é¦–é¡µçš„åº”ç”¨åˆ—è¡¨åé¢æœ‰ä¸ªçº¢è‰²çš„ Ã—ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ³¨å†Œä¸Šå»çš„åº”ç”¨ç§»é™¤ï¼Œä½†æ˜¯åªè¦ä½ ä¸æŠŠç¨‹åºåœæ‰ï¼Œå®ƒç«‹é©¬åˆä¼šæ³¨å†Œä¸Šå»ã€‚</p><p>è¿˜æœ‰å°±æ˜¯åº”ç”¨åˆ—è¡¨çš„ version å’Œ info ä¸Šé¢çš„å›¾ä¸­ä¸ºç©ºï¼Œä¸‹é¢çœ‹çœ‹æ€ä¹ˆæŠŠå®ƒå˜å‡ºæ¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">info.groupId: @project.groupId@</span><br><span class="line">info.artifactId: @project.artifactId@</span><br><span class="line">info.version: @project.version@</span><br></pre></td></tr></table></figure><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/3E5hlG7heJ.png-1" alt="mark"></p><p>é‡æ–°è¿è¡Œå®¢æˆ·ç«¯ç¨‹åºï¼Œåˆ·æ–°é¡µé¢å¯ä»¥å‘ç°ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/A0FBLLK9LE.png-1" alt="mark"></p><p>è¿˜å¯ä»¥æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„äº‹ä»¶å˜åŒ–ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/E9LfBJGaB3.png-1" alt="mark"></p><h3 id="å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº"><a href="#å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº" class="headerlink" title="å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº"></a>å®¢æˆ·ç«¯åº”ç”¨ç¨‹åº</h3><h4 id="JMX-beanç®¡ç†"><a href="#JMX-beanç®¡ç†" class="headerlink" title="JMX beanç®¡ç†"></a>JMX beanç®¡ç†</h4><p>è¦åœ¨ç®¡ç†ç•Œé¢ä¸­ä¸JMX-beansè¿›è¡Œäº¤äº’ï¼Œæ‚¨å¿…é¡»åœ¨å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºä¸­åŒ…å« Jolokia,</p><p>pom.xml åŠ å…¥ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.jolokia<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jolokia-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‡å¯å®¢æˆ·ç«¯ç¨‹åºåï¼Œå°±å¯ä»¥åœ¨è¿™é‡Œä¸ JMX åšäº¤äº’äº†ï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180117/g82cD16kBf.png-1" alt="mark"></p><p>è¿˜æœ‰å¾ˆå¤š SpringBoot Admin å®¢æˆ·ç«¯é…ç½®é€‰é¡¹ï¼š</p><p><a href="http://codecentric.github.io/spring-boot-admin/1.5.6/#spring-boot-admin-client" target="_blank" rel="noopener">http://codecentric.github.io/spring-boot-admin/1.5.6/#spring-boot-admin-client</a></p><h3 id="æœåŠ¡ç«¯ç¨‹åº"><a href="#æœåŠ¡ç«¯ç¨‹åº" class="headerlink" title="æœåŠ¡ç«¯ç¨‹åº"></a>æœåŠ¡ç«¯ç¨‹åº</h3><p>ä¹Ÿæœ‰äº› SpringBoot Admin æœåŠ¡ç«¯ç¨‹åºé…ç½®é€‰é¡¹ï¼š</p><p><a href="http://codecentric.github.io/spring-boot-admin/1.5.6/#spring-boot-admin-server" target="_blank" rel="noopener">http://codecentric.github.io/spring-boot-admin/1.5.6/#spring-boot-admin-server</a></p><p>å®˜æ–¹æ–‡æ¡£é‡Œé¢è¿˜æœ‰äº›å…³äºæœåŠ¡ä¸‹çº¿æ¶ˆæ¯é€šçŸ¥çš„çŸ¥è¯†ï¼Œæƒ³äº†è§£çš„å¯ä»¥æŸ¥çœ‹ï¼š</p><p><a href="http://codecentric.github.io/spring-boot-admin/1.5.6/#_notifications" target="_blank" rel="noopener">http://codecentric.github.io/spring-boot-admin/1.5.6/#_notifications</a></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><p><a href="">http://codecentric.github.io/spring-boot-admin/1.5.6/</a></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è½¬è½½è¯·æ³¨æ˜æ–‡ç« åŸå§‹åœ°å€ä¸ºï¼š<a href="http://www.54tianzhisheng.cn/2018/01/17/SpringBoot-Admin/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/17/SpringBoot-Admin/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ohfk1r827.bkt.clouddn.com/blog/180107/m1b2jfCc9I.png-1&quot; alt=&quot;mark&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;ä»€ä¹ˆæ˜¯-SpringBoot-Adminï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯-SpringBoot-Adminï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ SpringBoot Adminï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ SpringBoot Adminï¼Ÿ&lt;/h3&gt;&lt;p&gt;Spring Boot Admin æ˜¯ä¸€ä¸ªç®¡ç†å’Œç›‘æ§ä½ çš„ Spring Boot åº”ç”¨ç¨‹åºçš„åº”ç”¨ç¨‹åºã€‚ è¿™äº›åº”ç”¨ç¨‹åºé€šè¿‡ Spring Boot Admin Clientï¼ˆé€šè¿‡ HTTPï¼‰æ³¨å†Œæˆ–è€…ä½¿ç”¨ Spring Cloudï¼ˆä¾‹å¦‚ Eurekaï¼‰å‘ç°ã€‚ UIåªæ˜¯ Spring Boot Actuator ç«¯ç‚¹ä¸Šçš„ä¸€ä¸ª AngularJs åº”ç”¨ç¨‹åºã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="SpringBoot" scheme="http://yoursite.com/tags/SpringBoot/"/>
    
  </entry>
  
  <entry>
    <title>Lombok çœ‹è¿™ç¯‡å°±å¤Ÿäº†</title>
    <link href="http://yoursite.com/2018/01/09/lombok/"/>
    <id>http://yoursite.com/2018/01/09/lombok/</id>
    <published>2018-01-08T16:00:00.000Z</published>
    <updated>2018-03-06T16:15:35.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/7JfK07cCbh.png-1" alt="mark"></p><h3 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h3><p>è‡ªä»è¿›å…¬å¸å®ä¹ åï¼Œé¡¹ç›®ä»£ç ä¸­èƒ½ç”¨ Lombok çš„éƒ½ç”¨äº†ï¼Œæ¯•ç«Ÿè¿™ä¹ˆå¥½çš„è½®å­è¦å……åˆ†åˆ©ç”¨å¥½ã€‚ä¹Ÿå¯ä»¥å‡å°‘ä¸€äº› get/set/toString æ–¹æ³•çš„ç¼–å†™ï¼Œè™½è¯´ IDEA çš„æ’ä»¶å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ get/set/toString æ–¹æ³•ï¼Œä½†æ˜¯ä½¿ç”¨ Lombok å¯ä»¥è®©ä»£ç æ›´ç®€æ´ã€‚<br><a id="more"></a><br>ä¸‹é¢çœ‹çœ‹å¦‚ä½•åœ¨ IDEAã€€ä¸­å¦‚ä½•å®‰è£… Lombokï¼š</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>æ‰“å¼€ IDEA çš„ Settings é¢æ¿ï¼Œå¹¶é€‰æ‹© Plugins é€‰é¡¹ï¼Œç„¶åç‚¹å‡» â€œBrowse repositoriesâ€</p><p>åœ¨è¾“å…¥æ¡†è¾“å…¥â€lombokâ€ï¼Œå¾—åˆ°æœç´¢ç»“æœï¼Œç‚¹å‡»å®‰è£…ï¼Œç„¶åå®‰è£…æç¤ºé‡å¯ IDEAï¼Œå®‰è£…æˆåŠŸ;</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180106/C33FG37Gk4.png-1" alt="mark"></p><h3 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h3><p>åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œæ·»åŠ  lombok çš„ç¼–è¯‘æ”¯æŒï¼Œåœ¨ pom æ–‡ä»¶é‡Œé¢æ·»åŠ  dependency</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.16.18&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h3 id="æ€ä¹ˆä½¿ç”¨ï¼Ÿ"><a href="#æ€ä¹ˆä½¿ç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆä½¿ç”¨ï¼Ÿ"></a>æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h3><p>åœ¨å®ä½“ç±»ä¸Šå¼•å…¥ç›¸å…³çš„æ³¨è§£å°±è¡Œï¼š</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180106/aCEc8ileJg.png-1" alt="mark"></p><h3 id="æœ‰å“ªäº›æ³¨è§£ï¼Ÿ"><a href="#æœ‰å“ªäº›æ³¨è§£ï¼Ÿ" class="headerlink" title="æœ‰å“ªäº›æ³¨è§£ï¼Ÿ"></a>æœ‰å“ªäº›æ³¨è§£ï¼Ÿ</h3><ul><li>@Data</li><li>@Setter</li><li>@Getter</li><li>@Slf4j</li><li>@AllArgsConstructor</li><li>@NoArgsConstructor</li><li>@EqualsAndHashCode</li><li>@NonNull</li><li>@Cleanup</li><li>@ToString</li><li>@RequiredArgsConstructor</li><li>@Value</li><li>@SneakyThrows</li><li>@Synchronized</li></ul><h3 id="æ³¨è§£è¯¦è§£"><a href="#æ³¨è§£è¯¦è§£" class="headerlink" title="æ³¨è§£è¯¦è§£"></a>æ³¨è§£è¯¦è§£</h3><p><strong>@Data</strong></p><p>æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼›æä¾›ç±»æ‰€æœ‰å±æ€§çš„ get å’Œ set æ–¹æ³•ï¼Œæ­¤å¤–è¿˜æä¾›äº†equalsã€canEqualã€hashCodeã€toString æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/mHj1eak6fJ.png-1" alt="mark"></p><p><strong>@Setter</strong></p><p>æ³¨è§£åœ¨ <strong>å±æ€§</strong> ä¸Šï¼›ä¸ºå•ä¸ªå±æ€§æä¾› set æ–¹æ³•; æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼Œä¸ºè¯¥ç±»æ‰€æœ‰çš„å±æ€§æä¾› set æ–¹æ³•ï¼Œ éƒ½æä¾›é»˜è®¤æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/lkkff2b6Dc.png-1" alt="mark"></p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/J9mC8FGfc0.png-1" alt="mark"></p><p><strong>@Getter</strong></p><p>æ³¨è§£åœ¨ <strong>å±æ€§</strong> ä¸Šï¼›ä¸ºå•ä¸ªå±æ€§æä¾› get æ–¹æ³•; æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼Œä¸ºè¯¥ç±»æ‰€æœ‰çš„å±æ€§æä¾› get æ–¹æ³•ï¼Œéƒ½æä¾›é»˜è®¤æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/d0F5h97J5f.png-1" alt="mark"></p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/K0m81cFd6g.png-1" alt="mark"></p><p><strong>@Slf4j</strong></p><p>æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼›ä¸ºç±»æä¾›ä¸€ä¸ª å±æ€§åä¸º log çš„æ—¥å¿—å¯¹è±¡ï¼Œæä¾›é»˜è®¤æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/BChd89Cbh5.png-1" alt="mark"></p><p><strong>@AllArgsConstructor</strong></p><p>æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼›ä¸ºç±»æä¾›ä¸€ä¸ªå…¨å‚çš„æ„é€ æ–¹æ³•ï¼ŒåŠ äº†è¿™ä¸ªæ³¨è§£åï¼Œç±»ä¸­ä¸æä¾›é»˜è®¤æ„é€ æ–¹æ³•äº†ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/4iji9AJ0fE.png-1" alt="mark"></p><p><strong>@NoArgsConstructor</strong></p><p>æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Šï¼›ä¸ºç±»æä¾›ä¸€ä¸ªæ— å‚çš„æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180107/JcdfmhDAaB.png-1" alt="mark"></p><p><strong>@EqualsAndHashCode</strong></p><p>æ³¨è§£åœ¨ <strong>ç±»</strong> ä¸Š, å¯ä»¥ç”Ÿæˆ equalsã€canEqualã€hashCode æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/CKHe7EICGd.png-1" alt="mark"></p><p><strong>@NonNull</strong></p><p>æ³¨è§£åœ¨ <strong>å±æ€§</strong> ä¸Šï¼Œä¼šè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªå…³äºæ­¤å‚æ•°çš„éç©ºæ£€æŸ¥ï¼Œå¦‚æœå‚æ•°ä¸ºç©ºï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä¹Ÿä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„æ— å‚æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/g6Lh1eh1jm.png-1" alt="mark"></p><p><strong>@Cleanup</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>å˜é‡</strong> å‰é¢ï¼Œå¯ä»¥ä¿è¯æ­¤å˜é‡ä»£è¡¨çš„èµ„æºä¼šè¢«è‡ªåŠ¨å…³é—­ï¼Œé»˜è®¤æ˜¯è°ƒç”¨èµ„æºçš„ close() æ–¹æ³•ï¼Œå¦‚æœè¯¥èµ„æºæœ‰å…¶å®ƒå…³é—­æ–¹æ³•ï¼Œå¯ä½¿ç”¨ @Cleanup(â€œmethodNameâ€) æ¥æŒ‡å®šè¦è°ƒç”¨çš„æ–¹æ³•ï¼Œä¹Ÿä¼šç”Ÿæˆé»˜è®¤çš„æ„é€ æ–¹æ³•</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/Ba1bDkKb9J.png-1" alt="mark"></p><p><strong>@ToString</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>ç±»</strong> ä¸Šï¼Œå¯ä»¥ç”Ÿæˆæ‰€æœ‰å‚æ•°çš„ toString æ–¹æ³•ï¼Œè¿˜ä¼šç”Ÿæˆé»˜è®¤çš„æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/7LjglDeH8e.png-1" alt="mark"></p><p><strong>@RequiredArgsConstructor</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>ç±»</strong> ä¸Šï¼Œä½¿ç”¨ç±»ä¸­æ‰€æœ‰å¸¦æœ‰ @NonNull æ³¨è§£çš„æˆ–è€…å¸¦æœ‰ final ä¿®é¥°çš„æˆå‘˜å˜é‡ç”Ÿæˆå¯¹åº”çš„æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/CBgAF4ei8m.png-1" alt="mark"></p><p><strong>@Value</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>ç±»</strong> ä¸Šï¼Œä¼šç”Ÿæˆå«æ‰€æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œget æ–¹æ³•ï¼Œæ­¤å¤–è¿˜æä¾›äº†equalsã€hashCodeã€toString æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/b6KeAg0ABi.png-1" alt="mark"></p><p><strong>@SneakyThrows</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>æ–¹æ³•</strong> ä¸Šï¼Œå¯ä»¥å°†æ–¹æ³•ä¸­çš„ä»£ç ç”¨ try-catch è¯­å¥åŒ…è£¹èµ·æ¥ï¼Œæ•è·å¼‚å¸¸å¹¶åœ¨ catch ä¸­ç”¨ Lombok.sneakyThrow(e) æŠŠå¼‚å¸¸æŠ›å‡ºï¼Œå¯ä»¥ä½¿ç”¨ @SneakyThrows(Exception.class) çš„å½¢å¼æŒ‡å®šæŠ›å‡ºå“ªç§å¼‚å¸¸ï¼Œä¹Ÿä¼šç”Ÿæˆé»˜è®¤çš„æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/IfCKh1FGbh.png-1" alt="mark"></p><p><strong>@Synchronized</strong></p><p>è¿™ä¸ªæ³¨è§£ç”¨åœ¨ <strong>ç±»æ–¹æ³•</strong> æˆ–è€… <strong>å®ä¾‹æ–¹æ³•</strong> ä¸Šï¼Œæ•ˆæœå’Œ synchronized å…³é”®å­—ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºé”å¯¹è±¡ä¸åŒï¼Œå¯¹äºç±»æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼Œsynchronized å…³é”®å­—çš„é”å¯¹è±¡åˆ†åˆ«æ˜¯ç±»çš„ class å¯¹è±¡å’Œ this å¯¹è±¡ï¼Œè€Œ @Synchronized çš„é”å¯¹è±¡åˆ†åˆ«æ˜¯ ç§æœ‰é™æ€ final å¯¹è±¡ lock å’Œ ç§æœ‰ final å¯¹è±¡ lockï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šé”å¯¹è±¡ï¼Œæ­¤å¤–ä¹Ÿæä¾›é»˜è®¤çš„æ„é€ æ–¹æ³•ã€‚</p><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180108/L95jIc7eJi.png-1" alt="mark"></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä»¥ä¸Šæ³¨è§£å¯æ ¹æ®éœ€è¦ä¸€èµ·æ­é…ä½¿ç”¨ï¼</p><p><strong>è™½è¯´è½®å­å¥½ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ä»…è¦çŸ¥å…¶ç„¶ï¼Œä¹Ÿè¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼</strong></p><h3 id="å…³æ³¨æˆ‘"><a href="#å…³æ³¨æˆ‘" class="headerlink" title="å…³æ³¨æˆ‘"></a>å…³æ³¨æˆ‘</h3><p><img src="http://ohfk1r827.bkt.clouddn.com/blog/180103/C6LG3mGa12.jpg" alt="mark"></p><h3 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h3><p>è½¬è½½è¯·æ³¨æ˜åŸåˆ›åœ°å€ï¼š<a href="http://www.54tianzhisheng.cn/2018/01/07/lombok/" target="_blank" rel="noopener">http://www.54tianzhisheng.cn/2018/01/07/lombok/</a></p><p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fp3jkmizmpj30o00didgn.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ohfk1r827.bkt.clouddn.com/blog/180107/7JfK07cCbh.png-1&quot; alt=&quot;mark&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h3&gt;&lt;p&gt;è‡ªä»è¿›å…¬å¸å®ä¹ åï¼Œé¡¹ç›®ä»£ç ä¸­èƒ½ç”¨ Lombok çš„éƒ½ç”¨äº†ï¼Œæ¯•ç«Ÿè¿™ä¹ˆå¥½çš„è½®å­è¦å……åˆ†åˆ©ç”¨å¥½ã€‚ä¹Ÿå¯ä»¥å‡å°‘ä¸€äº› get/set/toString æ–¹æ³•çš„ç¼–å†™ï¼Œè™½è¯´ IDEA çš„æ’ä»¶å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ get/set/toString æ–¹æ³•ï¼Œä½†æ˜¯ä½¿ç”¨ Lombok å¯ä»¥è®©ä»£ç æ›´ç®€æ´ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="lombok" scheme="http://yoursite.com/tags/lombok/"/>
    
  </entry>
  
</feed>
